#include "dro_01.h"

s32 pad_0005D8[2];
s32 pad_003454[3];
s32 pad_003598[2];
s32 pad_003ABC[1];
Script N(script_80243BB0);
Script N(script_80243C30);
Script N(script_80243F84);
Script N(script_80244374);
Script N(script_80244450);
Script N(script_8024462C);
Script N(script_ExitWalk_80244960);
Script N(script_ExitWalk_802449CC);
Script N(script_80244A28);
Script N(script_80244A70);
Script N(script_EnterWalk_80244C14);
Script N(main);
s32 pad_005004[3];
Script N(script_NpcAI_80245040);
Script N(script_NpcAI_802450BC);
s32 unk_missing_8024518C[11];
s32 N(unk_802451B8)[1];
Script N(script_802451BC);
Script N(script_802451EC);
s32 N(quizAnswers)[16];
s32 N(quizRequirements)[20];
Script N(script_802452AC);
Script N(script_8024535C);
Script N(script_802454F8);
Script N(script_802455F4);
Script N(script_80245630);
Script N(script_802457E0);
Script N(script_80245918);
Script N(script_80245A84);
Script N(script_80245AB8);
Script N(script_80245AF8);
Script N(script_80245B34);
Script N(script_8024667C);
Script N(script_802466BC);
Script N(script_80246798);
Script N(script_80246848);
Script N(script_802468F8);
Script N(script_80247628);
Script N(script_8024769C);
Script N(script_8024771C);
Script N(script_80247768);
s32 unk_missing_802477B4[11];
s32 N(unk_802477E0)[1];
s32 N(unk_802477E4)[1];
Script N(script_802477E8);
Script N(script_8024792C);
Script N(script_8024797C);
Script N(script_802479FC);
Script N(script_80247D20);
Script N(script_80247D90);
s32 N(unk_80248088)[2];
Script N(script_80248090);
Script N(script_Interact_802480E0);
Script N(script_Init_802481F8);
Script N(script_Interact_8024821C);
Script N(script_Init_802483A8);
Script N(script_Interact_802483CC);
Script N(script_Init_802484E0);
Script N(script_80248504);
s32 N(unk_8024884C)[6];
Script N(script_Interact_80248864);
Script N(script_Init_80248AE4);
Script N(script_Interact_80248BA0);
Script N(script_Init_80248CC8);
s32 N(unk_80248D4C)[2];
Script N(script_Interact_80248D54);
Script N(script_Init_80249168);
Script N(script_Idle_8024918C);
Script N(script_Interact_80249750);
Script N(script_Init_8024981C);
Script N(script_Interact_80249854);
Script N(script_Init_802498C4);
Script N(script_Interact_802498E8);
Script N(script_Init_80249ABC);
Script N(script_Interact_80249AE0);
Script N(script_Init_80249B10);
StaticNpc N(npcGroup_80249B34)[10];
StaticNpc N(npcGroup_8024AE94)[3];
NpcGroupList N(npcGroupList_8024B464);
NpcGroupList N(npcGroupList_8024B47C);
s32 N(intTable_8024B4A0)[23];
s32 N(shopInventory_8024B4FC)[21];
s32 N(shopPriceList_8024B550)[24];
s32 N(unk_8024B5B0)[1];
Script N(script_8024B5B4);
Script N(script_8024B5E4);
Script N(script_8024B614);
Script N(script_8024B664);
Script N(script_8024B6B4);
Script N(script_8024B7B0);
Script N(script_8024B894);
s32 N(shopItemPositions_8024BA68)[6];
s32 N(shopOwnerNPC_8024BA80)[7];
s32 pad_00BA9C[1];
Script N(script_OpenDoor_8024BAA0);
Script N(script_MoveWalls_8024BAD0);
Script N(script_DropDoor_8024BBB8);
Script N(script_OpenDoor_8024BC24);
Script N(script_MoveWalls_8024BC54);
Script N(script_OpenDoor_8024BD9C);
Script N(script_DropDoor_8024BDCC);
Script N(script_MoveWalls_8024BE38);
Script N(script_ToggleVis_8024BFDC);
Script N(script_ToggleVis_8024C040);
Script N(script_ToggleVis_8024C190);
s32 N(npcList_8024C200)[2];
s32 N(npcList_8024C208)[2];
s32 N(npcList_8024C210)[2];
Script N(script_8024C218);
Script N(script_8024C2EC);
Script N(script_8024C41C);
Script N(script_8024C4C8);
s32 pad_00C574[3];
Script N(script_8024C580);
Script N(script_8024C8D4);
Script N(script_8024CCC4);
Script N(script_8024CDA0);
Script N(script_8024CF7C);
Script N(script_8024D2B0);
Script N(script_MakeEntities);
s32 pad_00D3BC[1];
Script N(script_SearchBush_8024D3C0);
Script N(script_ShakeTree_8024D720);
s32 N(treeDropList_Tree1)[8];
Script N(script_8024DD78);
const char D_8024DDD0_968FD0[8]; // "sbk_36"
const char D_8024DDD8_968FD8[8]; // "dro_02"
s32 pad_00DF94[1];
s32 pad_00DFAC[1];
const char D_8024DFB0_9691B0[8]; // "tik_01"
s32 pad_00DFB8[2];

// text: func_80240000_95B200

// text: func_80240020_95B220

// text: func_80240034_95B234

// text: func_802400F0_95B2F0

// text: func_802401D0_95B3D0

// text: func_8024023C_95B43C

// text: func_802402E0_95B4E0

// text: func_80240404_95B604

s32 pad_0005D8[] = {
    0x00000000, 0x00000000,
};

// text: func_802405E0_95B7E0

// text: func_80240738_95B938

// text: N(UnkNpcAIFunc1)

// text: func_80240AA0_95BCA0

// text: func_80240C5C_95BE5C

// text: N(NpcJumpFunc2)

// text: N(NpcJumpFunc)

// text: func_80240DFC_95BFFC

// text: func_80240F2C_95C12C

// text: N(UnkNpcDurationFlagFunc)

// text: func_802410B4_95C2B4

// text: func_80241174_95C374

// text: func_80241470_95C670

// text: func_80241524_95C724

// text: func_80241588_95C788

// text: func_8024159C_95C79C

// text: func_802415AC_95C7AC

// text: func_802417D0_95C9D0

// text: func_8024181C_95CA1C

// text: func_8024183C_95CA3C

// text: func_8024189C_95CA9C

// text: func_802419E8_95CBE8

// text: func_80241B5C_95CD5C

// text: func_80241BE0_95CDE0

// text: func_80241DF8_95CFF8

// text: func_80241EAC_95D0AC

// text: func_80241EE0_95D0E0

// text: func_80241F60_95D160

// text: func_80241F78_95D178

// text: func_80241F94_95D194

// text: func_80241FAC_95D1AC

// text: func_80241FDC_95D1DC

// text: func_80242050_95D250

// text: func_802420F0_95D2F0

// text: func_8024228C_95D48C

// text: func_802422F0_95D4F0

// text: func_80242380_95D580

// text: func_80242468_95D668

// text: func_802424D4_95D6D4

// text: func_80242504_95D704

// text: func_80242560_95D760

// text: func_80242730_95D930

// text: func_80242784_95D984

// text: func_802427BC_95D9BC

// text: func_80242858_95DA58

// text: func_80242D98_95DF98

// text: func_80242E88_95E088

// text: func_80243014_95E214

// text: func_80243058_95E258

// text: func_80243084_95E284

// text: func_8024309C_95E29C

// text: func_802430C8_95E2C8

// text: func_802431B4_95E3B4

// text: func_802431FC_95E3FC

// text: func_80243350_95E550

s32 pad_003454[] = {
    0x00000000, 0x00000000, 0x00000000,
};

// text: func_80243460_95E660

// text: func_80243514_95E714

// text: func_80243578_95E778

s32 pad_003598[] = {
    0x00000000, 0x00000000,
};

// text: func_802435A0_95E7A0

// text: func_802435C0_95E7C0

// text: func_802435D4_95E7D4

// text: func_80243690_95E890

// text: func_80243770_95E970

// text: func_802437DC_95E9DC

// text: func_80243880_95EA80

// text: func_802438F0_95EAF0

s32 pad_003ABC[] = {
    0x00000000,
};

EntryList N(entryList) = {
    { -342.0f, 0.0f, 316.0f, 45.0f },
    { 488.0f, 1.0f, 4.0f, 270.0f },
    { 430.0f, 35.0f, -120.0f, 180.0f },
    { 0.0f, 0.0f, 0.0f, 0.0f },
    { 0.0f, 0.0f, 0.0f, 0.0f },
    { 0.0f, 0.0f, 0.0f, 0.0f },
    { 0.0f, 0.0f, 0.0f, 0.0f },
    { 0.0f, 0.0f, 0.0f, 0.0f },
    { 0.0f, 0.0f, 0.0f, 0.0f },
    { 0.0f, 0.0f, 0.0f, 0.0f },
    { -211.0f, 50.0f, -50.0f, 120.0f },
};

MapConfig N(header) = {
    .main = N(main),
    .entryList = N(entryList),
    .entryCount = ENTRY_COUNT(N(entryList)),
    .background = &gBackgroundImage,
    .tattle = 0x190093,
};

// Unable to use DSL: unexpected SI_END_MULTI_CASE
// *INDENT-OFF*
Script N(script_80243BB0) = {
    SI_CMD(ScriptOpcode_CALL, GetEntryID, SI_VAR(0)),
    SI_CMD(ScriptOpcode_MATCH, SI_VAR(0)),
        SI_CMD(ScriptOpcode_CASE_MULTI_OR_EQ, 3),
        SI_CMD(ScriptOpcode_CASE_MULTI_OR_EQ, 4),
        SI_CMD(ScriptOpcode_END_CASE_MULTI),
        SI_CMD(ScriptOpcode_CASE_ELSE),
            SI_CMD(ScriptOpcode_CALL, SetMusicTrack, 0, 21, 0, 8),
        SI_CMD(ScriptOpcode_END_CASE_MULTI),
    SI_CMD(ScriptOpcode_END_MATCH),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

Script N(script_80243C30) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    DisablePartnerAI(0);
    HidePlayerShadow(1);
    SetPlayerAnimation(0x10000);
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        EnableNpcShadow(0xFFFFFFFC, 0);
        SetNpcPos(0xFFFFFFFC, 0, 0xFFFFFC18, 0);
    }
    GetEntryID(SI_VAR(0));
    func_802400F0_95B2F0();
    SI_VAR(2) -= 40;
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    InterpPlayerYaw(SI_VAR(4), 0);
    PlaySound(355);
    0x802D286C(256);
    0x802D2520(0x10000, 5, 2, 1, 1, 0);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    loop 40 {
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    sleep 3;
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        spawn {
            DisablePartnerAI(0);
            GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(2) -= 3;
            SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SetNpcFlagBits(0xFFFFFFFC, 2, 0);
            EnablePartnerAI();
            EnableNpcShadow(0xFFFFFFFC, 1);
        }
    }
    sleep 2;
    0x802D2520(0x10000, 0, 0, 0, 0, 0);
    sleep 1;
    SetPlayerAnimation(0x10002);
    DisablePlayerPhysics(0);
    DisablePlayerInput(0);
    HidePlayerShadow(0);
0:
    func_80240020_95B220();
    sleep 1;
    if (SI_VAR(0) != -1) {
        goto 0;
    }
    spawn 0xFE363C8A;
});

Script N(script_80243F84) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    ModifyColliderFlags(0, SI_VAR(11), 0x7FFFFE00);
    GetEntryID(SI_VAR(0));
    func_802400F0_95B2F0();
    SI_VAR(5) = SI_VAR(1);
    SI_VAR(6) = SI_VAR(2);
    SI_VAR(7) = SI_VAR(3);
    SI_VAR(2) += 2;
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    InterpPlayerYaw(SI_VAR(4), 0);
    if (SI_VAR(4) == 90) {
        SI_VAR(5) += 40;
    } else {
        SI_VAR(5) -= 40;
    }
    UseSettingsFrom(0, SI_VAR(5), SI_VAR(6), SI_VAR(7));
    SetPanTarget(0, SI_VAR(5), SI_VAR(6), SI_VAR(7));
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        DisablePartnerAI(0);
        EnableNpcShadow(0xFFFFFFFC, 0);
        SetNpcPos(0xFFFFFFFC, 0, 0xFFFFFC18, 0);
        InterpNpcYaw(0xFFFFFFFC, SI_VAR(0), 0);
    }
    sleep 1;
    PlaySound(355);
    spawn {
        sleep 25;
        HidePlayerShadow(0);
    }
    0x802D286C(2304);
    0x802D2520(0x10002, 5, 3, 1, 1, 0);
    loop 40 {
        func_8024023C_95B43C(1.0);
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        spawn {
            GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(2) -= 3;
            SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            EnableNpcShadow(0xFFFFFFFC, 1);
            EnablePartnerAI();
        }
    }
    sleep 5;
    0x802D2520(0x10002, 0, 0, 0, 0, 0);
    ModifyColliderFlags(1, SI_VAR(11), 0x7FFFFE00);
    DisablePlayerInput(0);
    DisablePlayerPhysics(0);
    PanToTarget(0, 0, 0);
    spawn 0xFE363C8A;
});

Script N(script_80244374) = SCRIPT({
    func_80240034_95B234();
    if (SI_VAR(0) == 0) {
        return;
    }
    GetCurrentPartner(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        GetCurrentPartnerID(SI_VAR(1));
        if (SI_VAR(1) != 6) {
            return;
        } else {
            0x802D2B6C();
            DisablePlayerInput(1);
        }
    } else {
        DisablePlayerInput(1);
    }
    await N(script_80244450);
});

Script N(script_80244450) = SCRIPT({
    func_80240000_95B200();
    group 27;
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_95B2F0();
    PlayerMoveTo(SI_VAR(1), SI_VAR(3), 3);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_95B2F0();
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    SetPlayerFlagBits(0x200000, 1);
    func_802401D0_95B3D0();
    InterpPlayerYaw(SI_VAR(0), 0);
    sleep 2;
    SetPlayerFlagBits(0x200000, 0);
    PlaySound(355);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    spawn {
        sleep 4;
        loop 40 {
            SI_VAR(1) -= 1;
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
    }
    0x802D286C(2048);
    0x802D2520(0x10002, 5, 2, 1, 1, 0);
    sleep 25;
    await 0xFE363C8C;
});

Script N(script_8024462C) = SCRIPT({
    0x802D249C(SI_VAR(0));
    if (SI_VAR(0) == 0) {
        return;
    }
    GetPlayerActionState(SI_VAR(0));
    if (SI_VAR(0) == 26) {
        return;
    }
    GetCurrentPartner(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        GetCurrentPartnerID(SI_VAR(1));
        if (SI_VAR(1) != 6) {
            return;
        } else {
            0x802D2B6C();
            DisablePlayerInput(1);
        }
    } else {
        DisablePlayerInput(1);
    }
    group 27;
    func_80240000_95B200();
    DisablePlayerPhysics(1);
    ModifyColliderFlags(0, SI_VAR(11), 0x7FFFFE00);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_95B2F0();
    SI_VAR(5) = SI_VAR(1);
    SI_VAR(6) = SI_VAR(2);
    SI_VAR(6) += 2;
    SI_VAR(7) = SI_VAR(3);
    SI_VAR(8) = SI_VAR(4);
    SI_VAR(8) += 180;
    if (SI_VAR(4) >= 360) {
        SI_VAR(4) -= 360;
    }
    InterpPlayerYaw(SI_VAR(8), 1);
    sleep 1;
    PlaySound(355);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPlayerPos(SI_VAR(0), SI_VAR(6), SI_VAR(7));
    SetPlayerAnimation(0x10000);
    0x802D286C(2048);
    0x802D2520(0x10000, 5, 3, 1, 1, 0);
    spawn {
        sleep 8;
        HidePlayerShadow(1);
    }
    spawn {
        sleep 3;
        loop 40 {
            func_8024023C_95B43C(1.0);
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
    }
    sleep 25;
    await 0xFE363C8C;
});

Script N(script_ExitWalk_80244960) = SCRIPT({
    group 27;
    SI_SAVE_FLAG(761) = 0;
    UseExitHeading(60, 0);
    spawn ExitWalk;
    GotoMap(D_8024DDD0_968FD0, 1);
    sleep 100;
});

Script N(script_ExitWalk_802449CC) = SCRIPT({
    group 27;
    UseExitHeading(60, 1);
    spawn ExitWalk;
    GotoMap(D_8024DDD8_968FD8, 0);
    sleep 100;
});

Script N(script_80244A28) = SCRIPT({
    bind N(script_ExitWalk_80244960) to 0x80000 1;
    bind N(script_ExitWalk_802449CC) to 0x80000 5;
});

Script N(script_80244A70) = SCRIPT({
    PlaySound(0x80000060);
    UseSettingsFrom(0, 175, 0, 0xFFFFFF37);
    SetPanTarget(0, 175, 0, 0xFFFFFF37);
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    func_802402E0_95B4E0(2, 0, 3);
    func_802402E0_95B4E0(1, -1, 3);
    func_80240404_95B604(3, 44, 32, 177, 0, 0, 0, 0, 0, 0);
    DisablePlayerInput(1);
    spawn {
        ShakeCam(0, 0, 300, 0.2001953125);
    }
    spawn {
        sleep 60;
        GetEntryID(SI_VAR(0));
        if (SI_VAR(0) == 3) {
            GotoMap(D_8024DDD8_968FD8, 2);
        } else {
            GotoMap(D_8024DDD8_968FD8, 3);
        }
        sleep 100;
    }
});

Script N(script_EnterWalk_80244C14) = SCRIPT({
    GetLoadType(SI_VAR(1));
    if (SI_VAR(1) == 1) {
        spawn EnterSavePoint;
        spawn N(script_80244A28);
        return;
    }
    GetEntryID(SI_VAR(0));
    match SI_VAR(0) {
        == 2 {
            if (SI_SAVE_FLAG(1939) == 0) {
                DisablePlayerInput(1);
                DisablePlayerPhysics(1);
                GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
                SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
                SetPlayerPos(SI_VAR(0), 0xFFFFFC18, SI_VAR(2));
                sleep 30;
                PlaySound(8334);
                SI_SAVE_FLAG(1939) = 1;
                sleep 30;
                SetPlayerActionState(0);
                SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
                SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
                DisablePlayerPhysics(0);
                DisablePlayerInput(0);
            }
            SI_VAR(10) = N(script_80244A28);
            await N(script_80243C30);
        }
        3, 4 {
            await N(script_80244A70);
        }
        == 10 {
            spawn 0x80285C50;
            spawn N(script_80244A28);
        } else {
            SI_VAR(0) = N(script_80244A28);
            spawn EnterWalk;
        }
    }
    sleep 1;
});

Script N(main) = SCRIPT({
    SI_SAVE_VAR(425) = 9;
    SetSpriteShading(-1);
    SetCamPerspective(0, 3, 25, 16, 4096);
    SetCamBGColor(0, 0, 0, 0);
    SetCamEnabled(0, 1);
    SetCamLeadPlayer(0, 0);
    SI_SAVE_FLAG(1973) = 1;
    if (SI_SAVE_VAR(0) < 0xFFFFFFBC) {
        SI_SAVE_VAR(0) = 0xFFFFFFBC;
    }
    match SI_SAVE_VAR(0) {
        0xFFFFFFCB..6
        MakeNpcs(0, N(npcGroupList_8024B47C));
        else {
            MakeNpcs(0, N(npcGroupList_8024B464));
        }
    }
    0x802D3398();
    await N(script_MakeEntities);
    MakeShop(N(shopItemPositions_8024BA68), N(shopInventory_8024B4FC), N(shopPriceList_8024B550), 0);
    MakeShopOwner(N(shopOwnerNPC_8024BA80));
    await N(script_8024C218);
    spawn N(script_8024C2EC);
    spawn N(script_80243BB0);
    spawn N(script_EnterWalk_80244C14);
    sleep 1;
    spawn N(script_8024DD78);
});

s32 pad_005004[] = {
    0x00000000, 0x00000000, 0x00000000,
};

NpcAISettings N(aISettings_80245010) = {
    .moveSpeed = 1.5f,
    .moveTime = 0x3C,
    .waitTime = 0x1E,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_NpcAI_80245040) = SCRIPT({
    DoBasicAI(N(aISettings_80245010));
});

NpcSettings N(npcSettings_80245060) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1A,
    .radius = 0x17,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = &N(script_NpcAI_80245040),
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

NpcAISettings N(aISettings_8024508C) = {
    .moveSpeed = 1.5f,
    .moveTime = 0x1E,
    .waitTime = 0x1E,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_NpcAI_802450BC) = SCRIPT({
    func_80241174_95C374(N(aISettings_8024508C));
});

NpcSettings N(npcSettings_802450DC) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1A,
    .radius = 0x17,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = &N(script_NpcAI_802450BC),
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

NpcSettings N(npcSettings_80245108) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1A,
    .radius = 0x17,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

NpcSettings N(npcSettings_80245134) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x16,
    .radius = 0x19,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

NpcSettings N(npcSettings_80245160) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_8024518C[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630000,
};

s32 N(unk_802451B8)[] = {
    0x00000000,
};

Script N(script_802451BC) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 0);
    return;
});

Script N(script_802451EC) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 16);
    return;
});

s32 N(quizAnswers)[] = {
    0x02010102, 0x02000200, 0x02010002, 0x01010002, 0x00020100, 0x00020100, 0x02010102, 0x02010101,
    0x00020202, 0x02000101, 0x02010201, 0x02000001, 0x01000102, 0x01000202, 0x01020002, 0x02010101,
};

s32 N(quizRequirements)[] = {
    0xFFFFFF94, 0x00000000, 0xFFFFFFB4, 0x0000000A, 0xFFFFFFCA, 0x00000014, 0xFFFFFFF2, 0x0000001E,
    0x00000006, 0x00000025, 0x00000027, 0x0000002C, 0x0000003A, 0x00000034, 0x00000058, 0x0000003C,
    0x00000060, 0x00000040, 0x00000000, 0x00000040,
};

Script N(script_802452AC) = SCRIPT({
    func_80241FAC_95D1AC();
    if (SI_VAR(0) <= 1) {
        GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 300;
        SetNpcJumpscale(-1, 1);
        SetNpcAnimation(-1, 0xAF000C);
        sleep 40;
        SetNpcPos(-1, 0, 0xFFFFFC18, 0);
    }
});

Script N(script_8024535C) = SCRIPT({
    func_80242050_95D250(0, SI_ARRAY(0));
    func_80241FDC_95D1DC(0, 25);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    UseSettingsFrom(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetCamType(0, SI_VAR(1), SI_VAR(2));
    SetCamType(0, SI_VAR(1), 0);
    GetCamDistance(0, SI_VAR(0));
    if (SI_VAR(0) > 0) {
        SI_VAR(0) = 370;
    } else {
        SI_VAR(0) = f 0xFFFFFE8E;
    }
    SetCamDistance(0, SI_VAR(0));
    GetCamPitch(0, SI_VAR(0), SI_VAR(1));
    SI_VAR(0) = 13.0;
    SI_VAR(1) = -10.0;
    SetCamPitch(0, SI_VAR(0), SI_VAR(1));
    PanToTarget(0, 0, 1);
    SetCamLeadPlayer(0, 0);
});

Script N(script_802454F8) = SCRIPT({
    GetNpcPos(10, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(1) += 30;
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetCamDistance(0, SI_VAR(0));
    if (SI_VAR(0) > 0) {
        SI_VAR(0) = 17;
    } else {
        SI_VAR(0) = f 0xFFFFFFEF;
    }
    SetCamDistance(0, SI_VAR(0));
    SetCamSpeed(0, 90.0);
    WaitForCam(0, 1.0);
    SetCamSpeed(0, 1);
});

Script N(script_802455F4) = SCRIPT({
    func_80241FDC_95D1DC(0, SI_ARRAY(0));
    PanToTarget(0, 0, 0);
});

Script N(script_80245630) = SCRIPT({
    sleep 20;
    func_802420F0_95D2F0(SI_ARRAY(1), SI_ARRAY(3), 83, SI_VAR(0), SI_VAR(1));
    spawn {
        SI_VAR(2) = 0;
        loop 60 {
            SI_VAR(3) = f SI_VAR(0);
            SI_VAR(4) = f SI_VAR(1);
            SI_VAR(3) *= f SI_VAR(2);
            SI_VAR(4) *= f SI_VAR(2);
            SI_VAR(3) /= 60;
            SI_VAR(4) /= 60;
            SI_VAR(3) += f SI_ARRAY(1);
            SI_VAR(4) += f SI_ARRAY(3);
            SetPlayerPos(SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
            SI_VAR(2) += 1;
            sleep 1;
        }
        SI_VAR(3) = f SI_VAR(0);
        SI_VAR(4) = f SI_VAR(1);
        SI_VAR(3) += f SI_ARRAY(1);
        SI_VAR(4) += f SI_ARRAY(3);
        SetPlayerPos(SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
    }
    func_8024228C_95D48C();
    0x802D2884(SI_ARRAY(1), SI_ARRAY(3), 0);
    SetPlayerAnimation(0x10002);
});

Script N(script_802457E0) = SCRIPT({
    GetNpcPos(0xFFFFFFFC, SI_VAR(10), SI_VAR(11), SI_VAR(12));
    func_802420F0_95D2F0(SI_VAR(10), SI_VAR(12), 108, SI_VAR(0), SI_VAR(1));
    SI_VAR(5) = f SI_ARRAY(2);
    SI_VAR(5) -= f SI_VAR(11);
    spawn {
        func_80242380_95D580();
        SI_VAR(3) = f SI_VAR(0);
        SI_VAR(4) = f SI_VAR(1);
        SI_VAR(6) = f SI_VAR(5);
        SI_VAR(3) += f SI_VAR(10);
        SI_VAR(4) += f SI_VAR(12);
        SI_VAR(6) += f SI_VAR(11);
        SetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(6), SI_VAR(4));
    }
    func_802422F0_95D4F0();
    NpcFacePlayer(0xFFFFFFFC, 0);
    SetNpcAnimation(0xFFFFFFFC, 262);
});

Script N(script_80245918) = SCRIPT({
    GetNpcPos(10, SI_VAR(10), SI_VAR(11), SI_VAR(12));
    func_802420F0_95D2F0(SI_VAR(10), SI_VAR(12), 0xFFFFFFBA, SI_VAR(0), SI_VAR(1));
    spawn {
        SI_VAR(2) = 0;
        loop 60 {
            SI_VAR(3) = f SI_VAR(0);
            SI_VAR(4) = f SI_VAR(1);
            SI_VAR(3) *= f SI_VAR(2);
            SI_VAR(4) *= f SI_VAR(2);
            SI_VAR(3) /= 60;
            SI_VAR(4) /= 60;
            SI_VAR(3) += f SI_VAR(10);
            SI_VAR(4) += f SI_VAR(12);
            SetNpcPos(10, SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
            SI_VAR(2) += 1;
            sleep 1;
        }
    }
    sleep 60;
    NpcFacePlayer(10, 0);
    SetNpcAnimation(10, 0xAF0001);
});

Script N(script_80245A84) = SCRIPT({
    spawn N(script_80245630);
    spawn N(script_802457E0);
    await N(script_80245918);
});

Script N(script_80245AB8) = SCRIPT({
    loop {
        SetPlayerAnimation(0x10028);
        sleep 20;
    }
});

Script N(script_80245AF8) = SCRIPT({
    SetPlayerAnimation(0x10016);
    sleep 15;
    SetPlayerAnimation(0x10002);
});

Script N(script_80245B34) = SCRIPT({
    loop {
        SetPlayerAnimation(0x10002);
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
    }
    SetPlayerAnimation(0x10002);
    SetPlayerPos(SI_VAR(0), SI_ARRAY(2), SI_VAR(2));
    sleep 1;
});

Script N(script_8024667C) = SCRIPT({
    SetPlayerAnimation(0x10023);
    loop {
        sleep 1;
    }
});

Script N(script_802466BC) = SCRIPT({
    spawn {
        func_802420F0_95D2F0(SI_ARRAY(1), SI_ARRAY(3), 25, SI_VAR(0), SI_VAR(1));
        SI_VAR(2) = f SI_ARRAY(1);
        SI_VAR(2) += f SI_VAR(0);
        SI_VAR(3) = f SI_ARRAY(3);
        SI_VAR(3) += f SI_VAR(1);
        SetNpcAnimation(0xFFFFFFFC, 258);
        NpcMoveTo(0xFFFFFFFC, SI_VAR(2), SI_VAR(3), 40);
        SetNpcAnimation(0xFFFFFFFC, 262);
    }
    PlayerMoveTo(SI_ARRAY(1), SI_ARRAY(3), 40);
});

Script N(script_80246798) = SCRIPT({
    SI_VAR(1) = spawn N(script_80245B34);
    sleep 60;
    kill SI_VAR(1);
    loop 5 {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 2;
    }
    sleep 20;
    await N(script_802466BC);
});

Script N(script_80246848) = SCRIPT({
    SI_VAR(1) = spawn N(script_8024667C);
    sleep 60;
    loop 5 {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 2;
    }
    sleep 20;
    kill SI_VAR(1);
    await N(script_802466BC);
});

// Unable to use DSL: DSL does not support script opcode 0x55
// *INDENT-OFF*
Script N(script_802468F8) = {
    SI_CMD(ScriptOpcode_IF_GT, SI_SAVE_VAR(352), 63),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_ARRAY(1), SI_ARRAY(2), SI_ARRAY(3)),
    SI_CMD(ScriptOpcode_CALL, NpcFacePlayer, -1, 16),
    SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_VAR(352), 63),
        SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x8000A),
    SI_CMD(ScriptOpcode_ELSE),
        SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_FLAG(1767), 1),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80009),
        SI_CMD(ScriptOpcode_ELSE),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80008),
            SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1767), 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, ShowChoice, 0x1E000D),
    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, 0xAF0004, 0xAF0001, 0, 0x8000C),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_802452AC)),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1793), 1),
    SI_CMD(ScriptOpcode_CALL, func_80241588_95C788),
    SI_CMD(ScriptOpcode_CALL, func_8024189C_95CA9C),
    SI_CMD(ScriptOpcode_SPAWN, N(script_8024535C)),
    SI_CMD(ScriptOpcode_CALL, DisablePartnerAI, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 0xFFFFFFFC, 512, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 10, 512, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 0xFFFFFFFC, 328, 1),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 10, 256, 1),
    SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0xFFFFFFFC, 262),
    SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_80245A84), SI_VAR(1)),
    SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, 0xAF0004, 0xAF0001, 0, 0x8000B),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 137),
    SI_CMD(ScriptOpcode_LOOP, 0),
        SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
        SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
            SI_CMD(ScriptOpcode_BREAK_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_CALL, func_80241BE0_95CDE0),
    SI_CMD(ScriptOpcode_LOOP, 5),
        SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 1),
        SI_CMD(ScriptOpcode_CALL, SetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 2),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0x2C0000),
    SI_CMD(ScriptOpcode_ADD, SI_VAR(0), SI_SAVE_VAR(352)),
    SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0005, 0xAF0006, 0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_CALL, SetPlayerAnimation, 0x10028),
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0x2D0000),
    SI_CMD(ScriptOpcode_ADD, SI_VAR(0), SI_SAVE_VAR(352)),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 142),
    SI_CMD(ScriptOpcode_CALL, ShowChoice, SI_VAR(0)),
    SI_CMD(ScriptOpcode_KILL_SCRIPT, SI_VAR(1)),
    SI_CMD(ScriptOpcode_CALL, StopSound, 142),
    SI_CMD(ScriptOpcode_SPAWN, N(script_80245AF8)),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 141),
    SI_CMD(ScriptOpcode_CALL, func_80241EE0_95D0E0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 0),
    SI_CMD(ScriptOpcode_CALL, func_802424D4_95D6D4),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 40),
    SI_CMD(ScriptOpcode_CALL, func_80241B5C_95CD5C),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 110),
        SI_CMD(ScriptOpcode_CALL, CloseChoice),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 0),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 10, 0xAF0007),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 1),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, func_80241EAC_95D0AC, 1),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, func_80241EAC_95D0AC, 2),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 138),
        SI_CMD(ScriptOpcode_CALL, func_80241F78_95D178),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 50),
            SI_CMD(ScriptOpcode_CALL, func_802420F0_95D2F0, 0, 0, 83, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 0xFFFFFFFD),
            SI_CMD(ScriptOpcode_CALL, func_802420F0_95D2F0, 0, 0, 58, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 30),
            SI_CMD(ScriptOpcode_CALL, func_802420F0_95D2F0, 0, 0, 93, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 20),
        SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_80246798), SI_VAR(1)),
        SI_CMD(ScriptOpcode_ADD, SI_SAVE_VAR(352), 1),
        SI_CMD(ScriptOpcode_IF_GT, SI_SAVE_VAR(352), 63),
            SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x80010),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 10, 0xAF0006),
            SI_CMD(ScriptOpcode_LOOP, 0),
                SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                    SI_CMD(ScriptOpcode_BREAK_LOOP),
                SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 10, 0xAF0005),
            SI_CMD(ScriptOpcode_SET, SI_VAR(0), 348),
            SI_CMD(ScriptOpcode_SET, SI_VAR(1), 3),
            SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_802451BC)),
            SI_CMD(ScriptOpcode_CALL, AddStarPieces, 1),
            SI_CMD(ScriptOpcode_CALL, func_80241EAC_95D0AC, 15),
            SI_CMD(ScriptOpcode_CALL, func_80241F60_95D160),
            SI_CMD(ScriptOpcode_CALL, SetMessageValue, SI_SAVE_VAR(352), 0),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80011),
        SI_CMD(ScriptOpcode_ELSE),
            SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x8000E),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 10, 0xAF0006),
            SI_CMD(ScriptOpcode_LOOP, 0),
                SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                    SI_CMD(ScriptOpcode_BREAK_LOOP),
                SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 10, 0xAF0005),
            SI_CMD(ScriptOpcode_SET, SI_VAR(0), 348),
            SI_CMD(ScriptOpcode_SET, SI_VAR(1), 1),
            SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_802451BC)),
            SI_CMD(ScriptOpcode_CALL, AddStarPieces, 1),
            SI_CMD(ScriptOpcode_CALL, func_80241EAC_95D0AC, 15),
            SI_CMD(ScriptOpcode_CALL, func_80241F60_95D160),
            SI_CMD(ScriptOpcode_CALL, SetMessageValue, SI_SAVE_VAR(352), 0),
            SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_VAR(352), 1),
                SI_CMD(ScriptOpcode_CALL, SetMessageString, 0x8014C294, 1),
            SI_CMD(ScriptOpcode_ELSE),
                SI_CMD(ScriptOpcode_CALL, SetMessageString, 0x8014C290, 1),
            SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x8000F),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 1),
    SI_CMD(ScriptOpcode_ELSE),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 10, 0xAF0009),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 2),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 541),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 139),
        SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_80246848), SI_VAR(1)),
        SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(2), SI_VAR(3), SI_VAR(4)),
        SI_CMD(ScriptOpcode_CALL, PlayEffect, 43, 0, SI_VAR(2), SI_VAR(3), SI_VAR(4), 0, 0, 0, 0, 0, 0, 0, 0, 0),
        SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x8000D),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 10, 0xAF000A),
        SI_CMD(ScriptOpcode_LOOP, 0),
            SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
            SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                SI_CMD(ScriptOpcode_BREAK_LOOP),
            SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, func_80241EE0_95D0E0, -1),
    SI_CMD(ScriptOpcode_CALL, EnablePartnerAI),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 30),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 143),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 45),
        SI_CMD(ScriptOpcode_CALL, StopSound, 137),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_CALL, func_80241F94_95D194),
    SI_CMD(ScriptOpcode_CALL, func_80241DF8_95CFF8),
    SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_802452AC)),
    SI_CMD(ScriptOpcode_SPAWN, N(script_802455F4)),
    SI_CMD(ScriptOpcode_CALL, func_802419E8_95CBE8),
    SI_CMD(ScriptOpcode_CALL, func_8024159C_95C79C),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1793), 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

Script N(script_80247628) = SCRIPT({
    func_802415AC_95C7AC();
    if (SI_VAR(0) == 0) {
        return;
    }
    SetNpcFlagBits(-1, 0x1000000, 0);
    0x802CF208(-1, 0xAF0001);
    func_802417D0_95C9D0();
});

// Unable to use DSL: DSL does not support script opcode 0x3C
Script N(script_8024769C) = {
    SI_CMD(ScriptOpcode_USE_ARRAY, 0x8024DFC8),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1769), 1),
    SI_CMD(ScriptOpcode_CALL, DisablePlayerPhysics, 1),
    SI_CMD(ScriptOpcode_CALL, SetPlayerFlagBits, 0x400000, 1),
    SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_802468F8)),
    SI_CMD(ScriptOpcode_CALL, DisablePlayerPhysics, 0),
    SI_CMD(ScriptOpcode_CALL, SetPlayerFlagBits, 0x400000, 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_8024771C) = SCRIPT({
    func_8024181C_95CA1C();
});

NpcAISettings N(aISettings_80247738) = {
    .moveSpeed = 0.7f,
    .moveTime = 0x1E,
    .waitTime = 0x14,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_80247768) = SCRIPT({
    DoBasicAI(N(aISettings_80247738));
});

NpcSettings N(npcSettings_80247788) = {
    .unk_00 = { 0, 0xAF, 0, 0x1 },
    .height = 0x23,
    .radius = 0x1C,
    .otherAI = &N(script_80247628),
    .onInteract = &N(script_8024769C),
    .ai = NULL,
    .onHit = NULL,
    .aux = &N(script_8024771C),
    .onDefeat = NULL,
    .flags = 0xD01,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_802477B4[] = {
    0x00AF0001, 0x0023001C, N(script_80247628), N(script_8024769C), N(script_80247768), 0x00000000, N(script_8024771C), 0x00000000,
    0x00000C01, 0x00000000, 0x00630010,
};

s32 N(unk_802477E0)[] = {
    0x00000000,
};

s32 N(unk_802477E4)[] = {
    0x00000000,
};

Script N(script_802477E8) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            GetPlayerPos(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80242560_95D760(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |= c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SetPlayerAnimation(0x60005);
            sleep 30;
            SetPlayerAnimation(0x10002);
            RemoveItemEntity(SI_VAR(0));
        }
    }
    func_80242784_95D984(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_8024792C) = {
    SI_CMD(ScriptOpcode_CALL, func_802427BC_95D9BC, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_802477E8), 0x10, 0, 0x8024DFF0, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80242730_95D930, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_8024797C) = SCRIPT({
    loop {
        GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
        func_80242E88_95E088(SI_VAR(3), SI_VAR(4), SI_VAR(5));
        SetItemPos(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5));
        sleep 1;
    }
});

Script N(script_802479FC) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            DisablePartnerAI(0);
            GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80242E88_95E088(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |= c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SI_VAR(10) = spawn N(script_8024797C);
            SetNpcAnimation(0xFFFFFFFC, 0x40002);
            GetAngleBetweenNPCs(SI_VAR(9), 0xFFFFFFFC, SI_VAR(11));
            GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
            GetNpcPos(SI_VAR(9), SI_VAR(6), SI_VAR(7), SI_VAR(8));
            SetNpcFlagBits(0xFFFFFFFC, 256, 1);
            if (SI_VAR(11) <= 180) {
                SI_VAR(6) += 20;
            } else {
                SI_VAR(6) += 0xFFFFFFEC;
            }
            SI_VAR(7) += 10;
            SetNpcJumpscale(0xFFFFFFFC, 0.0);
            NpcJump1(0xFFFFFFFC, SI_VAR(6), SI_VAR(7), SI_VAR(8), 20);
            kill SI_VAR(10);
            RemoveItemEntity(SI_VAR(0));
            sleep 20;
            GetNpcYaw(0xFFFFFFFC, SI_VAR(10));
            SI_VAR(10) += 180;
            InterpNpcYaw(0xFFFFFFFC, SI_VAR(10), 0);
            sleep 5;
            NpcJump1(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5), 20);
            SetNpcAnimation(0xFFFFFFFC, 0x40001);
            NpcFaceNpc(0xFFFFFFFC, SI_VAR(9), 0);
            sleep 5;
            SetNpcFlagBits(0xFFFFFFFC, 256, 0);
            EnablePartnerAI();
            sleep 5;
        }
    }
    func_80242784_95D984(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_80247D20) = {
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), SI_VAR(11)),
    SI_CMD(ScriptOpcode_SET, SI_VAR(1), SI_VAR(2)),
    SI_CMD(ScriptOpcode_CALL, func_802427BC_95D9BC, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_802479FC), 0x10, 0, 0x8024DFF0, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80242730_95D930, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_80247D90) = SCRIPT({
    SI_VAR(12) = 0;
    if (SI_SAVE_VAR(0) < 0xFFFFFFBA) {
        return;
    }
    func_80243014_95E214();
    GetCurrentPartnerID(SI_VAR(0));
    FindKeyItem(SI_VAR(5), SI_VAR(1));
    if (SI_VAR(0) == 4) {
        if (SI_VAR(1) != -1) {
            DisablePartnerAI(0);
            PlayerFaceNpc(SI_VAR(2), 0);
            sleep 1;
            GetNpcPos(SI_VAR(2), SI_VAR(13), SI_VAR(0), SI_VAR(14));
            GetNpcPos(0xFFFFFFFC, SI_VAR(13), SI_VAR(14), SI_VAR(15));
            SetNpcJumpscale(0xFFFFFFFC, 0.0);
            SI_VAR(0) += 10;
            NpcJump1(0xFFFFFFFC, SI_VAR(13), SI_VAR(0), SI_VAR(15), 10);
            SpeakToNpc(0xFFFFFFFC, 0x40006, 0x40001, 0, SI_VAR(2), SI_VAR(7));
            EnablePartnerAI();
            await N(script_80247D20);
            match SI_VAR(0) {
                == -1 {
                    DisablePartnerAI(0);
                    sleep 1;
                    SpeakToPlayer(0xFFFFFFFC, 0x40006, 0x40001, 5, SI_VAR(8));
                    EnablePartnerAI();
                    SI_VAR(12) = 1;
                } else {
                    DisablePartnerAI(0);
                    sleep 1;
                    SpeakToPlayer(0xFFFFFFFC, 0x40006, 0x40001, 5, SI_VAR(9));
                    if (SI_VAR(10) != 0) {
                        SpeakToPlayer(SI_VAR(2), SI_VAR(3), SI_VAR(4), 0, SI_VAR(10));
                    }
                    EnablePartnerAI();
                    if (SI_VAR(6) != 0) {
                        SI_VAR(0) = SI_VAR(6);
                        SI_VAR(1) = 1;
                        await N(script_802451BC);
                        AddKeyItem(SI_VAR(6));
                    }
                    SI_VAR(12) = 2;
                }
            }
        }
    }
    func_80243058_95E258();
});

s32 N(unk_80248088)[] = {
    0x0000004C, 0x00000000,
};

Script N(script_80248090) = SCRIPT({
    func_80242D98_95DF98(6, 0x940105, 0x940101, 76, 69, 0xD0089, 0xD008A, 0xD008B, 0xD008C, N(unk_80248088));
    await N(script_80247D90);
});

Script N(script_Interact_802480E0) = SCRIPT({
    if (SI_SAVE_VAR(0) >= 0xFFFFFFCB) {
        SpeakToPlayer(-1, 0x940005, 0x940001, 0, 0xD0062);
        return;
    }
    match SI_AREA_VAR(0) {
        == 0 {
            SpeakToPlayer(-1, 0x940005, 0x940001, 0, 0xD005F);
            SI_AREA_VAR(0) += 1;
        }
        == 1 {
            SpeakToPlayer(-1, 0x940005, 0x940001, 0, 0xD0060);
            SI_AREA_VAR(0) += 1;
        }
        == 2 {
            SpeakToPlayer(-1, 0x940005, 0x940001, 0, 0xD0061);
            SI_AREA_VAR(0) -= 1;
        }
    }
});

Script N(script_Init_802481F8) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_802480E0));
});

Script N(script_Interact_8024821C) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_VAR(0) >= 0xFFFFFFC0) {
                if (SI_AREA_VAR(1) == 2) {
                    SI_AREA_VAR(1) = 0;
                }
            }
            match SI_AREA_VAR(1) {
                == 0 {
                    SpeakToPlayer(-1, 0x930304, 0x930301, 0, 0xD0063);
                    SI_AREA_VAR(1) += 1;
                }
                == 1 {
                    SpeakToPlayer(-1, 0x930304, 0x930301, 0, 0xD0064);
                    SI_AREA_VAR(1) += 1;
                }
                == 2 {
                    SpeakToPlayer(-1, 0x930304, 0x930301, 0, 0xD0065);
                    SI_AREA_VAR(1) = 0;
                }
            }
        }
        < 39 {
            SpeakToPlayer(-1, 0x930304, 0x930301, 0, 0xD0066);
        } else {
            SpeakToPlayer(-1, 0x930304, 0x930301, 0, 0xD0067);
        }
    }
});

Script N(script_Init_802483A8) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024821C));
});

Script N(script_Interact_802483CC) = SCRIPT({
    match SI_AREA_VAR(2) {
        == 0 {
            SpeakToPlayer(-1, 0x930204, 0x930201, 0, 0xD0068);
            SI_AREA_VAR(2) += 1;
        }
        == 1 {
            SpeakToPlayer(-1, 0x930204, 0x930201, 0, 0xD0069);
            SI_AREA_VAR(2) += 1;
        }
        == 2 {
            SpeakToPlayer(-1, 0x930204, 0x930201, 0, 0xD006A);
            SI_AREA_VAR(2) += 1;
        }
        == 3 {
            SpeakToPlayer(-1, 0x930204, 0x930201, 0, 0xD006B);
            SI_AREA_VAR(2) = 0;
        }
    }
});

Script N(script_Init_802484E0) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_802483CC));
});

Script N(script_80248504) = SCRIPT({
    loop {
        func_8024309C_95E29C(SI_VAR(0));
        if (SI_VAR(0) == 8) {
            break;
        }
        sleep 1;
    }
    DisablePlayerInput(1);
    0x802CF56C(1);
    spawn {
        sleep 20;
        0x802CF56C(0);
        NpcFacePlayer(0xFFFFFFFC, 0);
    }
    PlayerFaceNpc(3, 0);
    SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD0078);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetNpcPos(3, SI_VAR(3), SI_VAR(4), SI_VAR(5));
    UseSettingsFrom(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(0) += f SI_VAR(3);
    SI_VAR(1) += f SI_VAR(4);
    SI_VAR(2) += f SI_VAR(5);
    SI_VAR(0) /= 2.0;
    SI_VAR(1) /= 2.0;
    SI_VAR(2) /= 2.0;
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetCamDistance(0, -300.0);
    SetCamSpeed(0, 5.0);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    SetPlayerAnimation(0x10002);
    SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD0079);
    SetPlayerAnimation(0x80007);
    sleep 30;
    SetPlayerAnimation(0x10002);
    SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD007A);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    UseSettingsFrom(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetCamSpeed(0, 4.0);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    PanToTarget(0, 0, 0);
    func_80243084_95E284();
    SI_SAVE_FLAG(761) = 1;
    DisablePlayerInput(0);
});

s32 N(unk_8024884C)[] = {
    0x0000007D, 0x00000000, 0xFFFFFFD6, 0x0000004B, 0x0000004B, func_802430C8_95E2C8,
};

Script N(script_Interact_80248864) = SCRIPT({
    if (SI_SAVE_FLAG(253) == 1) {
        if (SI_SAVE_FLAG(761) == 1) {
            func_802431B4_95E3B4();
            if (SI_VAR(0) == 1) {
                SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD007B);
                return;
            }
        }
    }
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_AREA_FLAG(1) == 0) {
                SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD006C);
                SpeakToPlayer(4, 0x930004, 0x930001, 0, 0xD006D);
                SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD006E);
                SI_AREA_FLAG(1) = 1;
            } else {
                SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD006F);
                SpeakToPlayer(4, 0x930004, 0x930001, 0, 0xD0070);
                SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD0071);
                SI_AREA_FLAG(1) = 0;
            }
        }
        < 39 {
            SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD0072);
            SpeakToPlayer(4, 0x930004, 0x930001, 0, 0xD0073);
            SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD0074);
        } else {
            SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD0075);
            SpeakToPlayer(4, 0x930004, 0x930001, 0, 0xD0076);
            SpeakToPlayer(3, 0x930004, 0x930001, 0, 0xD0077);
        }
    }
});

Script N(script_Init_80248AE4) = SCRIPT({
    GetEntryID(SI_VAR(0));
    match SI_VAR(0) {
        3, 4 {
            SetNpcAnimation(-1, 0x930004);
            return;
        }
    }
    BindNpcInteract(-1, N(script_Interact_80248864));
    if (SI_SAVE_FLAG(253) == 1) {
        spawn {
            func_80242858_95DA58(N(unk_8024884C));
        }
    }
});

Script N(script_Interact_80248BA0) = SCRIPT({
    parallel {
        loop {
            NpcFaceNpc(3, 4, 1);
        }
    }
    func_802431FC_95E3FC();
    SetNpcFlagBits(-1, 256, 1);
    SetNpcAnimation(-1, 0x930003);
    SetNpcSpeed(-1, 3.5);
    NpcMoveTo(-1, SI_VAR(0), SI_VAR(1), 0);
    SetNpcAnimation(-1, 0x930001);
    SetNpcFlagBits(-1, 256, 0);
    sleep 5;
    GetNpcYaw(-1, SI_VAR(0));
    SI_VAR(0) += 180;
    InterpNpcYaw(-1, SI_VAR(0), 0);
});

Script N(script_Init_80248CC8) = SCRIPT({
    GetEntryID(SI_VAR(0));
    match SI_VAR(0) {
        3, 4 {
            SetNpcAnimation(-1, 0x930004);
            return;
        }
    }
    BindNpcInteract(-1, N(script_Interact_80248BA0));
});

s32 N(unk_80248D4C)[] = {
    0x00000067, 0x00000000,
};

Script N(script_Interact_80248D54) = SCRIPT({
    if (SI_SAVE_FLAG(754) == 1) {
        FindKeyItem(104, SI_VAR(0));
        if (SI_VAR(0) != -1) {
            SpeakToPlayer(-1, 0x8E0102, 0x8E0101, 0, 0xD0084);
            return;
        } else {
            if (SI_SAVE_FLAG(755) == 0) {
                if (SI_SAVE_VAR(0) < 88) {
                    SpeakToPlayer(-1, 0x8E0102, 0x8E0101, 0, 0xD0085);
                    SetPlayerAnimation(0x10029);
                    sleep 30;
                    SetPlayerAnimation(0x10002);
                    SpeakToPlayer(-1, 0x8E0102, 0x8E0101, 0, 0xD0086);
                    SI_SAVE_FLAG(755) = 1;
                    return;
                }
            }
        }
    }
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_AREA_FLAG(2) == 0) {
                SpeakToPlayer(-1, 0x8E0102, 0x8E0101, 0, 0xD007C);
                SI_AREA_FLAG(2) = 1;
            } else {
                SpeakToPlayer(-1, 0x8E0102, 0x8E0101, 0, 0xD007D);
                SI_AREA_FLAG(2) = 0;
            }
        }
        < 39 {
            if (SI_AREA_FLAG(2) == 0) {
                SpeakToPlayer(-1, 0x8E0102, 0x8E0101, 0, 0xD007E);
                SI_AREA_FLAG(2) = 1;
            } else {
                SpeakToPlayer(-1, 0x8E0102, 0x8E0101, 0, 0xD007F);
                SI_AREA_FLAG(2) = 0;
            }
        } else {
            if (SI_AREA_FLAG(2) == 0) {
                SpeakToPlayer(-1, 0x8E0102, 0x8E0101, 0, 0xD0080);
                SI_AREA_FLAG(2) = 1;
            } else {
                SpeakToPlayer(-1, 0x8E0102, 0x8E0101, 0, 0xD0081);
                SI_AREA_FLAG(2) = 0;
            }
        }
    }
    SI_VAR(0) = N(unk_80248D4C);
    SI_VAR(1) = 5;
    await N(script_8024792C);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            SpeakToPlayer(-1, 0x8E0102, 0x8E0101, 0, 0xD0082);
            SetNpcAnimation(-1, 0x8E0103);
            sleep 60;
            SetNpcAnimation(-1, 0x8E0101);
            SpeakToPlayer(-1, 0x8E0102, 0x8E0101, 0, 0xD0083);
            SI_VAR(0) = 104;
            SI_VAR(1) = 1;
            await N(script_802451BC);
            AddKeyItem(104);
            SI_SAVE_FLAG(754) = 1;
            return;
        }
    }
});

Script N(script_Init_80249168) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80248D54));
});

Script N(script_Idle_8024918C) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFBD {
            func_80243350_95E550(16, 190, 0xFFFFFF7A, 0xFFFFFF7D);
            DisablePlayerInput(1);
            SetNpcFlagBits(-1, 256, 1);
            SetNpcPos(-1, 0, 0, 0xFFFFFF4C);
            await N(script_8024C41C);
            sleep 10;
            GetPlayerPos(SI_VAR(10), SI_VAR(11), SI_VAR(12));
            UseSettingsFrom(0, SI_VAR(10), SI_VAR(11), SI_VAR(12));
            SetPanTarget(0, 32, 0, 0xFFFFFFBD);
            SetCamDistance(0, 0xFFFFFF2E);
            SetCamPitch(0, 20, 0xFFFFFFF4);
            SetCamSpeed(0, 90.0);
            PanToTarget(0, 0, 1);
            sleep 20;
            UseSettingsFrom(0, SI_VAR(10), SI_VAR(11), SI_VAR(12));
            SetCamDistance(0, 0xFFFFFEA2);
            SetCamSpeed(0, 0.80078125);
            PanToTarget(0, 0, 1);
            SetNpcAnimation(-1, 0x940104);
            NpcMoveTo(-1, 0xFFFFFFE9, 0xFFFFFF97, 20);
            sleep 10;
            InterpNpcYaw(-1, 65, 0);
            sleep 10;
            await N(script_8024C4C8);
            SetNpcAnimation(-1, 0x940104);
            NpcMoveTo(-1, 37, 0xFFFFFFE5, 20);
            UseSettingsFrom(0, SI_VAR(10), SI_VAR(11), SI_VAR(12));
            SetPanTarget(0, 142, 0, 0xFFFFFFBD);
            PanToTarget(0, 0, 1);
            NpcMoveTo(-1, 62, 0xFFFFFFFA, 20);
            NpcMoveTo(-1, 103, 11, 20);
            NpcMoveTo(-1, 150, 18, 20);
            EnableNpcBlur(-1, 1);
            PlaySoundAtNpc(-1, 372, 0);
            NpcMoveTo(-1, 554, 0xFFFFFFF4, 20);
            SetNpcPos(-1, 0, 0xFFFFFC18, 0);
            sleep 30;
            GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            UseSettingsFrom(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SetCamSpeed(0, 2.0);
            PanToTarget(0, 0, 1);
            WaitForCam(0, 1.0);
            PanToTarget(0, 0, 0);
            DisablePlayerInput(0);
            SI_SAVE_VAR(0) = 0xFFFFFFBD;
        }
        < 0xFFFFFFBE {}
        < 0xFFFFFFBF {
            EnableNpcBlur(-1, 1);
            SetNpcAnimation(-1, 0x940104);
            PlaySoundAtNpc(-1, 372, 0);
            SetNpcPos(-1, 470, 0, 18);
            NpcMoveTo(-1, 287, 9, 20);
            NpcMoveTo(-1, 102, 0xFFFFFFF2, 20);
            NpcMoveTo(-1, 0xFFFFFFE0, 0xFFFFFFA0, 20);
            SetNpcAnimation(-1, 0x940101);
            await N(script_8024C41C);
            SetNpcAnimation(-1, 0x940104);
            NpcMoveTo(-1, 20, 0xFFFFFE89, 30);
            SetNpcAnimation(-1, 0x940101);
            await N(script_8024C4C8);
            EnableNpcBlur(-1, 0);
            SI_SAVE_VAR(0) = 0xFFFFFFBF;
        } else {
            SetNpcAnimation(-1, 0x940101);
            SetNpcPos(-1, 20, 0, 0xFFFFFE89);
        }
    }
});

Script N(script_Interact_80249750) = SCRIPT({
    if (SI_AREA_VAR(4) == 4) {
        if (SI_AREA_VAR(5) == 1) {
            SpeakToPlayer(-1, 0x940105, 0x940101, 0, 0xD0088);
            await N(script_80248090);
            if (SI_VAR(12) != 0) {
                return;
            }
            return;
        }
    }
    await 0x80284054;
    await N(script_80248090);
    if (SI_VAR(12) != 0) {
        return;
    }
});

Script N(script_Init_8024981C) = SCRIPT({
    BindNpcIdle(-1, N(script_Idle_8024918C));
    BindNpcInteract(-1, N(script_Interact_80249750));
});

Script N(script_Interact_80249854) = SCRIPT({
    SpeakToPlayer(7, 0x840104, 0x840101, 0, 0xD008E);
    SpeakToPlayer(8, 0x840104, 0x840101, 0, 0xD008F);
    SpeakToPlayer(9, 0x840104, 0x840101, 0, 0xD0090);
});

Script N(script_Init_802498C4) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80249854));
});

Script N(script_Interact_802498E8) = SCRIPT({
    FindKeyItem(10, SI_VAR(1));
    FindKeyItem(11, SI_VAR(2));
    FindKeyItem(12, SI_VAR(3));
    FindKeyItem(13, SI_VAR(4));
    FindKeyItem(14, SI_VAR(5));
    if (SI_VAR(1) != -1) {
        SpeakToPlayer(-1, 0x930104, 0x930101, 0, 0xD009A);
        return;
    }
    if (SI_VAR(2) != -1) {
        SpeakToPlayer(-1, 0x930104, 0x930101, 0, 0xD009B);
        return;
    }
    if (SI_VAR(3) != -1) {
        SpeakToPlayer(-1, 0x930104, 0x930101, 0, 0xD009C);
        return;
    }
    if (SI_VAR(4) != -1) {
        SpeakToPlayer(-1, 0x930104, 0x930101, 0, 0xD009D);
        return;
    }
    if (SI_VAR(5) != -1) {
        SpeakToPlayer(-1, 0x930104, 0x930101, 0, 0xD009E);
        return;
    }
    SpeakToPlayer(-1, 0x930104, 0x930101, 0, 0xD0099);
});

Script N(script_Init_80249ABC) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_802498E8));
});

Script N(script_Interact_80249AE0) = SCRIPT({
    SpeakToPlayer(-1, 0x930104, 0x930101, 0, 0xD009F);
});

Script N(script_Init_80249B10) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80249AE0));
});

StaticNpc N(npcGroup_80249B34)[] = {
    {
        .id = 0,
        .settings = &N(npcSettings_80245134),
        .pos = { -332.0, 0.0, 188.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_802481F8),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00940001, 0x00940004, 0x00940004, 0x00940004, 0x00940001, 0x00940001, 0x00940001, 0x00940001, 0x00940001, 0x00940001, 0x00940001, 0x00940001, 0x00940001, 0x00940001, 0x00940001, 0x00940001,
        },
        .tattle = 0x1A0090,
    },
    {
        .id = 1,
        .settings = &N(npcSettings_80245060),
        .pos = { -235.0, 0.0, 160.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_802483A8),
        .yaw = 90,
        .dropFlags = 0x80,
        .movement = { 0xFFFFFF15, 0x00000000, 0x000000A0, 0x0000001E, 0x00000000, 0xFFFF8001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x00930301, 0x00930302, 0x00930303, 0x00930303, 0x00930301, 0x00930301, 0x00930300, 0x00930300, 0x00930301, 0x00930301, 0x00930301, 0x00930301, 0x00930301, 0x00930301, 0x00930301, 0x00930301,
        },
        .tattle = 0x1A0091,
    },
    {
        .id = 2,
        .settings = &N(npcSettings_80245108),
        .pos = { -380.0, 0.0, -15.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_802484E0),
        .yaw = 61,
        .dropFlags = 0x80,
        .animations = {
            0x00930201, 0x00930202, 0x00930203, 0x00930203, 0x00930201, 0x00930201, 0x00930200, 0x00930200, 0x00930201, 0x00930201, 0x00930201, 0x00930201, 0x00930201, 0x00930201, 0x00930201, 0x00930201,
        },
        .tattle = 0x1A0094,
    },
    {
        .id = 3,
        .settings = &N(npcSettings_80245108),
        .pos = { 195.0, 0.0, -75.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_80248AE4),
        .yaw = 74,
        .dropFlags = 0x80,
        .animations = {
            0x00930001, 0x00930002, 0x00930003, 0x00930003, 0x00930001, 0x00930001, 0x00930000, 0x00930000, 0x00930001, 0x00930001, 0x00930001, 0x00930001, 0x00930001, 0x00930001, 0x00930001, 0x00930001,
        },
        .tattle = 0x1A0092,
    },
    {
        .id = 4,
        .settings = &N(npcSettings_80245108),
        .pos = { 225.0, 0.0, -83.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_80248CC8),
        .yaw = 257,
        .dropFlags = 0x80,
        .animations = {
            0x00930001, 0x00930002, 0x00930003, 0x00930003, 0x00930001, 0x00930001, 0x00930000, 0x00930000, 0x00930001, 0x00930001, 0x00930001, 0x00930001, 0x00930001, 0x00930001, 0x00930001, 0x00930001,
        },
        .tattle = 0x1A0093,
    },
    {
        .id = 5,
        .settings = &N(npcSettings_80245108),
        .pos = { 285.0, 0.0, -274.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_80249168),
        .yaw = 271,
        .dropFlags = 0x80,
        .animations = {
            0x008E0101, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100, 0x008E0100,
        },
        .tattle = 0x1A0095,
    },
    {
        .id = 6,
        .settings = &N(npcSettings_80245134),
        .pos = { 31.0, 0.0, -374.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_8024981C),
        .yaw = 180,
        .dropFlags = 0x80,
        .animations = {
            0x00940101, 0x00940104, 0x00940104, 0x00940101, 0x00940101, 0x00940101, 0x00940101, 0x00940101, 0x00940101, 0x00940101, 0x00940101, 0x00940101, 0x00940101, 0x00940101, 0x00940101, 0x00940101,
        },
        .tattle = 0x1A008F,
    },
    {
        .id = 10,
        .settings = &N(npcSettings_80247788),
        .pos = { -400.0, 0.0, 100.0 },
        .flags = 0x00000D01,
        .unk_1C = 0x00000001,
        .unk_20 = 0x00030200,
        .yaw = 263,
        .dropFlags = 0x80,
        .animations = {
            0x00AF0001, 0x00AF0002, 0x00AF0003, 0x00AF0003, 0x00AF0001, 0x00AF0001, 0x00AF0000, 0x00AF0000, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003,
        },
        .tattle = 0x1A0002,
    },
    {
        .id = 11,
        .settings = &N(npcSettings_80245060),
        .pos = { -120.0, 0.0, 134.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_80249ABC),
        .yaw = 257,
        .dropFlags = 0x80,
        .movement = { 0xFFFFFF88, 0x00000000, 0x00000086, 0x00000028, 0x00000000, 0xFFFF8001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x00930101, 0x00930102, 0x00930103, 0x00930103, 0x00930101, 0x00930101, 0x00930100, 0x00930100, 0x00930101, 0x00930101, 0x00930101, 0x00930101, 0x00930101, 0x00930101, 0x00930101, 0x00930101,
        },
        .tattle = 0x1A0096,
    },
    {
        .id = 12,
        .settings = &N(npcSettings_802450DC),
        .pos = { 40.0, 0.0, 105.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_80249B10),
        .yaw = 270,
        .dropFlags = 0x80,
        .movement = { 0x00000002, 0x00000028, 0x00000000, 0x00000069, 0xFFFFFFE2, 0x00000000, 0x0000007D, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xFFFF8001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x00930101, 0x00930102, 0x00930103, 0x00930103, 0x00930101, 0x00930101, 0x00930100, 0x00930100, 0x00930101, 0x00930101, 0x00930101, 0x00930101, 0x00930101, 0x00930101, 0x00930101, 0x00930101,
        },
        .tattle = 0x1A0097,
    },
};

StaticNpc N(npcGroup_8024AE94)[] = {
    {
        .id = 7,
        .settings = &N(npcSettings_80245160),
        .pos = { -141.0, 0.0, -18.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_802498C4),
        .yaw = 62,
        .dropFlags = 0x80,
        .animations = {
            0x00840101, 0x00840102, 0x00840103, 0x00840103, 0x00840101, 0x00840101, 0x00840106, 0x00840106, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103,
        },
        .tattle = 0x1A0003,
    },
    {
        .id = 8,
        .settings = &N(npcSettings_80245160),
        .pos = { -124.0, 0.0, -61.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_802498C4),
        .yaw = 63,
        .dropFlags = 0x80,
        .animations = {
            0x00840101, 0x00840102, 0x00840103, 0x00840103, 0x00840101, 0x00840101, 0x00840106, 0x00840106, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103,
        },
        .tattle = 0x1A0004,
    },
    {
        .id = 9,
        .settings = &N(npcSettings_80245160),
        .pos = { -80.0, 0.0, -35.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_802498C4),
        .yaw = 244,
        .dropFlags = 0x80,
        .animations = {
            0x00840101, 0x00840102, 0x00840103, 0x00840103, 0x00840101, 0x00840101, 0x00840106, 0x00840106, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103,
        },
        .tattle = 0x1A0005,
    },
};

NpcGroupList N(npcGroupList_8024B464) = {
    NPC_GROUP(N(npcGroup_80249B34), 0x00000000),
    {},
};

NpcGroupList N(npcGroupList_8024B47C) = {
    NPC_GROUP(N(npcGroup_80249B34), 0x00000000),
    NPC_GROUP(N(npcGroup_8024AE94), 0x00000000),
    {},
};

s32 N(intTable_8024B4A0)[] = {
    0x00270049, 0x0027004A, 0x0027004B, 0x0027004C, 0x0027004D, 0x0027004E, 0x0027004F, 0x00270050,
    0x00270051, 0x00270052, 0x00270053, 0x00270054, 0x00270055, 0x00270056, 0x00270057, 0x00270058,
    0x00270059, 0x0027005A, 0x0027005B, 0x0027005C, 0x0027005D, 0x0027005E, 0x0027005F,
};

s32 N(shopInventory_8024B4FC)[] = {
    0x00000084, 0x00000005, 0x00240003, 0x00000086, 0x00000002, 0x00240005, 0x000000A4, 0x00000005,
    0x00240016, 0x0000008D, 0x00000002, 0x0024000D, 0x000000A7, 0x00000003, 0x0024001D, 0x0000008A,
    0x00000003, 0x00240009, 0x00000000, 0x00000000, 0x00000000,
};

s32 N(shopPriceList_8024B550)[] = {
    0x00000081, 0x0000000C, 0x00000000, 0x000000AD, 0x0000000A, 0x00000000, 0x000000AF, 0x0000000A,
    0x00000000, 0x00000089, 0x00000005, 0x00000000, 0x0000009B, 0x00000006, 0x00000000, 0x000000BF,
    0x0000000F, 0x00000000, 0x000000A7, 0x00000002, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
};

s32 N(unk_8024B5B0)[] = {
    0x00000000,
};

Script N(script_8024B5B4) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 0);
    return;
});

Script N(script_8024B5E4) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 16);
    return;
});

Script N(script_8024B614) = SCRIPT({
    NpcJump0(6, 0xFFFFFFE1, 0, 0xFFFFFEE5, 10);
    NpcJump0(6, 0xFFFFFFE2, 0, 0xFFFFFEE5, 8);
});

Script N(script_8024B664) = SCRIPT({
    NpcJump0(6, 20, 0, 0xFFFFFEFD, 10);
    NpcJump0(6, 20, 0, 0xFFFFFEFD, 4);
});

Script N(script_8024B6B4) = SCRIPT({
    func_80243578_95E778();
    0x802D2C14(1);
    await N(script_8024B614);
    if (SI_SAVE_VAR(0) < 0xFFFFFFC0) {
        SpeakToPlayer(6, 0x940105, 0x940101, 0, 0xD0087);
        SetPlayerAnimation(0x10002);
        sleep 10;
        SetPlayerAnimation(0x80007);
        sleep 30;
    }
    SpeakToPlayer(6, 0x940105, 0x940101, 0, 0xD0088);
    SI_SAVE_VAR(0) = 0xFFFFFFC0;
    0x802D2C14(0);
    await N(script_8024B664);
}
});

Script N(script_8024B7B0) = SCRIPT({
    if (SI_SAVE_FLAG(758) == 0) {
        func_80243578_95E778();
        0x802D2C14(1);
        await N(script_8024B614);
        SpeakToPlayer(6, 0x940105, 0x940101, 0, 0xD008D);
        SI_VAR(0) = 119;
        SI_VAR(1) = 1;
        await N(script_8024B5B4);
        AddKeyItem(119);
        SI_SAVE_FLAG(758) = 1;
        sleep 20;
        0x802D2C14(0);
        await N(script_8024B664);
    }
});

Script N(script_8024B894) = SCRIPT({
    match SI_VAR(0) {
        == 3 {}
        == 4 {}
        == 1 {
            SI_VAR(2) = SI_AREA_VAR(4);
            SI_VAR(3) = SI_AREA_VAR(5);
            SI_VAR(4) = SI_AREA_VAR(6);
            SI_AREA_VAR(5) = SI_VAR(2);
            SI_AREA_VAR(6) = SI_VAR(3);
            match SI_VAR(1) {
                == 141 {
                    SI_AREA_VAR(4) = 1;
                    if (SI_VAR(2) == 2) {
                        if (SI_VAR(3) == 3) {
                            if (SI_VAR(4) == 2) {
                                await N(script_8024B7B0);
                                SI_AREA_VAR(4) = 0;
                            }
                        }
                    }
                }
                == 134 {
                    SI_AREA_VAR(4) = 2;
                    if (SI_VAR(2) == 1) {
                        if (SI_SAVE_VAR(0) < 0xFFFFFFC1) {
                            await N(script_8024B6B4);
                            SI_AREA_VAR(4) = 0;
                        }
                    }
                }
                == 167 {
                    SI_AREA_VAR(4) = 3;
                } else {
                    SI_AREA_VAR(4) = 0;
                }
            }
        }
        == 2 {
        }
    }
});

s32 N(shopItemPositions_8024BA68)[] = {
    0x004C0021, 0x004B0022, 0x00490023, 0x004A0024, 0x00480025, 0x00470026,
};

s32 N(shopOwnerNPC_8024BA80)[] = {
    0x00000006, 0x00940101, 0x00940105, N(script_8024B894), 0x00000000, 0x00000000, N(intTable_8024B4A0),
};

s32 pad_00BA9C[] = {
    0x00000000,
};

Script N(script_OpenDoor_8024BAA0) = SCRIPT({
    RotateModel(103, SI_VAR(0), 0, 1, 0);
});

Script N(script_MoveWalls_8024BAD0) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) /= 50;
    TranslateModel(98, 0, SI_VAR(1), 0);
    TranslateModel(97, 0, SI_VAR(1), 0);
    RotateModel(98, SI_VAR(0), 1, 0, 0);
    RotateModel(97, SI_VAR(0), 1, 0, 0);
    RotateModel(100, SI_VAR(0), -1, 0, 0);
    RotateModel(101, SI_VAR(0), -1, 0, 0);
});

Script N(script_DropDoor_8024BBB8) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) /= 50;
    TranslateModel(103, 0, SI_VAR(1), 0);
    RotateModel(103, SI_VAR(0), 1, 0, 0);
});

Script N(script_OpenDoor_8024BC24) = SCRIPT({
    RotateModel(83, SI_VAR(0), 0, 1, 0);
});

Script N(script_MoveWalls_8024BC54) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) /= 50;
    TranslateModel(47, 0, SI_VAR(1), 0);
    TranslateModel(48, 0, SI_VAR(1), 0);
    RotateModel(47, SI_VAR(0), 1, 0, 0);
    RotateModel(48, SI_VAR(0), 1, 0, 0);
    RotateModel(41, SI_VAR(0), -1, 0, 0);
    RotateModel(42, SI_VAR(0), -1, 0, 0);
    RotateModel(43, SI_VAR(0), -1, 0, 0);
    RotateModel(44, SI_VAR(0), -1, 0, 0);
    RotateModel(45, SI_VAR(0), -1, 0, 0);
});

Script N(script_OpenDoor_8024BD9C) = SCRIPT({
    RotateModel(157, SI_VAR(0), 0, 1, 0);
});

Script N(script_DropDoor_8024BDCC) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) /= 45;
    TranslateModel(157, 0, SI_VAR(1), 0);
    RotateModel(157, SI_VAR(0), 1, 0, 0);
});

Script N(script_MoveWalls_8024BE38) = SCRIPT({
    if (SI_VAR(0) == 90) {
        EnableModel(142, 0);
    } else {
        EnableModel(142, 1);
    }
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) /= 45;
    SI_VAR(2) = SI_VAR(0);
    SI_VAR(2) -= 0xFFFFFFA6;
    SI_VAR(2) /= 0xFFFFFFA6;
    TranslateModel(140, 0, SI_VAR(1), 0);
    RotateModel(140, SI_VAR(0), 1, 0, 0);
    RotateModel(138, SI_VAR(0), -1, 0, 0);
    RotateModel(137, SI_VAR(0), -1, 0, 0);
    RotateModel(136, SI_VAR(0), -1, 0, 0);
    RotateModel(135, SI_VAR(0), -1, 0, 0);
    RotateModel(143, SI_VAR(0), 1, 0, 0);
    RotateModel(142, SI_VAR(0), 1, 0, 0);
});

Script N(script_ToggleVis_8024BFDC) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            SetGroupEnabled(127, 1);
        }
        == 3 {
            SetGroupEnabled(127, 0);
        }
    }
});

Script N(script_ToggleVis_8024C040) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            match SI_SAVE_VAR(0) {
                < 0xFFFFFFBE {
                    ShowMessageAtScreenPos(0x1D017B, 160, 40);
                    SI_VAR(0) = -1;
                    return;
                }
                < 0xFFFFFFBF {
                    SI_VAR(0) = -1;
                    return;
                }
            }
            SetGroupEnabled(82, 1);
        }
        == 2 {
            spawn {
                sleep 45;
                SetNpcPos(6, 33, 0, 0xFFFFFE89);
                SetNpcYaw(6, 180);
            }
        }
        == 3 {
            SetGroupEnabled(82, 0);
            SI_AREA_VAR(4) = 0;
            SI_AREA_VAR(5) = 0;
        }
    }
});

Script N(script_ToggleVis_8024C190) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            SetGroupEnabled(156, 1);
        }
        == 2 {}
        == 3 {
            SetGroupEnabled(156, 0);
        }
    }
});

s32 N(npcList_8024C200)[] = {
    0x00000002, 0xFFFFFFFF,
};

s32 N(npcList_8024C208)[] = {
    0x00000006, 0xFFFFFFFF,
};

s32 N(npcList_8024C210)[] = {
    0x00000005, 0xFFFFFFFF,
};

Script N(script_8024C218) = SCRIPT({
    MakeDoorAdvanced(5, N(script_OpenDoor_8024BAA0), N(script_MoveWalls_8024BAD0), N(script_DropDoor_8024BBB8), N(script_ToggleVis_8024BFDC), 15, 16, 128, N(npcList_8024C200));
    MakeDoorAdvanced(5, N(script_OpenDoor_8024BC24), N(script_MoveWalls_8024BC54), 0, N(script_ToggleVis_8024C040), 23, 24, 91, N(npcList_8024C208));
    MakeDoorAdvanced(5, N(script_OpenDoor_8024BD9C), N(script_MoveWalls_8024BE38), N(script_DropDoor_8024BDCC), N(script_ToggleVis_8024C190), 29, 30, 159, N(npcList_8024C210));
    SI_VAR(0) = 3;
    spawn N(script_ToggleVis_8024BFDC);
    spawn N(script_ToggleVis_8024C040);
    spawn N(script_ToggleVis_8024C190);
});

Script N(script_8024C2EC) = SCRIPT({
9:
    MakeLerp(10, 0xFFFFFFF6, 30, 10);
10:
    UpdateLerp();
    RotateModel(34, SI_VAR(0), 1, 0, 0);
    sleep 1;
    if (SI_VAR(1) == 1) {
        goto 10;
    }
    MakeLerp(0xFFFFFFF6, 10, 30, 10);
11:
    UpdateLerp();
    RotateModel(34, SI_VAR(0), 1, 0, 0);
    sleep 1;
    if (SI_VAR(1) == 1) {
        goto 11;
    }
    goto 9;
});

Script N(script_8024C41C) = SCRIPT({
    SetGroupEnabled(82, 1);
    PlaySoundAtCollider(23, 449, 0);
    MakeLerp(0, 100, 15, 4);
10:
    UpdateLerp();
    spawn N(script_OpenDoor_8024BC24);
    sleep 1;
    if (SI_VAR(1) == 1) {
        goto 10;
    }
});

Script N(script_8024C4C8) = SCRIPT({
    MakeLerp(100, 0, 15, 4);
10:
    UpdateLerp();
    spawn N(script_OpenDoor_8024BC24);
    sleep 1;
    if (SI_VAR(1) == 1) {
        goto 10;
    }
    PlaySoundAtCollider(23, 450, 0);
    SetGroupEnabled(82, 0);
});

s32 pad_00C574[] = {
    0x00000000, 0x00000000, 0x00000000,
};

Script N(script_8024C580) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    DisablePartnerAI(0);
    HidePlayerShadow(1);
    SetPlayerAnimation(0x10000);
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        EnableNpcShadow(0xFFFFFFFC, 0);
        SetNpcPos(0xFFFFFFFC, 0, 0xFFFFFC18, 0);
    }
    GetEntryID(SI_VAR(0));
    func_80243690_95E890();
    SI_VAR(2) -= 40;
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    InterpPlayerYaw(SI_VAR(4), 0);
    PlaySound(355);
    0x802D286C(256);
    0x802D2520(0x10000, 5, 2, 1, 1, 0);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    loop 40 {
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    sleep 3;
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        spawn {
            DisablePartnerAI(0);
            GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(2) -= 3;
            SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SetNpcFlagBits(0xFFFFFFFC, 2, 0);
            EnablePartnerAI();
            EnableNpcShadow(0xFFFFFFFC, 1);
        }
    }
    sleep 2;
    0x802D2520(0x10000, 0, 0, 0, 0, 0);
    sleep 1;
    SetPlayerAnimation(0x10002);
    DisablePlayerPhysics(0);
    DisablePlayerInput(0);
    HidePlayerShadow(0);
0:
    func_802435C0_95E7C0();
    sleep 1;
    if (SI_VAR(0) != -1) {
        goto 0;
    }
    spawn 0xFE363C8A;
});

Script N(script_8024C8D4) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    ModifyColliderFlags(0, SI_VAR(11), 0x7FFFFE00);
    GetEntryID(SI_VAR(0));
    func_80243690_95E890();
    SI_VAR(5) = SI_VAR(1);
    SI_VAR(6) = SI_VAR(2);
    SI_VAR(7) = SI_VAR(3);
    SI_VAR(2) += 2;
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    InterpPlayerYaw(SI_VAR(4), 0);
    if (SI_VAR(4) == 90) {
        SI_VAR(5) += 40;
    } else {
        SI_VAR(5) -= 40;
    }
    UseSettingsFrom(0, SI_VAR(5), SI_VAR(6), SI_VAR(7));
    SetPanTarget(0, SI_VAR(5), SI_VAR(6), SI_VAR(7));
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        DisablePartnerAI(0);
        EnableNpcShadow(0xFFFFFFFC, 0);
        SetNpcPos(0xFFFFFFFC, 0, 0xFFFFFC18, 0);
        InterpNpcYaw(0xFFFFFFFC, SI_VAR(0), 0);
    }
    sleep 1;
    PlaySound(355);
    spawn {
        sleep 25;
        HidePlayerShadow(0);
    }
    0x802D286C(2304);
    0x802D2520(0x10002, 5, 3, 1, 1, 0);
    loop 40 {
        func_802437DC_95E9DC(1.0);
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        spawn {
            GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(2) -= 3;
            SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            EnableNpcShadow(0xFFFFFFFC, 1);
            EnablePartnerAI();
        }
    }
    sleep 5;
    0x802D2520(0x10002, 0, 0, 0, 0, 0);
    ModifyColliderFlags(1, SI_VAR(11), 0x7FFFFE00);
    DisablePlayerInput(0);
    DisablePlayerPhysics(0);
    PanToTarget(0, 0, 0);
    spawn 0xFE363C8A;
});

Script N(script_8024CCC4) = SCRIPT({
    func_802435D4_95E7D4();
    if (SI_VAR(0) == 0) {
        return;
    }
    GetCurrentPartner(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        GetCurrentPartnerID(SI_VAR(1));
        if (SI_VAR(1) != 6) {
            return;
        } else {
            0x802D2B6C();
            DisablePlayerInput(1);
        }
    } else {
        DisablePlayerInput(1);
    }
    await N(script_8024CDA0);
});

Script N(script_8024CDA0) = SCRIPT({
    func_802435A0_95E7A0();
    group 27;
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    SI_VAR(0) = SI_VAR(10);
    func_80243690_95E890();
    PlayerMoveTo(SI_VAR(1), SI_VAR(3), 3);
    SI_VAR(0) = SI_VAR(10);
    func_80243690_95E890();
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    SetPlayerFlagBits(0x200000, 1);
    func_80243770_95E970();
    InterpPlayerYaw(SI_VAR(0), 0);
    sleep 2;
    SetPlayerFlagBits(0x200000, 0);
    PlaySound(355);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    spawn {
        sleep 4;
        loop 40 {
            SI_VAR(1) -= 1;
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
    }
    0x802D286C(2048);
    0x802D2520(0x10002, 5, 2, 1, 1, 0);
    sleep 25;
    await 0xFE363C8C;
});

Script N(script_8024CF7C) = SCRIPT({
    0x802D249C(SI_VAR(0));
    if (SI_VAR(0) == 0) {
        return;
    }
    GetPlayerActionState(SI_VAR(0));
    if (SI_VAR(0) == 26) {
        return;
    }
    GetCurrentPartner(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        GetCurrentPartnerID(SI_VAR(1));
        if (SI_VAR(1) != 6) {
            return;
        } else {
            0x802D2B6C();
            DisablePlayerInput(1);
        }
    } else {
        DisablePlayerInput(1);
    }
    group 27;
    func_802435A0_95E7A0();
    DisablePlayerPhysics(1);
    ModifyColliderFlags(0, SI_VAR(11), 0x7FFFFE00);
    SI_VAR(0) = SI_VAR(10);
    func_80243690_95E890();
    SI_VAR(5) = SI_VAR(1);
    SI_VAR(6) = SI_VAR(2);
    SI_VAR(6) += 2;
    SI_VAR(7) = SI_VAR(3);
    SI_VAR(8) = SI_VAR(4);
    SI_VAR(8) += 180;
    if (SI_VAR(4) >= 360) {
        SI_VAR(4) -= 360;
    }
    InterpPlayerYaw(SI_VAR(8), 1);
    sleep 1;
    PlaySound(355);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPlayerPos(SI_VAR(0), SI_VAR(6), SI_VAR(7));
    SetPlayerAnimation(0x10000);
    0x802D286C(2048);
    0x802D2520(0x10000, 5, 3, 1, 1, 0);
    spawn {
        sleep 8;
        HidePlayerShadow(1);
    }
    spawn {
        sleep 3;
        loop 40 {
            func_802437DC_95E9DC(1.0);
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
    }
    sleep 25;
    await 0xFE363C8C;
});

Script N(script_8024D2B0) = SCRIPT({
    SI_SAVE_FLAG(761) = 0;
    GotoMap(D_8024DFB0_9691B0, 4);
    sleep 100;
});

Script N(script_MakeEntities) = SCRIPT({
    MakeEntity(0x802E9A18, 0xFFFFFF2D, 60, 0xFFFFFFCE, 30, 0x80000000);
    if (SI_SAVE_FLAG(1939) == 0) {
        if (SI_SAVE_FLAG(1933) == 1) {
            GetEntryID(SI_VAR(0));
            if (SI_VAR(0) != 2) {
                SI_SAVE_FLAG(1939) = 1;
            }
        }
    }
    MakeEntity(0x802EAF80, 430, 0, 0xFFFFFF88, 0, 2, N(script_8024D2B0), 1939, 0x80000000);
});

s32 pad_00D3BC[] = {
    0x00000000,
};

// Unable to use DSL: DSL does not support script opcode 0x30
// *INDENT-OFF*
Script N(script_SearchBush_8024D3C0) = {
    SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BUFFER_READ_4, SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4)),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(5), SI_VAR(15), SI_VAR(7)),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(1), 0),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_802438F0_95EAF0, SI_VAR(3), SI_FIXED(0.1005859375), 1, SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(3), 339, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_802438F0_95EAF0, SI_VAR(3), SI_FIXED(0.1005859375), -1, SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(3), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(2), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(5), SI_VAR(6), SI_VAR(7)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(10), 0),
                    SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(4), SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9)),
                SI_CMD(ScriptOpcode_ELSE),
                    SI_CMD(ScriptOpcode_CALL, GetValueByRef, SI_VAR(10), SI_VAR(11)),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(11), 0),
                        SI_CMD(ScriptOpcode_CALL, SetValueByRef, SI_VAR(10), 1),
                        SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(4), SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9)),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_IF_NE, SI_VAR(4), 0),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, 0xFE363C84),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

// Unable to use DSL: DSL does not support script opcode 0x4C
// *INDENT-OFF*
Script N(script_ShakeTree_8024D720) = {
    SI_CMD(ScriptOpcode_SET_TIMESCALE, SI_FIXED(2.0)),
    SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BUFFER_READ_4, SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4)),
    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(6), SI_VAR(15), SI_VAR(8)),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 357),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 358),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(1), 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_802438F0_95EAF0, SI_VAR(3), SI_FIXED(0.1005859375), SI_FIXED(0.2001953125), SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(3), 358, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_802438F0_95EAF0, SI_VAR(3), SI_FIXED(0.1005859375), SI_FIXED(-0.19921875), SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(3), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(2), 0),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                    SI_CMD(ScriptOpcode_CALL, func_802438F0_95EAF0, SI_VAR(4), SI_FIXED(0.1005859375), SI_FIXED(0.2001953125), SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(4), 357, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                    SI_CMD(ScriptOpcode_CALL, func_802438F0_95EAF0, SI_VAR(4), SI_FIXED(0.1005859375), SI_FIXED(-0.19921875), SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(4), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(3), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(3)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(4)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(6), SI_VAR(7), SI_VAR(8)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(9), SI_VAR(10), SI_VAR(11)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(11), 0),
                    SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                SI_CMD(ScriptOpcode_ELSE),
                    SI_CMD(ScriptOpcode_CALL, GetValueByRef, SI_VAR(11), SI_VAR(12)),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(12), 0),
                        SI_CMD(ScriptOpcode_CALL, SetValueByRef, SI_VAR(11), 1),
                        SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(4), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(4)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(5)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(6), SI_VAR(7), SI_VAR(8)),
                SI_CMD(ScriptOpcode_CALL, PlayEffect, 20, 0, SI_VAR(6), SI_VAR(7), SI_VAR(8), 100, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_IF_NE, SI_VAR(5), 0),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, 0xFE363C85),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

ModelIdList N(treeModelList_Tree1_Leaves) = {
    .count = 0x1,
    .modelIDs = { 0xD },
};

ModelIdList N(treeModelList_Tree1_Trunk) = {
    .count = 0x1,
    .modelIDs = { 0xE },
};

s32 N(treeDropList_Tree1)[] = {
    0x00000001, 0x00000157, 0x00000078, 0x0000005C, 0xFFFFFFEE, 0x0000000F, 0xF8405E78, 0x00000000,
};

ShakeTree N(shakeTreeEvent_Tree1) = {
    .leaves = &N(treeModelList_Tree1_Leaves),
    .trunk = &N(treeModelList_Tree1_Trunk),
    .drops = &N(treeDropList_Tree1),
    .effectVectors = NULL,
    .callback = NULL,
};

Vec4f N(triggerCoord_8024DD68) =  { 120.0f, 0.0f, -43.0f, 0.0f };

Script N(script_8024DD78) = SCRIPT({
    SI_VAR(0) = N(shakeTreeEvent_Tree1);
    bind N(script_ShakeTree_8024D720) to TriggerFlag_WALL_HAMMER 11;
    bind N(script_ShakeTree_8024D720) to TriggerFlag_BOMB N(triggerCoord_8024DD68);
});

// rodata: D_8024DDD0_968FD0

// rodata: D_8024DDD8_968FD8

// rodata: D_8024DDE0_968FE0

// rodata: D_8024DDE8_968FE8

// rodata: jtbl_8024DDF0_968FF0

// rodata: jtbl_8024DF80_969180

s32 pad_00DF94[] = {
    0x00000000,
};

// rodata: jtbl_8024DF98_969198

s32 pad_00DFAC[] = {
    0x00000000,
};

// rodata: D_8024DFB0_9691B0

s32 pad_00DFB8[] = {
    0x00000000, 0x00000000,
};

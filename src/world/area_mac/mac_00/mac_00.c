#include "mac_00.h"

s32 pad_00062C[1];
s32 pad_0022B8[2];
s32 pad_00256C[1];
s32 pad_003B58[2];
Script N(script_80243C20);
Script N(script_80243D40);
Script N(script_80244094);
Script N(script_80244484);
Script N(script_80244560);
Script N(script_8024473C);
Script N(script_UpdateTexturePan_80244A70);
Script N(script_ExitWalk_80244B0C);
Script N(script_ExitWalk_80244B68);
Script N(script_80244BC4);
Script N(script_80244BF4);
Script N(script_80244C24);
Script N(script_80244C7C);
Script N(script_80244CD4);
Script N(script_EnterWalk_80244D74);
Script N(main);
Script N(script_80245260);
Script N(script_MakeEntities);
Script N(script_OpenDoor_80245330);
Script N(script_MoveWalls_80245360);
Script N(script_DropDoor_80245570);
Script N(script_ToggleVis_802455A0);
Script N(script_OpenDoor_80245624);
Script N(script_MoveWalls_80245654);
Script N(script_ToggleVis_80245784);
Script N(script_OpenDoor_8024581C);
Script N(script_MoveWalls_8024584C);
Script N(script_DropDoor_802458FC);
Script N(script_ToggleVis_8024592C);
Script N(script_OpenDoor_802459C0);
Script N(script_MoveWalls_802459F0);
Script N(script_ToggleVis_80245B10);
s32 N(npcList_80245BBC)[2];
s32 N(npcList_80245BC4)[4];
s32 N(npcList_80245BD4)[4];
s32 N(npcList_80245BE4)[5];
Script N(script_80245BF8);
s32 pad_005D08[2];
s32 unk_missing_80245D3C[11];
s32 N(unk_80245DC0)[1];
Script N(script_80245DC4);
Script N(script_80245DF4);
s32 N(quizAnswers)[16];
s32 N(quizRequirements)[20];
Script N(script_80245EB4);
Script N(script_80245F64);
Script N(script_80246100);
Script N(script_802461FC);
Script N(script_80246238);
Script N(script_802463E8);
Script N(script_80246520);
Script N(script_8024668C);
Script N(script_802466C0);
Script N(script_80246700);
Script N(script_8024673C);
Script N(script_80247284);
Script N(script_802472C4);
Script N(script_802473A0);
Script N(script_80247450);
Script N(script_80247500);
Script N(script_80248230);
Script N(script_802482A4);
Script N(script_80248324);
Script N(script_80248370);
s32 N(unk_80248390)[22];
s32 N(unk_802483E8)[1];
s32 N(unk_802483EC)[1];
Script N(script_802483F0);
Script N(script_80248534);
Script N(script_80248584);
Script N(script_802486B8);
Script N(script_80248708);
Script N(script_80248788);
Script N(script_80248AAC);
Script N(script_80248B1C);
s32 N(unk_80248E14)[2];
Script N(script_80248E1C);
Script N(script_80248E6C);
Script N(script_80248ED0);
s32 N(russTLore)[180];
Script N(script_802491E8);
Script N(script_802492DC);
Script N(script_Init_80249684);
Script N(script_80249700);
s32 N(unk_80249864)[4];
s32 N(unk_80249874)[3];
Script N(script_80249880);
Script N(script_80249A7C);
Script N(script_Interact_80249BC4);
Script N(script_Init_80249CC0);
Script N(script_NpcAI_80249D1C);
Script N(script_Hit_8024A110);
Script N(script_Interact_8024A294);
Script N(script_Init_8024A2C4);
Script N(script_Init_8024A368);
Script N(script_Interact_8024A4D4);
Script N(script_Interact_8024A4F0);
Script N(script_Init_8024A520);
Script N(script_Init_8024A59C);
s32 N(dojoBattleIDs)[5];
Script N(script_Interact_8024A644);
Script N(script_NpcAI_8024A6B4);
Script N(script_Defeat_8024A85C);
Script N(script_Init_8024A978);
Script N(script_Interact_8024AA04);
Script N(script_NpcAI_8024AA74);
Script N(script_Defeat_8024AC1C);
Script N(script_Init_8024AD38);
Script N(script_Idle_8024ADA4);
Script N(script_Defeat_8024B164);
Script N(script_8024B1DC);
Script N(script_Interact_8024B5B8);
Script N(script_Init_8024B5E0);
Script N(script_Interact_8024B618);
Script N(script_Interact_8024B874);
Script N(script_Interact_8024BA54);
Script N(script_Interact_8024BCB0);
Script N(script_Init_8024BE90);
Script N(script_Init_8024BEB4);
Script N(script_Init_8024BED8);
Script N(script_Init_8024BEFC);
Script N(script_8024BF20);
Script N(script_Interact_8024C08C);
Script N(script_Init_8024C408);
StaticNpc N(npcGroup_8024C45C)[3];
StaticNpc N(npcGroup_8024CA2C)[1];
StaticNpc N(npcGroup_8024CC1C)[2];
s32 N(extraAnimationList_8024CFFC)[5];
s32 N(extraAnimationList_8024D010)[5];
s32 N(extraAnimationList_8024D024)[5];
StaticNpc N(npcGroup_8024D038)[3];
s32 unk_missing_8024D608[124];
StaticNpc N(npcGroup_8024D7F8)[4];
StaticNpc N(npcGroup_8024DFB8)[1];
NpcGroupList N(npcGroupList_8024E1A8);
s32 pad_00E208[2];
s32 N(intTable_8024E210)[23];
s32 N(shopInventory_8024E26C)[21];
s32 N(shopPriceList_8024E2C0)[24];
Script N(script_8024E320);
s32 N(shopItemPositions_8024E374)[6];
s32 N(shopOwnerNPC_8024E38C)[7];
Script N(script_8024E3A8);
s32 pad_00E3E4[3];
s32 N(unk_8024E3F0)[6];
s32 N(unk_8024E408)[6];
Script N(script_8024E420);
s32 pad_00E4B4[3];
Script N(script_8024E4C0);
Script N(script_8024E9F4);
Script N(script_8024EAB4);
s32 pad_00EAEC[1];
Script N(script_8024EAF0);
s32 pad_00EB3C[1];
Script N(script_NpcAI_8024EB70);
s32 unk_missing_8024EBBC[11];
Script N(script_NpcAI_8024EC18);
s32 unk_missing_8024EC64[11];
s32 unk_missing_8024ECBC[11];
s32 N(unk_8024ECE8)[1];
Script N(script_8024ECEC);
Script N(script_8024ED1C);
s32 N(unk_8024ED4C)[1];
s32 N(unk_8024ED50)[1];
Script N(script_8024ED54);
Script N(script_8024EE98);
Script N(script_8024EEE8);
Script N(script_8024EF68);
Script N(script_8024F28C);
Script N(script_8024F2FC);
s32 N(unk_8024F5F4)[2];
Script N(script_8024F5FC);
Script N(script_8024F64C);
Script N(script_Interact_8024F944);
Script N(script_8024FBA0);
Script N(script_8024FC44);
Script N(script_Interact_8024FC70);
Script N(script_Interact_8024FECC);
Script N(script_Interact_80250128);
Script N(script_Interact_802504B4);
Script N(script_Interact_8025095C);
Script N(script_Interact_802509A4);
Script N(script_Aux_80250C00);
Script N(script_Aux_80250C44);
Script N(script_Aux_80250C88);
Script N(script_Aux_80250CCC);
Script N(script_Interact_80250D10);
Script N(script_Init_80250EE4);
Script N(script_Init_80250F5C);
Script N(script_Init_80250F80);
Script N(script_Init_80250FA4);
Script N(script_Init_80250FC8);
Script N(script_Init_80251000);
Script N(script_Init_80251038);
Script N(script_Init_80251070);
Script N(script_Init_802510A8);
Script N(script_Init_80251100);
StaticNpc N(npcGroup_80251124)[10];
s32 pad_012484[3];
s32 unk_missing_802524E8[11];
Script N(script_NpcAI_80252544);
s32 unk_missing_80252590[11];
Script N(script_Init_802525BC);
Script N(script_Init_802525FC);
s32 N(extraAnimationList_8025263C)[4];
s32 N(extraAnimationList_8025264C)[4];
StaticNpc N(npcGroup_8025265C)[6];
NpcGroupList N(npcGroupList_802531FC);
s32 pad_013214[3];
Script N(script_80253220);
Script N(script_80253374);
Script N(script_80253508);
s32 pad_013834[3];
s32 unk_missing_802538C4[11];
Script N(script_Interact_802538F0);
Script N(script_Init_80253920);
Script N(script_Interact_80253944);
Script N(script_Init_80253974);
Script N(script_Interact_80253998);
Script N(script_Init_802539C8);
Script N(script_Interact_802539EC);
Script N(script_Init_80253A1C);
Script N(script_Interact_80253A70);
Script N(script_Init_80253AA0);
Script N(script_Interact_80253AD8);
Script N(script_Init_80253B08);
Script N(script_Interact_80253B44);
Script N(script_Init_80253B74);
Script N(script_Interact_80253B98);
Script N(script_Init_80253BC8);
Script N(script_Interact_80253BEC);
Script N(script_Init_80253C1C);
Script N(script_Interact_80253CE8);
Script N(script_Init_80253D18);
s32 N(extraAnimationList_80253D3C)[6];
StaticNpc N(npcGroup_80253D54)[1];
s32 N(extraAnimationList_80253F44)[4];
s32 N(extraAnimationList_80253F54)[4];
s32 N(extraAnimationList_80253F64)[4];
StaticNpc N(npcGroup_80253F74)[3];
s32 N(extraAnimationList_80254544)[4];
s32 N(extraAnimationList_80254554)[4];
StaticNpc N(npcGroup_80254564)[2];
s32 N(extraAnimationList_80254944)[4];
s32 N(extraAnimationList_80254954)[4];
s32 N(extraAnimationList_80254964)[4];
StaticNpc N(npcGroup_80254974)[3];
s32 N(extraAnimationList_80254F44)[4];
StaticNpc N(npcGroup_80254F54)[2];
NpcGroupList N(npcGroupList_80255334);
s32 pad_015394[3];
Script N(script_802553A0);
Script N(script_802554F4);
Script N(script_80255688);
s32 pad_015988[2];
const char D_80255990_8006A0[8]; // "kmr_10"
const char D_80255998_8006A8[8]; // "mac_01"
const char D_802559A0_8006B0[8]; // "tik_19"
const char D_802559A8_8006B8[8]; // "kmr_20"
const char D_802559B0_8006C0[8]; // "mac_00"
s32 pad_0159B8[2];
const char D_80255B60_800870[8]; // "mac_01"
s32 pad_015B68[2];

// text: func_80240000_7EAD10

// text: func_80240020_7EAD30

// text: func_80240034_7EAD44

// text: func_802400F0_7EAE00

// text: func_802401D0_7EAEE0

// text: func_8024023C_7EAF4C

// text: func_802402E0_7EAFF0

// text: func_80240404_7EB114

// text: func_802405EC_7EB2FC

// text: func_80240624_7EB334

s32 pad_00062C[] = {
    0x00000000,
};

// text: func_80240630_7EB340

// text: func_802406E4_7EB3F4

// text: func_80240748_7EB458

// text: func_8024075C_7EB46C

// text: func_8024076C_7EB47C

// text: func_80240990_7EB6A0

// text: func_802409DC_7EB6EC

// text: func_802409FC_7EB70C

// text: func_80240A5C_7EB76C

// text: func_80240BA8_7EB8B8

// text: func_80240D1C_7EBA2C

// text: func_80240DA0_7EBAB0

// text: func_80240FB8_7EBCC8

// text: func_8024106C_7EBD7C

// text: func_802410A0_7EBDB0

// text: func_80241120_7EBE30

// text: func_80241138_7EBE48

// text: func_80241154_7EBE64

// text: func_8024116C_7EBE7C

// text: func_8024119C_7EBEAC

// text: func_80241210_7EBF20

// text: func_802412B0_7EBFC0

// text: func_8024144C_7EC15C

// text: func_802414B0_7EC1C0

// text: func_80241540_7EC250

// text: func_80241628_7EC338

// text: func_80241694_7EC3A4

// text: func_802416C4_7EC3D4

// text: func_80241720_7EC430

// text: func_802418F0_7EC600

// text: func_80241944_7EC654

// text: func_8024197C_7EC68C

// text: func_80241A18_7EC728

// text: func_80241AB4_7EC7C4

// text: func_80241BA4_7EC8B4

// text: func_80241D30_7ECA40

// text: func_80241D74_7ECA84

// text: func_80241DA0_7ECAB0

// text: func_80241E04_7ECB14

// text: func_80241E80_7ECB90

// text: func_80241FF0_7ECD00

// text: func_80242078_7ECD88

// text: func_80242178_7ECE88

// text: func_802421D0_7ECEE0

// text: func_80242224_7ECF34

// text: func_80242250_7ECF60

// text: func_8024228C_7ECF9C

s32 pad_0022B8[] = {
    0x00000000, 0x00000000,
};

// text: func_802422C0_7ECFD0

// text: func_802423F0_7ED100

s32 pad_00256C[] = {
    0x00000000,
};

// text: func_80242570_7ED280

// text: func_802426C8_7ED3D8

// text: func_80242970_7ED680

// text: func_80242A30_7ED740

// text: func_80242BEC_7ED8FC

// text: N(NpcJumpFunc2)

// text: N(NpcJumpFunc)

// text: func_80242D8C_7EDA9C

// text: func_80242EBC_7EDBCC

// text: N(UnkNpcDurationFlagFunc)

// text: func_80243044_7EDD54

// text: func_80243104_7EDE14

// text: func_80243400_7EE110

// text: func_802434B4_7EE1C4

// text: func_80243518_7EE228

// text: func_80243574_7EE284

// text: func_80243744_7EE454

// text: func_80243798_7EE4A8

// text: func_802437D0_7EE4E0

// text: func_8024386C_7EE57C

// text: func_8024395C_7EE66C

// text: func_80243AE8_7EE7F8

// text: func_80243B2C_7EE83C

s32 pad_003B58[] = {
    0x00000000, 0x00000000,
};

EntryList N(entryList) = {
    { -387.0f, 0.0f, -460.0f, 125.0f },
    { 600.0f, 0.0f, 0.0f, 270.0f },
    { -435.0f, 147.0f, -441.0f, 125.0f },
    { 0.0f, 50.0f, 300.0f, 180.0f },
    { -100.0f, 30.0f, -370.0f, 180.0f },
    { -100.0f, 30.0f, -370.0f, 135.0f },
    { -100.0f, 30.0f, -370.0f, 135.0f },
    { -100.0f, 30.0f, -370.0f, 135.0f },
};

MapConfig N(header) = {
    .main = N(main),
    .entryList = N(entryList),
    .entryCount = ENTRY_COUNT(N(entryList)),
    .background = &gBackgroundImage,
    .tattle = 0x190000,
};

Script N(script_80243C20) = SCRIPT({
    match SI_SAVE_VAR(0) {
        == 0xFFFFFF80 {
            SetMusicTrack(0, 63, 1, 8);
        }
        == 96 {
            SetMusicTrack(0, 63, 0, 8);
        }
    0xFFFFFFF3..5
        SetMusicTrack(0, 74, 0, 8);
        else {
            spawn N(script_8024E420);
        }
    }
    GetEntryID(SI_VAR(0));
    match SI_VAR(0) {
        4, 5, 6, 7 {
            ClearAmbientSounds(250);
        }
    }
});

Script N(script_80243D40) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    DisablePartnerAI(0);
    HidePlayerShadow(1);
    SetPlayerAnimation(0x10000);
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        EnableNpcShadow(0xFFFFFFFC, 0);
        SetNpcPos(0xFFFFFFFC, 0, 0xFFFFFC18, 0);
    }
    GetEntryID(SI_VAR(0));
    func_802400F0_7EAE00();
    SI_VAR(2) -= 40;
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    InterpPlayerYaw(SI_VAR(4), 0);
    PlaySound(355);
    0x802D286C(256);
    0x802D2520(0x10000, 5, 2, 1, 1, 0);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    loop 40 {
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    sleep 3;
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        spawn {
            DisablePartnerAI(0);
            GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(2) -= 3;
            SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SetNpcFlagBits(0xFFFFFFFC, 2, 0);
            EnablePartnerAI();
            EnableNpcShadow(0xFFFFFFFC, 1);
        }
    }
    sleep 2;
    0x802D2520(0x10000, 0, 0, 0, 0, 0);
    sleep 1;
    SetPlayerAnimation(0x10002);
    DisablePlayerPhysics(0);
    DisablePlayerInput(0);
    HidePlayerShadow(0);
0:
    func_80240020_7EAD30();
    sleep 1;
    if (SI_VAR(0) != -1) {
        goto 0;
    }
    spawn 0xFE363C8A;
});

Script N(script_80244094) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    ModifyColliderFlags(0, SI_VAR(11), 0x7FFFFE00);
    GetEntryID(SI_VAR(0));
    func_802400F0_7EAE00();
    SI_VAR(5) = SI_VAR(1);
    SI_VAR(6) = SI_VAR(2);
    SI_VAR(7) = SI_VAR(3);
    SI_VAR(2) += 2;
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    InterpPlayerYaw(SI_VAR(4), 0);
    if (SI_VAR(4) == 90) {
        SI_VAR(5) += 40;
    } else {
        SI_VAR(5) -= 40;
    }
    UseSettingsFrom(0, SI_VAR(5), SI_VAR(6), SI_VAR(7));
    SetPanTarget(0, SI_VAR(5), SI_VAR(6), SI_VAR(7));
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        DisablePartnerAI(0);
        EnableNpcShadow(0xFFFFFFFC, 0);
        SetNpcPos(0xFFFFFFFC, 0, 0xFFFFFC18, 0);
        InterpNpcYaw(0xFFFFFFFC, SI_VAR(0), 0);
    }
    sleep 1;
    PlaySound(355);
    spawn {
        sleep 25;
        HidePlayerShadow(0);
    }
    0x802D286C(2304);
    0x802D2520(0x10002, 5, 3, 1, 1, 0);
    loop 40 {
        func_8024023C_7EAF4C(1.0);
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        spawn {
            GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(2) -= 3;
            SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            EnableNpcShadow(0xFFFFFFFC, 1);
            EnablePartnerAI();
        }
    }
    sleep 5;
    0x802D2520(0x10002, 0, 0, 0, 0, 0);
    ModifyColliderFlags(1, SI_VAR(11), 0x7FFFFE00);
    DisablePlayerInput(0);
    DisablePlayerPhysics(0);
    PanToTarget(0, 0, 0);
    spawn 0xFE363C8A;
});

Script N(script_80244484) = SCRIPT({
    func_80240034_7EAD44();
    if (SI_VAR(0) == 0) {
        return;
    }
    GetCurrentPartner(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        GetCurrentPartnerID(SI_VAR(1));
        if (SI_VAR(1) != 6) {
            return;
        } else {
            0x802D2B6C();
            DisablePlayerInput(1);
        }
    } else {
        DisablePlayerInput(1);
    }
    await N(script_80244560);
});

Script N(script_80244560) = SCRIPT({
    func_80240000_7EAD10();
    group 27;
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_7EAE00();
    PlayerMoveTo(SI_VAR(1), SI_VAR(3), 3);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_7EAE00();
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    SetPlayerFlagBits(0x200000, 1);
    func_802401D0_7EAEE0();
    InterpPlayerYaw(SI_VAR(0), 0);
    sleep 2;
    SetPlayerFlagBits(0x200000, 0);
    PlaySound(355);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    spawn {
        sleep 4;
        loop 40 {
            SI_VAR(1) -= 1;
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
    }
    0x802D286C(2048);
    0x802D2520(0x10002, 5, 2, 1, 1, 0);
    sleep 25;
    await 0xFE363C8C;
});

Script N(script_8024473C) = SCRIPT({
    0x802D249C(SI_VAR(0));
    if (SI_VAR(0) == 0) {
        return;
    }
    GetPlayerActionState(SI_VAR(0));
    if (SI_VAR(0) == 26) {
        return;
    }
    GetCurrentPartner(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        GetCurrentPartnerID(SI_VAR(1));
        if (SI_VAR(1) != 6) {
            return;
        } else {
            0x802D2B6C();
            DisablePlayerInput(1);
        }
    } else {
        DisablePlayerInput(1);
    }
    group 27;
    func_80240000_7EAD10();
    DisablePlayerPhysics(1);
    ModifyColliderFlags(0, SI_VAR(11), 0x7FFFFE00);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_7EAE00();
    SI_VAR(5) = SI_VAR(1);
    SI_VAR(6) = SI_VAR(2);
    SI_VAR(6) += 2;
    SI_VAR(7) = SI_VAR(3);
    SI_VAR(8) = SI_VAR(4);
    SI_VAR(8) += 180;
    if (SI_VAR(4) >= 360) {
        SI_VAR(4) -= 360;
    }
    InterpPlayerYaw(SI_VAR(8), 1);
    sleep 1;
    PlaySound(355);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPlayerPos(SI_VAR(0), SI_VAR(6), SI_VAR(7));
    SetPlayerAnimation(0x10000);
    0x802D286C(2048);
    0x802D2520(0x10000, 5, 3, 1, 1, 0);
    spawn {
        sleep 8;
        HidePlayerShadow(1);
    }
    spawn {
        sleep 3;
        loop 40 {
            func_8024023C_7EAF4C(1.0);
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
    }
    sleep 25;
    await 0xFE363C8C;
});

Script N(script_UpdateTexturePan_80244A70) = SCRIPT({
    group 0;
    if (SI_VAR(5) == 1) {
        if (SI_VAR(6) == 1) {
            if (SI_VAR(7) == 1) {
                if (SI_VAR(8) == 1) {
                    func_802402E0_7EAFF0();
                    return;
                }
            }
        }
    }
    func_80240404_7EB114();
});

Script N(script_ExitWalk_80244B0C) = SCRIPT({
    group 27;
    UseExitHeading(60, 0);
    spawn ExitWalk;
    GotoMap(D_80255990_8006A0, 1);
    sleep 100;
});

Script N(script_ExitWalk_80244B68) = SCRIPT({
    group 27;
    UseExitHeading(60, 1);
    spawn ExitWalk;
    GotoMap(D_80255998_8006A8, 0);
    sleep 100;
});

Script N(script_80244BC4) = SCRIPT({
    GotoMap(D_802559A0_8006B0, 0);
    sleep 100;
});

Script N(script_80244BF4) = SCRIPT({
    GotoMap(D_802559A8_8006B8, 4);
    sleep 100;
});

Script N(script_80244C24) = SCRIPT({
    group 27;
    SI_VAR(10) = 3;
    SI_VAR(11) = 27;
    SI_VAR(12) = N(script_80244BC4);
    await N(script_80244484);
});

Script N(script_80244C7C) = SCRIPT({
    group 27;
    SI_VAR(10) = 4;
    SI_VAR(11) = 107;
    SI_VAR(12) = N(script_80244BF4);
    await N(script_80244484);
});

Script N(script_80244CD4) = SCRIPT({
    bind N(script_ExitWalk_80244B68) to 0x80000 13;
    bind N(script_80244C7C) to 0x80000 107;
    if (SI_SAVE_VAR(0) >= 96) {
        return;
    }
    bind N(script_ExitWalk_80244B0C) to 0x80000 53;
    bind N(script_80244C24) to TriggerFlag_FLOOR_TOUCH 27;
});

Script N(script_EnterWalk_80244D74) = SCRIPT({
    GetEntryID(SI_VAR(0));
    match SI_VAR(0) {
        3, 4 {
            SI_VAR(10) = N(script_80244CD4);
            spawn N(script_80243D40);
        }
        == 5 {
            spawn N(script_80253508);
        }
        == 7 {
            await N(script_80255688);
            spawn N(script_80244CD4);
        }
        else {
            SI_VAR(0) = N(script_80244CD4);
            spawn EnterWalk;
        }
    }
});

Script N(main) = SCRIPT({
    SI_SAVE_VAR(425) = 1;
    SetSpriteShading(-1);
    SetCamPerspective(0, 3, 25, 16, 4096);
    SetCamBGColor(0, 0, 0, 0);
    SetCamEnabled(0, 1);
    SetCamLeadPlayer(0, 0);
    if (SI_SAVE_VAR(0) >= 0xFFFFFF94) {
        SI_SAVE_FLAG(1962) = 1;
    }
    SetRenderMode(133, 21);
    ModifyColliderFlags(0, 61, 0x7FFFFE00);
    match SI_SAVE_VAR(0) {
        == 0xFFFFFF80 {
            MakeNpcs(0, N(npcGroupList_802531FC));
        }
        >= 96 {
            MakeNpcs(0, N(npcGroupList_80255334));
        }
        else {
            MakeNpcs(0, N(npcGroupList_8024E1A8));
        }
    }
    await N(script_MakeEntities);
    spawn N(script_80245BF8);
    spawn N(script_8024E3A8);
    ModifyColliderFlags(3, 16, 1);
    spawn N(script_8024EAF0);
    EnableTexPanning(214, 1);
    spawn {
        SI_VAR(0) = 1;
        SI_VAR(1) = 0;
        SI_VAR(2) = 0;
        SI_VAR(3) = 0;
        SI_VAR(4) = 120;
        SI_VAR(5) = 0;
        SI_VAR(6) = 1;
        SI_VAR(7) = 0;
        SI_VAR(8) = 0;
        SI_VAR(9) = 0;
        SI_VAR(10) = 0;
        SI_VAR(11) = 0;
        SI_VAR(12) = 0;
        spawn N(script_UpdateTexturePan_80244A70);
    }
    ModifyColliderFlags(3, 97, 4);
    ModifyColliderFlags(3, 98, 4);
    ModifyColliderFlags(3, 99, 4);
    ModifyColliderFlags(0, 97, 0x80000);
    ModifyColliderFlags(0, 98, 0x80000);
    ModifyColliderFlags(0, 99, 0x80000);
    func_802405EC_7EB2FC(97);
    func_802405EC_7EB2FC(98);
    func_802405EC_7EB2FC(99);
    GetDemoState(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        SI_VAR(10) = N(script_80244CD4);
        spawn N(script_80243D40);
        await N(script_8024EAB4);
        return;
    }
    spawn N(script_80243C20);
    if (SI_SAVE_VAR(0) == 0xFFFFFF94) {
        SI_SAVE_VAR(0) = 0xFFFFFF95;
        spawn N(script_8024F64C);
    }
    spawn N(script_EnterWalk_80244D74);
    sleep 1;
    func_80240624_7EB334();
});

Script N(script_80245260) = SCRIPT({
    DisablePlayerInput(1);
    ShowMessageAtScreenPos(0x1D016F, 160, 40);
    DisablePlayerInput(0);
});

Script N(script_MakeEntities) = SCRIPT({
    MakeEntity(0x802EAB04, 545, 20, 205, 0, 35, 0x80000000);
    AssignPanelFlag(SI_SAVE_FLAG(295));
    MakeItemEntity(348, 0xFFFFFE5C, 20, 410, 17, SI_SAVE_FLAG(301));
    bind N(script_80245260) to TriggerFlag_WALL_INTERACT 46;
});

Script N(script_OpenDoor_80245330) = SCRIPT({
    RotateModel(143, SI_VAR(0), 0, 1, 0);
});

Script N(script_MoveWalls_80245360) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) *= -2.0;
    RotateModel(145, SI_VAR(1), 0, 1, 0);
    RotateModel(146, SI_VAR(1), 0, 1, 0);
    RotateModel(147, SI_VAR(1), 0, 1, 0);
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) *= -1.109375;
    RotateModel(149, SI_VAR(1), 0, 1, 0);
    RotateModel(150, SI_VAR(1), 0, 1, 0);
    RotateModel(151, SI_VAR(1), 0, 1, 0);
    RotateModel(152, SI_VAR(1), 0, 1, 0);
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) *= -0.328125;
    RotateModel(154, SI_VAR(1), 0, 1, 0);
    RotateModel(155, SI_VAR(1), 0, 1, 0);
    RotateModel(156, SI_VAR(1), 0, 1, 0);
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) *= 2.21875;
    RotateModel(159, SI_VAR(1), 0, 1, 0);
    RotateModel(158, SI_VAR(1), 0, 1, 0);
});

Script N(script_DropDoor_80245570) = SCRIPT({
    RotateModel(143, SI_VAR(0), 1, 0, 0);
});

Script N(script_ToggleVis_802455A0) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            SetGroupEnabled(176, 1);
            SI_MAP_FLAG(10) = 1;
        }
        == 3 {
            SetGroupEnabled(176, 0);
            SI_MAP_FLAG(10) = 0;
        }
    }
});

Script N(script_OpenDoor_80245624) = SCRIPT({
    RotateModel(57, SI_VAR(0), 0, -1, 0);
});

Script N(script_MoveWalls_80245654) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    RotateModel(53, SI_VAR(1), 1, 0, 0);
    RotateModel(54, SI_VAR(1), 1, 0, 0);
    RotateModel(55, SI_VAR(1), 1, 0, 0);
    SI_VAR(1) = SI_VAR(0);
    RotateModel(59, SI_VAR(1), -1, 0, 0);
    RotateModel(63, SI_VAR(1), -1, 0, 0);
    RotateModel(62, SI_VAR(1), -1, 0, 0);
    RotateModel(61, SI_VAR(1), -1, 0, 0);
    RotateModel(60, SI_VAR(1), -1, 0, 0);
});

Script N(script_ToggleVis_80245784) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            SetGroupEnabled(96, 1);
            EnableModel(67, 0);
        }
        == 2 {}
        == 3 {
            SetGroupEnabled(96, 0);
            EnableModel(67, 1);
        }
    }
});

Script N(script_OpenDoor_8024581C) = SCRIPT({
    RotateModel(120, SI_VAR(0), 0, -1, 0);
});

Script N(script_MoveWalls_8024584C) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) *= 2.0;
    RotateModel(123, SI_VAR(1), 0, 1, 0);
    RotateModel(124, SI_VAR(1), 0, 1, 0);
    RotateModel(125, SI_VAR(1), 0, 1, 0);
    RotateModel(122, SI_VAR(1), 0, 1, 0);
});

Script N(script_DropDoor_802458FC) = SCRIPT({
    RotateModel(120, SI_VAR(0), 1, 0, 0);
});

Script N(script_ToggleVis_8024592C) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            SetGroupEnabled(134, 1);
            SI_MAP_FLAG(11) = 1;
        }
        == 3 {
            SetGroupEnabled(134, 0);
            0x802D5EE0(0);
            SI_MAP_FLAG(11) = 0;
        }
    }
});

Script N(script_OpenDoor_802459C0) = SCRIPT({
    RotateModel(208, SI_VAR(0), 0, -1, 0);
});

Script N(script_MoveWalls_802459F0) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    RotateModel(201, SI_VAR(1), 1, 0, 0);
    RotateModel(199, SI_VAR(1), 1, 0, 0);
    RotateModel(200, SI_VAR(1), 1, 0, 0);
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) *= -0.671875;
    RotateModel(203, SI_VAR(1), 1, 0, 0);
    RotateModel(204, SI_VAR(1), 1, 0, 0);
    RotateModel(205, SI_VAR(1), 1, 0, 0);
    RotateModel(206, SI_VAR(1), 1, 0, 0);
});

Script N(script_ToggleVis_80245B10) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            match SI_SAVE_VAR(0) {
            0xFFFFFFF3..6
                spawn N(script_8024BF20);
                SI_VAR(0) = -1;
                else {
                    SetGroupEnabled(198, 1);
                }
            }
        }
        == 3 {
            SetGroupEnabled(198, 0);
        }
    }
});

s32 N(npcList_80245BBC)[] = {
    0x00000000, 0xFFFFFFFF,
};

s32 N(npcList_80245BC4)[] = {
    0x00000001, 0x00000016, 0x0000001D, 0xFFFFFFFF,
};

s32 N(npcList_80245BD4)[] = {
    0x00000003, 0x00000004, 0x00000005, 0xFFFFFFFF,
};

s32 N(npcList_80245BE4)[] = {
    0x00000011, 0x00000012, 0x00000013, 0x00000014, 0xFFFFFFFF,
};

Script N(script_80245BF8) = SCRIPT({
    MakeDoorAdvanced(0, N(script_OpenDoor_80245330), N(script_MoveWalls_80245360), N(script_DropDoor_80245570), N(script_ToggleVis_802455A0), 40, 41, 177, N(npcList_80245BBC));
    MakeDoorAdvanced(4098, N(script_OpenDoor_80245624), N(script_MoveWalls_80245654), 0, N(script_ToggleVis_80245784), 82, 83, 104, N(npcList_80245BC4));
    MakeDoorAdvanced(2, N(script_OpenDoor_8024581C), N(script_MoveWalls_8024584C), N(script_DropDoor_802458FC), N(script_ToggleVis_8024592C), 31, 32, 138, N(npcList_80245BD4));
    MakeDoorAdvanced(2, N(script_OpenDoor_802459C0), N(script_MoveWalls_802459F0), 0, N(script_ToggleVis_80245B10), 7, 8, 211, N(npcList_80245BE4));
    SI_VAR(0) = 3;
    spawn N(script_ToggleVis_802455A0);
    spawn N(script_ToggleVis_80245B10);
    spawn N(script_ToggleVis_80245784);
    spawn N(script_ToggleVis_8024592C);
});

s32 pad_005D08[] = {
    0x00000000, 0x00000000,
};

NpcSettings N(npcSettings_80245D10) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_80245D3C[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630000,
};

NpcSettings N(npcSettings_80245D68) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x17,
    .radius = 0x16,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = 0x80077F70,
    .aux = NULL,
    .onDefeat = 0x8007809C,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0xE,
    .unk_2A = 0x1,
};

NpcSettings N(npcSettings_80245D94) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x18,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 N(unk_80245DC0)[] = {
    0x00000000,
};

Script N(script_80245DC4) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 0);
    return;
});

Script N(script_80245DF4) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 16);
    return;
});

s32 N(quizAnswers)[] = {
    0x02010102, 0x02000200, 0x02010002, 0x01010002, 0x00020100, 0x00020100, 0x02010102, 0x02010101,
    0x00020202, 0x02000101, 0x02010201, 0x02000001, 0x01000102, 0x01000202, 0x01020002, 0x02010101,
};

s32 N(quizRequirements)[] = {
    0xFFFFFF94, 0x00000000, 0xFFFFFFB4, 0x0000000A, 0xFFFFFFCA, 0x00000014, 0xFFFFFFF2, 0x0000001E,
    0x00000006, 0x00000025, 0x00000027, 0x0000002C, 0x0000003A, 0x00000034, 0x00000058, 0x0000003C,
    0x00000060, 0x00000040, 0x00000000, 0x00000040,
};

Script N(script_80245EB4) = SCRIPT({
    func_8024116C_7EBE7C();
    if (SI_VAR(0) <= 1) {
        GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 300;
        SetNpcJumpscale(-1, 1);
        SetNpcAnimation(-1, 0xAF000C);
        sleep 40;
        SetNpcPos(-1, 0, 0xFFFFFC18, 0);
    }
});

Script N(script_80245F64) = SCRIPT({
    func_80241210_7EBF20(0, SI_ARRAY(0));
    func_8024119C_7EBEAC(0, 25);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    UseSettingsFrom(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetCamType(0, SI_VAR(1), SI_VAR(2));
    SetCamType(0, SI_VAR(1), 0);
    GetCamDistance(0, SI_VAR(0));
    if (SI_VAR(0) > 0) {
        SI_VAR(0) = 370;
    } else {
        SI_VAR(0) =f 0xFFFFFE8E;
    }
    SetCamDistance(0, SI_VAR(0));
    GetCamPitch(0, SI_VAR(0), SI_VAR(1));
    SI_VAR(0) = 13.0;
    SI_VAR(1) = -10.0;
    SetCamPitch(0, SI_VAR(0), SI_VAR(1));
    PanToTarget(0, 0, 1);
    SetCamLeadPlayer(0, 0);
});

Script N(script_80246100) = SCRIPT({
    GetNpcPos(6, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(1) += 30;
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetCamDistance(0, SI_VAR(0));
    if (SI_VAR(0) > 0) {
        SI_VAR(0) = 17;
    } else {
        SI_VAR(0) =f 0xFFFFFFEF;
    }
    SetCamDistance(0, SI_VAR(0));
    SetCamSpeed(0, 90.0);
    WaitForCam(0, 1.0);
    SetCamSpeed(0, 1);
});

Script N(script_802461FC) = SCRIPT({
    func_8024119C_7EBEAC(0, SI_ARRAY(0));
    PanToTarget(0, 0, 0);
});

Script N(script_80246238) = SCRIPT({
    sleep 20;
    func_802412B0_7EBFC0(SI_ARRAY(1), SI_ARRAY(3), 83, SI_VAR(0), SI_VAR(1));
    spawn {
        SI_VAR(2) = 0;
        loop 60 {
            SI_VAR(3) =f SI_VAR(0);
            SI_VAR(4) =f SI_VAR(1);
            SI_VAR(3) *=f SI_VAR(2);
            SI_VAR(4) *=f SI_VAR(2);
            SI_VAR(3) /= 60;
            SI_VAR(4) /= 60;
            SI_VAR(3) +=f SI_ARRAY(1);
            SI_VAR(4) +=f SI_ARRAY(3);
            SetPlayerPos(SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
            SI_VAR(2) += 1;
            sleep 1;
        }
        SI_VAR(3) =f SI_VAR(0);
        SI_VAR(4) =f SI_VAR(1);
        SI_VAR(3) +=f SI_ARRAY(1);
        SI_VAR(4) +=f SI_ARRAY(3);
        SetPlayerPos(SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
    }
    func_8024144C_7EC15C();
    0x802D2884(SI_ARRAY(1), SI_ARRAY(3), 0);
    SetPlayerAnimation(0x10002);
});

Script N(script_802463E8) = SCRIPT({
    GetNpcPos(0xFFFFFFFC, SI_VAR(10), SI_VAR(11), SI_VAR(12));
    func_802412B0_7EBFC0(SI_VAR(10), SI_VAR(12), 108, SI_VAR(0), SI_VAR(1));
    SI_VAR(5) =f SI_ARRAY(2);
    SI_VAR(5) -=f SI_VAR(11);
    spawn {
        func_80241540_7EC250();
        SI_VAR(3) =f SI_VAR(0);
        SI_VAR(4) =f SI_VAR(1);
        SI_VAR(6) =f SI_VAR(5);
        SI_VAR(3) +=f SI_VAR(10);
        SI_VAR(4) +=f SI_VAR(12);
        SI_VAR(6) +=f SI_VAR(11);
        SetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(6), SI_VAR(4));
    }
    func_802414B0_7EC1C0();
    NpcFacePlayer(0xFFFFFFFC, 0);
    SetNpcAnimation(0xFFFFFFFC, 262);
});

Script N(script_80246520) = SCRIPT({
    GetNpcPos(6, SI_VAR(10), SI_VAR(11), SI_VAR(12));
    func_802412B0_7EBFC0(SI_VAR(10), SI_VAR(12), 0xFFFFFFBA, SI_VAR(0), SI_VAR(1));
    spawn {
        SI_VAR(2) = 0;
        loop 60 {
            SI_VAR(3) =f SI_VAR(0);
            SI_VAR(4) =f SI_VAR(1);
            SI_VAR(3) *=f SI_VAR(2);
            SI_VAR(4) *=f SI_VAR(2);
            SI_VAR(3) /= 60;
            SI_VAR(4) /= 60;
            SI_VAR(3) +=f SI_VAR(10);
            SI_VAR(4) +=f SI_VAR(12);
            SetNpcPos(6, SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
            SI_VAR(2) += 1;
            sleep 1;
        }
    }
    sleep 60;
    NpcFacePlayer(6, 0);
    SetNpcAnimation(6, 0xAF0001);
});

Script N(script_8024668C) = SCRIPT({
    spawn N(script_80246238);
    spawn N(script_802463E8);
    await N(script_80246520);
});

Script N(script_802466C0) = SCRIPT({
    loop {
        SetPlayerAnimation(0x10028);
        sleep 20;
    }
});

Script N(script_80246700) = SCRIPT({
    SetPlayerAnimation(0x10016);
    sleep 15;
    SetPlayerAnimation(0x10002);
});

Script N(script_8024673C) = SCRIPT({
    loop {
        SetPlayerAnimation(0x10002);
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
    }
    SetPlayerAnimation(0x10002);
    SetPlayerPos(SI_VAR(0), SI_ARRAY(2), SI_VAR(2));
    sleep 1;
});

Script N(script_80247284) = SCRIPT({
    SetPlayerAnimation(0x10023);
    loop {
        sleep 1;
    }
});

Script N(script_802472C4) = SCRIPT({
    spawn {
        func_802412B0_7EBFC0(SI_ARRAY(1), SI_ARRAY(3), 25, SI_VAR(0), SI_VAR(1));
        SI_VAR(2) =f SI_ARRAY(1);
        SI_VAR(2) +=f SI_VAR(0);
        SI_VAR(3) =f SI_ARRAY(3);
        SI_VAR(3) +=f SI_VAR(1);
        SetNpcAnimation(0xFFFFFFFC, 258);
        NpcMoveTo(0xFFFFFFFC, SI_VAR(2), SI_VAR(3), 40);
        SetNpcAnimation(0xFFFFFFFC, 262);
    }
    PlayerMoveTo(SI_ARRAY(1), SI_ARRAY(3), 40);
});

Script N(script_802473A0) = SCRIPT({
    SI_VAR(1) = spawn N(script_8024673C);
    sleep 60;
    kill SI_VAR(1);
    loop 5 {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 2;
    }
    sleep 20;
    await N(script_802472C4);
});

Script N(script_80247450) = SCRIPT({
    SI_VAR(1) = spawn N(script_80247284);
    sleep 60;
    loop 5 {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 2;
    }
    sleep 20;
    kill SI_VAR(1);
    await N(script_802472C4);
});

// Unable to use DSL: DSL does not support script opcode 0x55
// *INDENT-OFF*
Script N(script_80247500) = {
    SI_CMD(ScriptOpcode_IF_GT, SI_SAVE_VAR(352), 63),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_ARRAY(1), SI_ARRAY(2), SI_ARRAY(3)),
    SI_CMD(ScriptOpcode_CALL, NpcFacePlayer, -1, 16),
    SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_VAR(352), 63),
        SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x8000A),
    SI_CMD(ScriptOpcode_ELSE),
        SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_FLAG(1767), 1),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80009),
        SI_CMD(ScriptOpcode_ELSE),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80008),
            SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1767), 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, ShowChoice, 0x1E000D),
    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, 0xAF0004, 0xAF0001, 0, 0x8000C),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80245EB4)),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1793), 1),
    SI_CMD(ScriptOpcode_CALL, func_80240748_7EB458),
    SI_CMD(ScriptOpcode_CALL, func_80240A5C_7EB76C),
    SI_CMD(ScriptOpcode_SPAWN, N(script_80245F64)),
    SI_CMD(ScriptOpcode_CALL, DisablePartnerAI, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 0xFFFFFFFC, 512, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 6, 512, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 0xFFFFFFFC, 328, 1),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 6, 256, 1),
    SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0xFFFFFFFC, 262),
    SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_8024668C), SI_VAR(1)),
    SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, 0xAF0004, 0xAF0001, 0, 0x8000B),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 137),
    SI_CMD(ScriptOpcode_LOOP, 0),
        SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
        SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
            SI_CMD(ScriptOpcode_BREAK_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_CALL, func_80240DA0_7EBAB0),
    SI_CMD(ScriptOpcode_LOOP, 5),
        SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 1),
        SI_CMD(ScriptOpcode_CALL, SetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 2),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0x2C0000),
    SI_CMD(ScriptOpcode_ADD, SI_VAR(0), SI_SAVE_VAR(352)),
    SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0005, 0xAF0006, 0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_CALL, SetPlayerAnimation, 0x10028),
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0x2D0000),
    SI_CMD(ScriptOpcode_ADD, SI_VAR(0), SI_SAVE_VAR(352)),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 142),
    SI_CMD(ScriptOpcode_CALL, ShowChoice, SI_VAR(0)),
    SI_CMD(ScriptOpcode_KILL_SCRIPT, SI_VAR(1)),
    SI_CMD(ScriptOpcode_CALL, StopSound, 142),
    SI_CMD(ScriptOpcode_SPAWN, N(script_80246700)),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 141),
    SI_CMD(ScriptOpcode_CALL, func_802410A0_7EBDB0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 0),
    SI_CMD(ScriptOpcode_CALL, func_80241694_7EC3A4),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 40),
    SI_CMD(ScriptOpcode_CALL, func_80240D1C_7EBA2C),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 110),
        SI_CMD(ScriptOpcode_CALL, CloseChoice),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 0),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 6, 0xAF0007),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 1),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, func_8024106C_7EBD7C, 1),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, func_8024106C_7EBD7C, 2),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 138),
        SI_CMD(ScriptOpcode_CALL, func_80241138_7EBE48),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 50),
            SI_CMD(ScriptOpcode_CALL, func_802412B0_7EBFC0, 0, 0, 83, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 0xFFFFFFFD),
            SI_CMD(ScriptOpcode_CALL, func_802412B0_7EBFC0, 0, 0, 58, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 30),
            SI_CMD(ScriptOpcode_CALL, func_802412B0_7EBFC0, 0, 0, 93, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 20),
        SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_802473A0), SI_VAR(1)),
        SI_CMD(ScriptOpcode_ADD, SI_SAVE_VAR(352), 1),
        SI_CMD(ScriptOpcode_IF_GT, SI_SAVE_VAR(352), 63),
            SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x80010),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 6, 0xAF0006),
            SI_CMD(ScriptOpcode_LOOP, 0),
                SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                    SI_CMD(ScriptOpcode_BREAK_LOOP),
                SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 6, 0xAF0005),
            SI_CMD(ScriptOpcode_SET, SI_VAR(0), 348),
            SI_CMD(ScriptOpcode_SET, SI_VAR(1), 3),
            SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80245DC4)),
            SI_CMD(ScriptOpcode_CALL, AddStarPieces, 1),
            SI_CMD(ScriptOpcode_CALL, func_8024106C_7EBD7C, 15),
            SI_CMD(ScriptOpcode_CALL, func_80241120_7EBE30),
            SI_CMD(ScriptOpcode_CALL, SetMessageValue, SI_SAVE_VAR(352), 0),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80011),
        SI_CMD(ScriptOpcode_ELSE),
            SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x8000E),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 6, 0xAF0006),
            SI_CMD(ScriptOpcode_LOOP, 0),
                SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                    SI_CMD(ScriptOpcode_BREAK_LOOP),
                SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 6, 0xAF0005),
            SI_CMD(ScriptOpcode_SET, SI_VAR(0), 348),
            SI_CMD(ScriptOpcode_SET, SI_VAR(1), 1),
            SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80245DC4)),
            SI_CMD(ScriptOpcode_CALL, AddStarPieces, 1),
            SI_CMD(ScriptOpcode_CALL, func_8024106C_7EBD7C, 15),
            SI_CMD(ScriptOpcode_CALL, func_80241120_7EBE30),
            SI_CMD(ScriptOpcode_CALL, SetMessageValue, SI_SAVE_VAR(352), 0),
            SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_VAR(352), 1),
                SI_CMD(ScriptOpcode_CALL, SetMessageString, 0x8014C294, 1),
            SI_CMD(ScriptOpcode_ELSE),
                SI_CMD(ScriptOpcode_CALL, SetMessageString, 0x8014C290, 1),
            SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x8000F),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 1),
    SI_CMD(ScriptOpcode_ELSE),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 6, 0xAF0009),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 2),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 541),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 139),
        SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_80247450), SI_VAR(1)),
        SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(2), SI_VAR(3), SI_VAR(4)),
        SI_CMD(ScriptOpcode_CALL, PlayEffect, 43, 0, SI_VAR(2), SI_VAR(3), SI_VAR(4), 0, 0, 0, 0, 0, 0, 0, 0, 0),
        SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x8000D),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 6, 0xAF000A),
        SI_CMD(ScriptOpcode_LOOP, 0),
            SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
            SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                SI_CMD(ScriptOpcode_BREAK_LOOP),
            SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, func_802410A0_7EBDB0, -1),
    SI_CMD(ScriptOpcode_CALL, EnablePartnerAI),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 30),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 143),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 45),
        SI_CMD(ScriptOpcode_CALL, StopSound, 137),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_CALL, func_80241154_7EBE64),
    SI_CMD(ScriptOpcode_CALL, func_80240FB8_7EBCC8),
    SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80245EB4)),
    SI_CMD(ScriptOpcode_SPAWN, N(script_802461FC)),
    SI_CMD(ScriptOpcode_CALL, func_80240BA8_7EB8B8),
    SI_CMD(ScriptOpcode_CALL, func_8024075C_7EB46C),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1793), 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

Script N(script_80248230) = SCRIPT({
    func_8024076C_7EB47C();
    if (SI_VAR(0) == 0) {
        return;
    }
    SetNpcFlagBits(-1, 0x1000000, 0);
    0x802CF208(-1, 0xAF0001);
    func_80240990_7EB6A0();
});

// Unable to use DSL: DSL does not support script opcode 0x3C
Script N(script_802482A4) = {
    SI_CMD(ScriptOpcode_USE_ARRAY, 0x80255B78),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1769), 1),
    SI_CMD(ScriptOpcode_CALL, DisablePlayerPhysics, 1),
    SI_CMD(ScriptOpcode_CALL, SetPlayerFlagBits, 0x400000, 1),
    SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80247500)),
    SI_CMD(ScriptOpcode_CALL, DisablePlayerPhysics, 0),
    SI_CMD(ScriptOpcode_CALL, SetPlayerFlagBits, 0x400000, 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_80248324) = SCRIPT({
    func_802409DC_7EB6EC();
});

NpcAISettings N(aISettings_80248340) = {
    .moveSpeed = 0.7f,
    .moveTime = 0x1E,
    .waitTime = 0x14,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_80248370) = SCRIPT({
    DoBasicAI(N(aISettings_80248340));
});

s32 N(unk_80248390)[] = {
    0x00AF0001, 0x0023001C, N(script_80248230), N(script_802482A4), 0x00000000, 0x00000000, N(script_80248324), 0x00000000,
    0x00000D01, 0x00000000, 0x00630000, 0x00AF0001, 0x0023001C, N(script_80248230), N(script_802482A4), N(script_80248370),
    0x00000000, N(script_80248324), 0x00000000, 0x00000C01, 0x00000000, 0x00630010,
};

s32 N(unk_802483E8)[] = {
    0x00000000,
};

s32 N(unk_802483EC)[] = {
    0x00000000,
};

Script N(script_802483F0) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            GetPlayerPos(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80241720_7EC430(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |=c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SetPlayerAnimation(0x60005);
            sleep 30;
            SetPlayerAnimation(0x10002);
            RemoveItemEntity(SI_VAR(0));
        }
    }
    func_80241944_7EC654(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_80248534) = {
    SI_CMD(ScriptOpcode_CALL, func_8024197C_7EC68C, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_802483F0), 0x10, 0, 0x80255BA0, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_802418F0_7EC600, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_80248584) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D663C();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveItemAt(SI_VAR(1));
            GetPlayerPos(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80241720_7EC430(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SetPlayerAnimation(0x60005);
            sleep 30;
            SetPlayerAnimation(0x10002);
            RemoveItemEntity(SI_VAR(0));
        }
    }
    func_80241944_7EC654(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_802486B8) = {
    SI_CMD(ScriptOpcode_CALL, func_80241A18_7EC728, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_80248584), 0x10, 0, 0x80255D68, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_802418F0_7EC600, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_80248708) = SCRIPT({
    loop {
        GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
        func_80241BA4_7EC8B4(SI_VAR(3), SI_VAR(4), SI_VAR(5));
        SetItemPos(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5));
        sleep 1;
    }
});

Script N(script_80248788) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            DisablePartnerAI(0);
            GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80241BA4_7EC8B4(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |=c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SI_VAR(10) = spawn N(script_80248708);
            SetNpcAnimation(0xFFFFFFFC, 0x40002);
            GetAngleBetweenNPCs(SI_VAR(9), 0xFFFFFFFC, SI_VAR(11));
            GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
            GetNpcPos(SI_VAR(9), SI_VAR(6), SI_VAR(7), SI_VAR(8));
            SetNpcFlagBits(0xFFFFFFFC, 256, 1);
            if (SI_VAR(11) <= 180) {
                SI_VAR(6) += 20;
            } else {
                SI_VAR(6) += 0xFFFFFFEC;
            }
            SI_VAR(7) += 10;
            SetNpcJumpscale(0xFFFFFFFC, 0.0);
            NpcJump1(0xFFFFFFFC, SI_VAR(6), SI_VAR(7), SI_VAR(8), 20);
            kill SI_VAR(10);
            RemoveItemEntity(SI_VAR(0));
            sleep 20;
            GetNpcYaw(0xFFFFFFFC, SI_VAR(10));
            SI_VAR(10) += 180;
            InterpNpcYaw(0xFFFFFFFC, SI_VAR(10), 0);
            sleep 5;
            NpcJump1(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5), 20);
            SetNpcAnimation(0xFFFFFFFC, 0x40001);
            NpcFaceNpc(0xFFFFFFFC, SI_VAR(9), 0);
            sleep 5;
            SetNpcFlagBits(0xFFFFFFFC, 256, 0);
            EnablePartnerAI();
            sleep 5;
        }
    }
    func_80241944_7EC654(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_80248AAC) = {
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), SI_VAR(11)),
    SI_CMD(ScriptOpcode_SET, SI_VAR(1), SI_VAR(2)),
    SI_CMD(ScriptOpcode_CALL, func_8024197C_7EC68C, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_80248788), 0x10, 0, 0x80255BA0, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_802418F0_7EC600, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_80248B1C) = SCRIPT({
    SI_VAR(12) = 0;
    if (SI_SAVE_VAR(0) < 0xFFFFFFBA) {
        return;
    }
    func_80241D30_7ECA40();
    GetCurrentPartnerID(SI_VAR(0));
    FindKeyItem(SI_VAR(5), SI_VAR(1));
    if (SI_VAR(0) == 4) {
        if (SI_VAR(1) != -1) {
            DisablePartnerAI(0);
            PlayerFaceNpc(SI_VAR(2), 0);
            sleep 1;
            GetNpcPos(SI_VAR(2), SI_VAR(13), SI_VAR(0), SI_VAR(14));
            GetNpcPos(0xFFFFFFFC, SI_VAR(13), SI_VAR(14), SI_VAR(15));
            SetNpcJumpscale(0xFFFFFFFC, 0.0);
            SI_VAR(0) += 10;
            NpcJump1(0xFFFFFFFC, SI_VAR(13), SI_VAR(0), SI_VAR(15), 10);
            SpeakToNpc(0xFFFFFFFC, 0x40006, 0x40001, 0, SI_VAR(2), SI_VAR(7));
            EnablePartnerAI();
            await N(script_80248AAC);
            match SI_VAR(0) {
                == -1 {
                    DisablePartnerAI(0);
                    sleep 1;
                    SpeakToPlayer(0xFFFFFFFC, 0x40006, 0x40001, 5, SI_VAR(8));
                    EnablePartnerAI();
                    SI_VAR(12) = 1;
                }
                else {
                    DisablePartnerAI(0);
                    sleep 1;
                    SpeakToPlayer(0xFFFFFFFC, 0x40006, 0x40001, 5, SI_VAR(9));
                    if (SI_VAR(10) != 0) {
                        SpeakToPlayer(SI_VAR(2), SI_VAR(3), SI_VAR(4), 0, SI_VAR(10));
                    }
                    EnablePartnerAI();
                    if (SI_VAR(6) != 0) {
                        SI_VAR(0) = SI_VAR(6);
                        SI_VAR(1) = 1;
                        await N(script_80245DC4);
                        AddKeyItem(SI_VAR(6));
                    }
                    SI_VAR(12) = 2;
                }
            }
        }
    }
    func_80241D74_7ECA84();
});

s32 N(unk_80248E14)[] = {
    0x00000039, 0x00000000,
};

Script N(script_80248E1C) = SCRIPT({
    func_80241AB4_7EC7C4(0, 0xA90004, 0xA90001, 57, 0, 0x20011, 0x20012, 0x20013, 0x20014, N(unk_80248E14));
    await N(script_80248B1C);
});

Script N(script_80248E6C) = SCRIPT({
    if (SI_VAR(12) == 2) {
        SI_VAR(0) = 348;
        SI_VAR(1) = 3;
        await N(script_80245DC4);
        AddStarPieces(1);
    }
});

Script N(script_80248ED0) = SCRIPT({
    loop {
        PlaySoundAtNpc(SI_VAR(0), 0xB0000021, 0);
        sleep 2;
    }
});

s32 N(russTLore)[] = {
    0x00160000, 0xFFFFFF81, 0xF97188C5, 0xF8405C3F, 0xF97188F7, 0x00160001, 0xFFFFFF81, 0xF97188C6,
    0xF8405C40, 0xF97188F8, 0x00160002, 0xFFFFFF81, 0xF97188C7, 0xF8405C41, 0xF97188F9, 0x00160003,
    0xFFFFFF81, 0xF97188C8, 0xF8405C42, 0xF97188FA, 0x00160004, 0xFFFFFF97, 0xF97188C9, 0xF8405C43,
    0xF97188FB, 0x00160005, 0xFFFFFF97, 0xF97188CA, 0xF8405C44, 0xF97188FC, 0x00160006, 0xFFFFFF97,
    0xF97188CB, 0xF8405C45, 0xF97188FD, 0x00160007, 0xFFFFFF97, 0xF97188CC, 0xF8405C46, 0xF97188FE,
    0x00160008, 0xFFFFFFB4, 0xF97188CD, 0xF8405C47, 0xF97188FF, 0x00160009, 0xFFFFFFB4, 0xF97188CE,
    0xF8405C48, 0xF9718900, 0x0016000A, 0xFFFFFFB4, 0xF97188CF, 0xF8405C49, 0xF9718901, 0x0016000B,
    0xFFFFFFB4, 0xF97188D0, 0xF8405C4A, 0xF9718902, 0x0016000C, 0xFFFFFFCA, 0xF97188D1, 0xF8405C4B,
    0xF9718903, 0x0016000D, 0xFFFFFFCA, 0xF97188D2, 0xF8405C4C, 0xF9718904, 0x0016000E, 0xFFFFFFCA,
    0xF97188D3, 0xF8405C4D, 0xF9718905, 0x0016000F, 0xFFFFFFCA, 0xF97188D4, 0xF8405C4E, 0xF9718906,
    0x00160010, 0xFFFFFFF2, 0xF97188D5, 0xF8405C4F, 0xF9718907, 0x00160011, 0xFFFFFFF2, 0xF97188D6,
    0xF8405C50, 0xF9718908, 0x00160012, 0xFFFFFFF2, 0xF97188D7, 0xF8405C51, 0xF9718909, 0x00160013,
    0xFFFFFFF2, 0xF97188D8, 0xF8405C52, 0xF971890A, 0x00160014, 0x00000006, 0xF97188D9, 0xF8405C53,
    0xF971890B, 0x00160015, 0x00000006, 0xF97188DA, 0xF8405C54, 0xF971890C, 0x00160016, 0x00000006,
    0xF97188DB, 0xF8405C55, 0xF971890D, 0x00160017, 0x00000006, 0xF97188DC, 0xF8405C56, 0xF971890E,
    0x00160018, 0x00000026, 0xF97188DD, 0xF8405C57, 0xF971890F, 0x00160019, 0x00000026, 0xF97188DE,
    0xF8405C58, 0xF9718910, 0x0016001A, 0x00000026, 0xF97188DF, 0xF8405C59, 0xF9718911, 0x0016001B,
    0x00000026, 0xF97188E0, 0xF8405C5A, 0xF9718912, 0x0016001C, 0x0000003A, 0xF97188E1, 0xF8405C5B,
    0xF9718913, 0x0016001D, 0x0000003A, 0xF97188E2, 0xF8405C5C, 0xF9718914, 0x0016001E, 0x0000003A,
    0xF97188E3, 0xF8405C5D, 0xF9718915, 0x0016001F, 0x0000003A, 0xF97188E4, 0xF8405C5E, 0xF9718916,
    0x00160020, 0x00000058, 0xF97188E5, 0xF8405C5F, 0xF9718917, 0x00160021, 0x00000058, 0xF97188E6,
    0xF8405C60, 0xF9718918, 0x00160022, 0x00000058, 0xF97188E7, 0xF8405C61, 0xF9718919, 0x00160023,
    0x00000058, 0xF97188E8, 0xF8405C62, 0xF971891A,
};

Script N(script_802491E8) = SCRIPT({
    GetNpcPos(21, SI_VAR(2), SI_VAR(3), SI_VAR(4));
    SI_VAR(3) += 20;
    MakeItemEntity(36, SI_VAR(2), SI_VAR(3), SI_VAR(4), 1, 0);
    SI_VAR(9) = SI_VAR(0);
    sleep 1;
    loop 300 {
        GetNpcPos(21, SI_VAR(2), SI_VAR(3), SI_VAR(4));
        SI_VAR(3) += 20;
        SetItemPos(SI_VAR(9), SI_VAR(2), SI_VAR(3), SI_VAR(4));
        sleep 1;
    }
    RemoveItemEntity(SI_VAR(9));
});

Script N(script_802492DC) = SCRIPT({
    loop {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        if (SI_VAR(0) > 0xFFFFFFC4) {
            if (SI_VAR(0) < 120) {
                break;
            }
        }
        sleep 1;
    }
    SetNpcPos(21, 0xFFFFFFE2, 20, 0xFFFFFE2A);
    SetNpcAnimation(21, 0x3B0004);
    sleep 1;
    DisablePlayerInput(1);
    ShowMessageAtScreenPos(0x20009, 160, 40);
    spawn N(script_802491E8);
    spawn {
        SetGroupEnabled(176, 1);
        PlaySoundAtCollider(40, 449, 0);
        SI_VAR(0) = 0;
        loop 10 {
            SI_VAR(0) += 8;
            RotateModel(143, SI_VAR(0), 0, 1, 0);
            sleep 1;
        }
        loop 10 {
            SI_VAR(0) += 0xFFFFFFF8;
            RotateModel(143, SI_VAR(0), 0, 1, 0);
            sleep 1;
        }
        PlaySoundAtCollider(40, 450, 0);
        SetGroupEnabled(176, 0);
    }
    sleep 5;
    SetNpcSpeed(21, 10);
    SI_VAR(0) = 21;
    SI_VAR(10) = spawn N(script_80248ED0);
    NpcMoveTo(21, 0xFFFFFFF6, 0xFFFFFE66, 0);
    kill SI_VAR(10);
    PlaySoundAtNpc(21, 812, 0);
    NpcJump0(21, 0xFFFFFFF6, 0, 0xFFFFFEAC, 0);
    SI_VAR(0) = 21;
    PlaySoundAtNpc(SI_VAR(0), 8255, 0);
    SI_VAR(10) = spawn N(script_80248ED0);
    NpcMoveTo(21, 45, 0xFFFFFF46, 0);
    NpcMoveTo(21, 139, 0xFFFFFFBD, 0);
    spawn {
        NpcMoveTo(21, 300, 0xFFFFFFEC, 0);
        NpcMoveTo(21, 600, 0, 0);
        kill SI_VAR(10);
        SetNpcPos(21, 0, 0xFFFFFC18, 0);
    }
    SI_SAVE_FLAG(243) = 1;
    DisablePlayerInput(0);
});

Script N(script_Init_80249684) = SCRIPT({
    if (SI_SAVE_VAR(0) < 0xFFFFFFF3) {
        return;
    }
    if (SI_SAVE_VAR(0) > 0xFFFFFFFD) {
        return;
    }
    if (SI_SAVE_FLAG(243) != 0) {
        return;
    }
    spawn N(script_802492DC);
});

Script N(script_80249700) = SCRIPT({
    func_80241E04_7ECB14();
    if (SI_SAVE_FLAG(241) == 0) {
        SI_SAVE_FLAG(241) = 1;
        SpeakToPlayer(-1, 0xA90004, 0xA90001, 0, 0x20004);
        return;
    }
    func_80241FF0_7ECD00();
    if (SI_VAR(0) == 0) {
        SpeakToPlayer(0, 0xA90004, 0xA90001, 0, 0x20008);
        return;
    }
    func_80241E80_7ECB90();
    if (SI_VAR(2) != 0) {
        SpeakToPlayer(-1, 0xA90004, 0xA90001, 0, 0x20005);
    } else {
        SpeakToPlayer(-1, 0xA90004, 0xA90001, 0, 0x20006);
    }
    ContinueSpeech(-1, 0xA90004, 0xA90001, 0, SI_VAR(1));
    ContinueSpeech(-1, 0xA90004, 0xA90001, 0, 0x20007);
});

s32 N(unk_80249864)[] = {
    0x00000024, 0x00000025, 0x00000026, 0x00000000,
};

s32 N(unk_80249874)[] = {
    0x00000025, 0x00000026, 0x00000000,
};

Script N(script_80249880) = SCRIPT({
    if (SI_AREA_FLAG(13) == 0) {
        SpeakToPlayer(-1, 0xA90004, 0xA90001, 0, 0x2000A);
        SI_AREA_FLAG(13) = 1;
    } else {
        SpeakToPlayer(-1, 0xA90004, 0xA90001, 0, 0x2000B);
    }
    SI_VAR(0) = N(unk_80249864);
    SI_VAR(1) = 0;
    await N(script_80248534);
    match SI_VAR(0) {
        == 36 {
            SpeakToPlayer(-1, 0xA90004, 0xA90001, 0, 0x2000D);
            SI_SAVE_FLAG(244) = 1;
            sleep 10;
            SI_VAR(0) = 348;
            SI_VAR(1) = 3;
            await N(script_80245DC4);
            AddStarPieces(1);
            sleep 10;
            if (SI_SAVE_FLAG(245) == 1) {
                SpeakToPlayer(-1, 0xA90004, 0xA90001, 0, 0x20010);
            }
        }
        == 37 {
            SpeakToPlayer(-1, 0xA90004, 0xA90001, 0, 0x2000F);
            SI_SAVE_FLAG(245) = 1;
        }
        == -1 {
            SpeakToPlayer(-1, 0xA90004, 0xA90001, 0, 0x2000C);
        }
        == 0 {
        }
    }
});

Script N(script_80249A7C) = SCRIPT({
    SI_VAR(10) = 0;
    SI_VAR(0) = N(unk_80249874);
    SI_VAR(1) = 0;
    await N(script_80248534);
    match SI_VAR(0) {
        == 0 {
            if (SI_SAVE_VAR(0) < 0) {
                if (SI_SAVE_FLAG(245) == 1) {
                    SpeakToPlayer(-1, 0xA90004, 0xA90001, 0, 0x20010);
                    SI_VAR(10) = 1;
                    return;
                }
            } else {
            }
        }
        == -1 {}
        else {
            if (SI_VAR(0) == 37) {
                SpeakToPlayer(-1, 0xA90004, 0xA90001, 0, 0x2000E);
                SI_SAVE_FLAG(245) = 1;
                SI_VAR(10) = 1;
            }
        }
    }
});

Script N(script_Interact_80249BC4) = SCRIPT({
    if (SI_SAVE_VAR(0) >= 0xFFFFFFF3) {
        if (SI_SAVE_FLAG(244) == 0) {
            await N(script_80249880);
            await N(script_80248E1C);
            await N(script_80248E6C);
            if (SI_VAR(12) != 0) {
                return;
            }
            return;
        }
        await N(script_80249A7C);
        if (SI_VAR(10) != 0) {
            return;
        }
    }
    await N(script_80249700);
    await N(script_80248E1C);
    await N(script_80248E6C);
    if (SI_VAR(12) != 0) {
        return;
    }
});

Script N(script_Init_80249CC0) = SCRIPT({
    func_80241DA0_7ECAB0();
    BindNpcInteract(-1, N(script_Interact_80249BC4));
});

NpcSettings N(npcSettings_80249CF0) = {
    .unk_00 = { 0, 0xA9, 0, 0x1 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0x1,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

Script N(script_NpcAI_80249D1C) = SCRIPT({
    DisablePlayerInput(1);
    SetNpcAnimation(22, 0x3B000C);
    sleep 10;
    SetNpcAnimation(22, 0x3B0003);
    SetNpcJumpscale(22, 1.0);
    PlaySoundAtNpc(22, 812, 0);
    NpcJump0(22, 400, 20, 0xFFFFFED4, 20);
    NpcFacePlayer(22, 0);
    sleep 10;
    SpeakToPlayer(22, 0x3B0011, 0x3B0001, 0, 0x20002);
    0x802D7E08(22, 1, 45, 1, 0, 0, 0, 0, 20);
    sleep 10;
    0x802D7E08(22, 1, 45, 1, 0, 0, 0, 0, 20);
    sleep 10;
    spawn {
        SetPlayerSpeed(2.0);
        PlayerMoveTo(410, 0xFFFFFEAC, 0);
    }
    SI_VAR(0) = 22;
    PlaySoundAtNpc(SI_VAR(0), 8255, 0);
    SI_VAR(10) = spawn N(script_80248ED0);
    SetNpcSpeed(22, 8.0);
    NpcMoveTo(22, 170, 0xFFFFFF74, 0);
    kill SI_VAR(10);
    SetNpcPos(22, 0, 0xFFFFFC18, 0);
    SetNpcPos(2, 0, 0xFFFFFC18, 0);
    SetNpcPos(1, 170, 20, 0xFFFFFF74);
    SetNpcFlagBits(1, 256, 1);
    SetNpcSpeed(1, 8.0);
    SetNpcAnimation(1, 0x880003);
    NpcMoveTo(1, 430, 0xFFFFFE8B, 0);
    SetNpcPos(1, 430, 20, 0xFFFFFE8B);
    SetNpcAnimation(1, 0x880001);
    SetNpcFlagBits(1, 256, 0);
    NpcFacePlayer(1, 0);
    sleep 10;
    SpeakToPlayer(1, 0x880004, 0x880001, 0, 0x20003);
    ModifyColliderFlags(1, 55, 0x7FFFFE00);
    ModifyColliderFlags(1, 56, 0x7FFFFE00);
    ModifyColliderFlags(1, 57, 0x7FFFFE00);
    ModifyColliderFlags(1, 58, 0x7FFFFE00);
    ModifyColliderFlags(1, 59, 0x7FFFFE00);
    ModifyColliderFlags(1, 60, 0x7FFFFE00);
    ModifyColliderFlags(0, 61, 0x7FFFFE00);
    DisablePlayerInput(0);
});

Script N(script_Hit_8024A110) = SCRIPT({
    GetOwnerEncounterTrigger(SI_VAR(0));
    match SI_VAR(0) {
        == 4 {
            SI_VAR(1) = 1;
        }
        == 2 {
            SI_VAR(1) = 1;
        }
        == 6 {
            SI_VAR(1) = 1;
        }
        else {
            SI_VAR(1) = 0;
        }
    }
    if (SI_VAR(1) == 0) {
        return;
    }
    func_80242078_7ECD88(266, 0xFFFFFEA2, 366, 0xFFFFFF03);
    if (SI_VAR(0) == 1) {
        return;
    }
    PlaySoundAtNpc(-1, 225, 0);
    PlaySoundAtNpc(-1, 8254, 0);
    SI_SAVE_FLAG(248) = 1;
    SetNpcPos(-1, 0, 0xFFFFFC18, 0);
    SetEnemyFlagBits(22, 0x8000000, 1);
    BindNpcAI(-1, N(script_NpcAI_80249D1C));
});

Script N(script_Interact_8024A294) = SCRIPT({
    SpeakToPlayer(22, 0x3B0011, 0x3B0001, 0, 0x20001);
});

Script N(script_Init_8024A2C4) = SCRIPT({
    match SI_SAVE_VAR(0) {
    0xFFFFFFF3..5
        if (SI_SAVE_FLAG(248) == 0) {
            SI_SAVE_FLAG(247) = 1;
            SetNpcPos(-1, 430, 20, 0xFFFFFE8B);
            BindNpcInteract(-1, N(script_Interact_8024A294));
            return;
        }
    }
    RemoveNpc(-1);
});

Script N(script_Init_8024A368) = SCRIPT({
    match SI_SAVE_VAR(0) {
    0xFFFFFFF3..5
        if (SI_SAVE_FLAG(248) == 0) {
            ModifyColliderFlags(0, 55, 0x7FFFFE00);
            ModifyColliderFlags(0, 56, 0x7FFFFE00);
            ModifyColliderFlags(0, 57, 0x7FFFFE00);
            ModifyColliderFlags(0, 58, 0x7FFFFE00);
            ModifyColliderFlags(0, 59, 0x7FFFFE00);
            ModifyColliderFlags(0, 60, 0x7FFFFE00);
            ModifyColliderFlags(1, 61, 0x7FFFFE00);
            SetNpcFlagBits(-1, 256, 0);
            SetNpcFlagBits(-1, 2, 1);
            SetNpcPos(-1, 430, 20, 0xFFFFFE8B);
            BindNpcHit(-1, N(script_Hit_8024A110));
            return;
        }
    }
    RemoveNpc(-1);
});

Script N(script_Interact_8024A4D4) = SCRIPT({
    await 0x80284054;
});

Script N(script_Interact_8024A4F0) = SCRIPT({
    SpeakToPlayer(-1, 0x830004, 0x830001, 0, 0x20000);
});

Script N(script_Init_8024A520) = SCRIPT({
    match SI_SAVE_VAR(0) {
    0xFFFFFFF3..5
        if (SI_SAVE_FLAG(248) == 0) {
            SetNpcPos(1, 0, 0xFFFFFC18, 0);
        }
    }
    BindNpcInteract(-1, N(script_Interact_8024A4D4));
});

Script N(script_Init_8024A59C) = SCRIPT({
    match SI_SAVE_VAR(0) {
    0xFFFFFFF3..5
        if (SI_SAVE_FLAG(248) == 0) {
            SetNpcPos(-1, 105, 0, 0xFFFFFFD8);
            BindNpcInteract(-1, N(script_Interact_8024A4F0));
            return;
        }
    }
    RemoveNpc(-1);
});

s32 N(dojoBattleIDs)[] = {
    0x00000300, 0x00000301, 0x00000302, 0x00000303, 0x00000304,
};

Script N(script_Interact_8024A644) = SCRIPT({
    if (SI_SAVE_VAR(0) < 0xFFFFFF98) {
        SI_VAR(0) = 0x20015;
    } else {
        SI_VAR(0) = 0x2001B;
    }
    SpeakToPlayer(-1, 0xA30004, 0xA30001, 0, SI_VAR(0));
});

Script N(script_NpcAI_8024A6B4) = SCRIPT({
    ContinueSpeech(3, 0xA20009, 0xA20002, 0, 0x2001D);
    SpeakToNpc(-1, 0xA30004, 0xA30001, 0, 3, 0x2001E);
    sleep 10;
    spawn {
        SetNpcFlagBits(3, 256, 1);
        0x802D2C14(1);
        PlayerMoveTo(348, 0xFFFFFE94, 20);
        InterpPlayerYaw(20, 0);
        sleep 20;
        0x802D2C14(0);
        SetNpcFlagBits(3, 256, 0);
    }
    SetNpcAnimation(-1, 0xA30003);
    SetNpcFlagBits(-1, 256, 1);
    NpcMoveTo(-1, 380, 0xFFFFFE70, 30);
    SetNpcFlagBits(-1, 256, 0);
    SetNpcAnimation(-1, 0xA30001);
    InterpNpcYaw(-1, 225, 0);
    sleep 20;
    func_80242178_7ECE88();
    StartBattle();
});

Script N(script_Defeat_8024A85C) = SCRIPT({
    SetEncounterStatusFlags(4, 1);
    func_802421D0_7ECEE0();
    spawn {
        SetNpcAnimation(-1, 0xA30003);
        SetNpcFlagBits(-1, 256, 1);
        NpcMoveTo(-1, 310, 0xFFFFFE7A, 30);
        SetNpcFlagBits(-1, 256, 0);
        SetNpcAnimation(-1, 0xA30001);
        InterpNpcYaw(-1, 45, 0);
    }
    GetBattleOutcome(SI_VAR(0));
    SetNpcVar(3, 1, SI_VAR(0));
    SetNpcVar(3, 0, 1);
    SetPlayerAnimation(0x10002);
});

Script N(script_Init_8024A978) = SCRIPT({
    if (SI_SAVE_VAR(0) < 0xFFFFFF98) {
        SetNpcPos(-1, 570, 20, 0xFFFFFF6A);
        SetNpcYaw(-1, 270);
    } else {
        ModifyColliderFlags(0, 108, 0x7FFFFE00);
    }
    BindNpcInteract(-1, N(script_Interact_8024A644));
});

Script N(script_Interact_8024AA04) = SCRIPT({
    if (SI_SAVE_VAR(0) < 0xFFFFFF98) {
        SI_VAR(0) = 0x20016;
    } else {
        SI_VAR(0) = 0x2001C;
    }
    SpeakToPlayer(-1, 0xA40006, 0xA40002, 0, SI_VAR(0));
});

Script N(script_NpcAI_8024AA74) = SCRIPT({
    ContinueSpeech(3, 0xA20009, 0xA20002, 0, 0x20024);
    SpeakToNpc(-1, 0xA40006, 0xA40002, 0, 3, 0x20025);
    sleep 10;
    spawn {
        SetNpcFlagBits(3, 256, 1);
        0x802D2C14(1);
        PlayerMoveTo(348, 0xFFFFFE94, 20);
        InterpPlayerYaw(20, 0);
        sleep 20;
        0x802D2C14(0);
        SetNpcFlagBits(3, 256, 0);
    }
    SetNpcAnimation(-1, 0xA40003);
    SetNpcFlagBits(-1, 256, 1);
    NpcMoveTo(-1, 380, 0xFFFFFE70, 30);
    SetNpcFlagBits(-1, 256, 0);
    SetNpcAnimation(-1, 0xA40002);
    InterpNpcYaw(-1, 225, 0);
    sleep 20;
    func_80242178_7ECE88();
    StartBattle();
});

Script N(script_Defeat_8024AC1C) = SCRIPT({
    SetEncounterStatusFlags(4, 1);
    func_802421D0_7ECEE0();
    spawn {
        SetNpcAnimation(-1, 0xA40003);
        SetNpcFlagBits(-1, 256, 1);
        NpcMoveTo(-1, 330, 0xFFFFFE66, 30);
        SetNpcFlagBits(-1, 256, 0);
        SetNpcAnimation(-1, 0xA40002);
        InterpNpcYaw(-1, 45, 0);
    }
    GetBattleOutcome(SI_VAR(0));
    SetNpcVar(3, 1, SI_VAR(0));
    SetNpcVar(3, 0, 1);
    SetPlayerAnimation(0x10002);
});

Script N(script_Init_8024AD38) = SCRIPT({
    if (SI_SAVE_VAR(0) < 0xFFFFFF98) {
        SetNpcPos(-1, 600, 20, 0xFFFFFF6F);
        SetNpcYaw(-1, 270);
    }
    BindNpcInteract(-1, N(script_Interact_8024AA04));
});

Script N(script_Idle_8024ADA4) = SCRIPT({
0:
    SetSelfVar(0, 0);
    SetSelfVar(2, 0);
    loop {
        GetSelfVar(2, SI_VAR(0));
        if (SI_VAR(0) != 0) {
            break;
        }
        sleep 1;
    }
    DisablePlayerInput(1);
    loop {
        GetSelfVar(0, SI_VAR(0));
        if (SI_VAR(0) != 0) {
            break;
        }
        sleep 1;
    }
    GetSelfVar(1, SI_VAR(0));
    match SI_VAR(0) {
        == 1 {
            func_80242224_7ECF34();
            SpeakToPlayer(3, 0xA20009, 0xA20002, 0, 0x20042);
        }
        == 2 {
            SpeakToPlayer(3, 0xA20009, 0xA20002, 0, 0x20042);
        }
        == 0 {
            match SI_SAVE_VAR(28) {
                == 0 {
                    SI_VAR(1) = 0x20023;
                    SI_VAR(0) = 10;
                    SI_VAR(2) = 10;
                }
                == 1 {
                    SI_VAR(1) = 0x2002A;
                    SI_VAR(0) = 11;
                    SI_VAR(2) = 10;
                }
                == 2 {
                    SI_VAR(1) = 0x2003E;
                    SI_VAR(0) = 12;
                    SI_VAR(2) = 11;
                }
                == 3 {
                    SI_VAR(1) = 0x2003F;
                    SI_VAR(0) = 13;
                    SI_VAR(2) = 12;
                }
                == 4 {
                    SI_VAR(1) = 0x20040;
                    SI_VAR(0) = 14;
                    SI_VAR(2) = 13;
                }
            }
            SI_SAVE_VAR(28) += 1;
            SpeakToPlayer(3, 0xA20009, 0xA20002, 0, SI_VAR(1));
            FindKeyItem(SI_VAR(2), SI_VAR(1));
            if (SI_VAR(1) != -1) {
                RemoveKeyItemAt(SI_VAR(1));
            }
            SI_VAR(1) = 1;
            await N(script_80245DC4);
            AddKeyItem(SI_VAR(0));
            if (SI_SAVE_VAR(28) < 5) {
                SpeakToPlayer(3, 0xA20009, 0xA20002, 0, 0x20041);
            }
        }
    }
    DisablePlayerInput(0);
    goto 0;
});

Script N(script_Defeat_8024B164) = SCRIPT({
    SetEncounterStatusFlags(4, 1);
    func_802421D0_7ECEE0();
    GetBattleOutcome(SI_VAR(0));
    SetSelfVar(1, SI_VAR(0));
    SetSelfVar(0, 1);
    SetPlayerAnimation(0x10002);
});

Script N(script_8024B1DC) = SCRIPT({
    DisablePlayerInput(1);
    if (SI_SAVE_FLAG(242) == 0) {
        SI_SAVE_FLAG(242) = 1;
        SI_VAR(0) = 0x20017;
    } else {
        SI_VAR(0) = 0x20018;
    }
    SpeakToPlayer(3, 0xA20009, 0xA20002, 0, SI_VAR(0));
    ShowChoice(0x1E0016);
    if (SI_VAR(0) == 1) {
        ContinueSpeech(3, 0xA20009, 0xA20002, 0, 0x20019);
        DisablePlayerInput(0);
        return;
    }
    if (SI_SAVE_VAR(28) > 4) {
        ContinueSpeech(3, 0xA20009, 0xA20002, 0, 0x20043);
        DisablePlayerInput(0);
        return;
    }
    SetSelfVar(2, 1);
    sleep 1;
    match SI_SAVE_VAR(28) {
        == 0 {
            BindNpcDefeat(4, N(script_Defeat_8024A85C));
            BindNpcAI(4, N(script_NpcAI_8024A6B4));
            DisablePlayerInput(0);
            return;
        }
        == 1 {
            BindNpcDefeat(5, N(script_Defeat_8024AC1C));
            BindNpcAI(5, N(script_NpcAI_8024AA74));
            DisablePlayerInput(0);
            return;
        }
        == 2 {
            SI_VAR(1) = 0x2002B;
        }
        == 3 {
            SI_VAR(1) = 0x2002C;
        }
        == 4 {
            SI_VAR(1) = 0x2002D;
        }
    }
    ContinueSpeech(3, 0xA20009, 0xA20002, 0, SI_VAR(1));
    sleep 10;
    SetNpcFlagBits(3, 256, 1);
    spawn {
        0x802D2C14(1);
        PlayerMoveTo(348, 0xFFFFFE94, 20);
        InterpPlayerYaw(20, 0);
        sleep 20;
        0x802D2C14(0);
    }
    NpcMoveTo(-1, 375, 0xFFFFFE70, 30);
    InterpNpcYaw(3, 225, 0);
    sleep 30;
    SetNpcFlagBits(3, 256, 0);
    BindNpcDefeat(-1, N(script_Defeat_8024B164));
    sleep 1;
    func_80242178_7ECE88();
    if (SI_SAVE_VAR(28) < 2) {
        StartBattle();
    } else {
        StartBattleWith(44);
    }
    DisablePlayerInput(0);
});

Script N(script_Interact_8024B5B8) = SCRIPT({
    spawn N(script_8024B1DC);
    sleep 30;
});

Script N(script_Init_8024B5E0) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024B5B8));
    BindNpcIdle(-1, N(script_Idle_8024ADA4));
});

Script N(script_Interact_8024B618) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFF96 {
            SI_VAR(0) = 0x20044;
        }
        < 0xFFFFFF9C {
            SI_VAR(0) = 0x20045;
        }
        < 0xFFFFFFB5 {
            SI_VAR(0) = 0x20046;
        }
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x20047;
            } else {
                SI_VAR(0) = 0x20048;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x20049;
        }
        < 7 {
            if (SI_SAVE_FLAG(243) == 0) {
                SI_VAR(0) = 0x2004A;
            } else {
                if (SI_SAVE_FLAG(244) == 0) {
                    SI_VAR(0) = 0x2004B;
                } else {
                    SI_VAR(0) = 0x2004C;
                }
            }
        }
        < 10 {
            SI_VAR(0) = 0x2004D;
        }
        < 39 {
            SI_VAR(0) = 0x2004E;
        }
        < 43 {
            SI_VAR(0) = 0x2004F;
        }
        < 57 {
            SI_VAR(0) = 0x20050;
        }
        < 61 {
            SI_VAR(0) = 0x20051;
        }
        < 89 {
            SI_VAR(0) = 0x20052;
        }
        < 96 {
            SI_VAR(0) = 0x20053;
        }
        >= 96 {
            SI_VAR(0) = 0x10036;
        }
    }
    SpeakToPlayer(-1, 0x830104, 0x830101, 0, SI_VAR(0));
});

Script N(script_Interact_8024B874) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFF96 {
            SI_VAR(0) = 0x20054;
        }
        < 0xFFFFFF9C {
            SI_VAR(0) = 0x20055;
        }
        < 0xFFFFFFB5 {
            SI_VAR(0) = 0x20056;
        }
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x20057;
            } else {
                SI_VAR(0) = 0x20058;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x20059;
        }
        < 10 {
            SI_VAR(0) = 0x2005A;
        }
        < 39 {
            SI_VAR(0) = 0x2005B;
        }
        < 43 {
            SI_VAR(0) = 0x2005C;
        }
        < 57 {
            SI_VAR(0) = 0x2005D;
        }
        < 61 {
            SI_VAR(0) = 0x2005E;
        }
        < 89 {
            SI_VAR(0) = 0x2005F;
        }
        < 96 {
            SI_VAR(0) = 0x20060;
        }
        >= 96 {
            SI_VAR(0) = 0x10037;
        }
    }
    SpeakToPlayer(-1, 0x840004, 0x840001, 0, SI_VAR(0));
});

Script N(script_Interact_8024BA54) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFF96 {
            SI_VAR(0) = 0x20061;
        }
        < 0xFFFFFF9C {
            SI_VAR(0) = 0x20062;
        }
        < 0xFFFFFFB5 {
            SI_VAR(0) = 0x20063;
        }
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x20064;
            } else {
                SI_VAR(0) = 0x20065;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x20066;
        }
        < 7 {
            if (SI_SAVE_FLAG(243) == 0) {
                SI_VAR(0) = 0x20067;
            } else {
                if (SI_SAVE_FLAG(244) == 0) {
                    SI_VAR(0) = 0x20068;
                } else {
                    SI_VAR(0) = 0x20069;
                }
            }
        }
        < 10 {
            SI_VAR(0) = 0x2006A;
        }
        < 39 {
            SI_VAR(0) = 0x2006B;
        }
        < 43 {
            SI_VAR(0) = 0x2006C;
        }
        < 57 {
            SI_VAR(0) = 0x2006D;
        }
        < 61 {
            SI_VAR(0) = 0x2006E;
        }
        < 89 {
            SI_VAR(0) = 0x2006F;
        }
        < 96 {
            SI_VAR(0) = 0x20070;
        }
        >= 96 {
            SI_VAR(0) = 0x10038;
        }
    }
    SpeakToPlayer(-1, 0x830104, 0x830101, 0, SI_VAR(0));
});

Script N(script_Interact_8024BCB0) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFF96 {
            SI_VAR(0) = 0x20071;
        }
        < 0xFFFFFF9C {
            SI_VAR(0) = 0x20072;
        }
        < 0xFFFFFFB5 {
            SI_VAR(0) = 0x20073;
        }
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x20074;
            } else {
                SI_VAR(0) = 0x20075;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x20076;
        }
        < 10 {
            SI_VAR(0) = 0x20077;
        }
        < 39 {
            SI_VAR(0) = 0x20078;
        }
        < 43 {
            SI_VAR(0) = 0x20079;
        }
        < 57 {
            SI_VAR(0) = 0x2007A;
        }
        < 61 {
            SI_VAR(0) = 0x2007B;
        }
        < 89 {
            SI_VAR(0) = 0x2007C;
        }
        < 96 {
            SI_VAR(0) = 0x2007D;
        }
        >= 96 {
            SI_VAR(0) = 0x10039;
        }
    }
    SpeakToPlayer(-1, 0x830104, 0x830101, 0, SI_VAR(0));
});

Script N(script_Init_8024BE90) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024B618));
});

Script N(script_Init_8024BEB4) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024B874));
});

Script N(script_Init_8024BED8) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024BA54));
});

Script N(script_Init_8024BEFC) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024BCB0));
});

Script N(script_8024BF20) = SCRIPT({
    if (SI_SAVE_VAR(0) < 0xFFFFFFF3) {
        return;
    }
    if (SI_SAVE_VAR(0) >= 7) {
        return;
    }
    match SI_SAVE_VAR(0) {
        < 7 {
            if (SI_SAVE_FLAG(243) == 0) {
                SI_VAR(0) = 0x2004A;
                SI_VAR(1) = 0x20067;
            } else {
                if (SI_SAVE_FLAG(244) == 0) {
                    SI_VAR(0) = 0x2004B;
                    SI_VAR(1) = 0x20068;
                } else {
                    SI_VAR(0) = 0x2004C;
                    SI_VAR(1) = 0x20069;
                }
            }
        }
    }
    DisablePlayerInput(1);
    ShowMessageAtScreenPos(SI_VAR(0), 160, 40);
    sleep 5;
    ShowMessageAtScreenPos(SI_VAR(1), 160, 40);
    DisablePlayerInput(0);
});

Script N(script_Interact_8024C08C) = SCRIPT({
    SI_VAR(0) = 5;
    func_80242250_7ECF60();
    if (SI_VAR(0) == 0) {
        SpeakToPlayer(-1, 0x830404, 0x830401, 0, 0x20119);
        sleep 10;
        GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        PlaySoundAtNpc(-1, 717, 0);
        PlayEffect(1, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 1, 1, 1, 0, 0, 0, 0, 0, 0);
        SetNpcPos(-1, 0, 0xFFFFFC18, 0);
        SI_SAVE_FLAG(1787) = 0;
        return;
    }
    func_8024228C_7ECF9C();
    if (SI_VAR(0) == 0) {
        SpeakToPlayer(-1, 0x830404, 0x830401, 0, 0x2011A);
        return;
    }
    SpeakToPlayer(-1, 0x830404, 0x830401, 0, 0x2011B);
    SI_VAR(0) = 0;
    SI_VAR(1) = 24;
    await N(script_802486B8);
    match SI_VAR(0) {
        == -1 {
            SpeakToPlayer(-1, 0x830404, 0x830401, 0, 0x2011F);
            return;
        }
        == 166 {
            SpeakToPlayer(-1, 0x830404, 0x830401, 0, 0x2011C);
            SI_VAR(0) = 163;
            SI_VAR(1) = 0;
            await N(script_80245DC4);
            AddItem(SI_VAR(0), SI_VAR(1));
            sleep 10;
            SpeakToPlayer(-1, 0x830404, 0x830401, 0, 0x2011D);
            sleep 10;
            GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            PlaySoundAtNpc(-1, 717, 0);
            PlayEffect(1, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 1, 1, 1, 0, 0, 0, 0, 0, 0);
            SetNpcPos(-1, 0, 0xFFFFFC18, 0);
            SI_SAVE_FLAG(1787) = 0;
            SI_SAVE_VAR(354) += 1;
        }
        else {
            SpeakToPlayer(-1, 0x830404, 0x830401, 0, 0x2011E);
        }
    }
});

Script N(script_Init_8024C408) = SCRIPT({
    if (SI_SAVE_FLAG(1787) != 0) {
        BindNpcInteract(-1, N(script_Interact_8024C08C));
    } else {
        RemoveNpc(-1);
    }
});

StaticNpc N(npcGroup_8024C45C)[] = {
    {
        .id = 21,
        .settings = &N(npcSettings_80245D68),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00510F09,
        .init = N(script_Init_80249684),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x003B0001, 0x003B0002, 0x003B0003, 0x003B0003, 0x003B0001, 0x003B0001, 0x003B000C, 0x003B000C, 0x003B0015, 0x003B0012, 0x003B0011, 0x003B0010, 0x003B0005, 0x003B0001, 0x003B0001, 0x003B0001,
        },
    },
    {
        .id = 22,
        .settings = &N(npcSettings_80245D68),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00510F09,
        .init = N(script_Init_8024A2C4),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x003B0001, 0x003B0002, 0x003B0003, 0x003B0003, 0x003B0001, 0x003B0001, 0x003B000C, 0x003B000C, 0x003B0015, 0x003B0012, 0x003B0011, 0x003B0010, 0x003B0005, 0x003B0001, 0x003B0001, 0x003B0001,
        },
        .tattle = 0x1A00BB,
    },
    {
        .id = 23,
        .settings = &N(npcSettings_80245D68),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x01300D08,
        .init = N(script_Init_8024A368),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x003B0001, 0x003B0002, 0x003B0003, 0x003B0003, 0x003B0001, 0x003B0001, 0x003B000C, 0x003B000C, 0x003B0015, 0x003B0012, 0x003B0011, 0x003B0010, 0x003B0005, 0x003B0001, 0x003B0001, 0x003B0001,
        },
        .tattle = 0x1A00BB,
    },
};

StaticNpc N(npcGroup_8024CA2C)[] = {
    {
        .id = 0,
        .settings = &N(npcSettings_80249CF0),
        .pos = { -66.0, 20.0, -532.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_80249CC0),
        .yaw = 119,
        .dropFlags = 0x80,
        .animations = {
            0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001, 0x00A90001,
        },
        .tattle = 0x1A000E,
    },
};

StaticNpc N(npcGroup_8024CC1C)[] = {
    {
        .id = 1,
        .settings = &N(npcSettings_80245D10),
        .pos = { 430.0, 20.0, -373.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_8024A520),
        .yaw = 223,
        .dropFlags = 0x80,
        .animations = {
            0x00880001, 0x00880002, 0x00880003, 0x00880003, 0x00880001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .tattle = 0x1A0012,
    },
    {
        .id = 2,
        .settings = &N(npcSettings_80245D10),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_8024A59C),
        .yaw = 223,
        .dropFlags = 0x80,
        .animations = {
            0x00880001, 0x00880002, 0x00880003, 0x00880003, 0x00880001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .tattle = 0x1A0012,
    },
};

s32 N(extraAnimationList_8024CFFC)[] = {
    0x00A20000, 0x00A20002, 0x00A20005, 0x00A20009, 0xFFFFFFFF,
};

s32 N(extraAnimationList_8024D010)[] = {
    0x00A30000, 0x00A30001, 0x00A30003, 0x00A30004, 0xFFFFFFFF,
};

s32 N(extraAnimationList_8024D024)[] = {
    0x00A40000, 0x00A40002, 0x00A40003, 0x00A40006, 0xFFFFFFFF,
};

StaticNpc N(npcGroup_8024D038)[] = {
    {
        .id = 3,
        .settings = &N(npcSettings_80245D94),
        .pos = { 375.0, 115.0, -440.0 },
        .flags = 0x00852D0D,
        .init = N(script_Init_8024B5E0),
        .yaw = 225,
        .dropFlags = 0x80,
        .animations = {
            0x00A20002, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000,
        },
        .extraAnimations = N(extraAnimationList_8024CFFC),
        .tattle = 0x1A000F,
    },
    {
        .id = 4,
        .settings = &N(npcSettings_80245D94),
        .pos = { 310.0, 115.0, -390.0 },
        .flags = 0x00852D0D,
        .init = N(script_Init_8024A978),
        .yaw = 45,
        .dropFlags = 0x80,
        .animations = {
            0x00A30001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .extraAnimations = N(extraAnimationList_8024D010),
        .tattle = 0x1A0010,
    },
    {
        .id = 5,
        .settings = &N(npcSettings_80245D94),
        .pos = { 330.0, 115.0, -410.0 },
        .flags = 0x00852D0D,
        .init = N(script_Init_8024AD38),
        .yaw = 45,
        .dropFlags = 0x80,
        .animations = {
            0x00A40002, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .extraAnimations = N(extraAnimationList_8024D024),
        .tattle = 0x1A0011,
    },
};

s32 unk_missing_8024D608[] = {
    0x00000006, N(unk_80248390), 0x44084000, 0x41A00000, 0x43160000, 0x00006D09, 0x00000000, 0x00000001,
    0x00010600, 0x0000001E, 0x80000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00007FFF, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00007FFF, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00AF0001, 0x00AF0002, 0x00AF0003, 0x00AF0003, 0x00AF0001, 0x00AF0001, 0x00AF0000, 0x00AF0000,
    0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003,
    0x00000000, 0x00000000, 0x00000000, 0x001A0002,
};

StaticNpc N(npcGroup_8024D7F8)[] = {
    {
        .id = 17,
        .settings = &N(npcSettings_80245D10),
        .pos = { -496.0, 20.0, 218.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_8024BE90),
        .yaw = 133,
        .dropFlags = 0x80,
        .animations = {
            0x00830101, 0x00830102, 0x00830103, 0x00830103, 0x00830101, 0x00830101, 0x00830106, 0x00830106, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103,
        },
        .tattle = 0x1A001C,
    },
    {
        .id = 18,
        .settings = &N(npcSettings_80245D10),
        .pos = { -566.0, 20.0, 267.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_8024BEB4),
        .yaw = 133,
        .dropFlags = 0x80,
        .animations = {
            0x00840001, 0x00840002, 0x00840003, 0x00840003, 0x00840001, 0x00840001, 0x00840006, 0x00840006, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003,
        },
        .tattle = 0x1A001D,
    },
    {
        .id = 19,
        .settings = &N(npcSettings_80245D10),
        .pos = { -508.0, 20.0, 324.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_8024BED8),
        .yaw = 313,
        .dropFlags = 0x80,
        .animations = {
            0x00860101, 0x00860102, 0x00860103, 0x00860103, 0x00860101, 0x00860101, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100,
        },
        .tattle = 0x1A001E,
    },
    {
        .id = 20,
        .settings = &N(npcSettings_80245D10),
        .pos = { -480.0, 20.0, 329.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_8024BEFC),
        .yaw = 313,
        .dropFlags = 0x80,
        .animations = {
            0x00860101, 0x00860102, 0x00860103, 0x00860103, 0x00860101, 0x00860101, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100,
        },
        .tattle = 0x1A001F,
    },
};

StaticNpc N(npcGroup_8024DFB8)[] = {
    {
        .id = 24,
        .settings = &N(npcSettings_80245D10),
        .pos = { -112.0, 0.0, -62.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_8024C408),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00830401, 0x00830402, 0x00830403, 0x00830403, 0x00830401, 0x00830401, 0x00830401, 0x00830406, 0x00830403, 0x00830403, 0x00830403, 0x00830403, 0x00830403, 0x00830403, 0x00830403, 0x00830403,
        },
        .tattle = 0x1A0007,
    },
};

NpcGroupList N(npcGroupList_8024E1A8) = {
    NPC_GROUP(N(npcGroup_8024D038), 0x00000000),
    NPC_GROUP(N(npcGroup_8024C45C), 0x00000000),
    NPC_GROUP(N(npcGroup_8024CA2C), 0x00000000),
    NPC_GROUP(N(npcGroup_8024CC1C), 0x00000000),
    NPC_GROUP(N(npcGroup_80251124), 0x00000000),
    NPC_GROUP(N(npcGroup_8024D7F8), 0x00000000),
    NPC_GROUP(N(npcGroup_8024DFB8), 0x00000000),
    {},
};

s32 pad_00E208[] = {
    0x00000000, 0x00000000,
};

s32 N(intTable_8024E210)[] = {
    0x00270000, 0x00270001, 0x00270002, 0x00270003, 0x00270004, 0x00270005, 0x00270006, 0x00270007,
    0x00270008, 0x00270009, 0x0027000A, 0x0027000B, 0x0027000C, 0x0027000D, 0x0027000E, 0x0027000F,
    0x00270010, 0x00270011, 0x00270012, 0x00270013, 0x00270014, 0x00270015, 0x00270016,
};

s32 N(shopInventory_8024E26C)[] = {
    0x00000098, 0x00000005, 0x0024002A, 0x0000008F, 0x0000000A, 0x00240026, 0x00000090, 0x00000005,
    0x00240027, 0x00000080, 0x0000000A, 0x00240000, 0x000000A4, 0x0000000A, 0x00240016, 0x0000008A,
    0x00000005, 0x00240009, 0x00000000, 0x00000000, 0x00000000,
};

s32 N(shopPriceList_8024E2C0)[] = {
    0x0000008D, 0x00000003, 0x00000000, 0x000000A7, 0x00000005, 0x00000000, 0x00000086, 0x00000003,
    0x00000000, 0x00000093, 0x00000040, 0x00000000, 0x000000A8, 0x00000014, 0x00000000, 0x0000009D,
    0x00000004, 0x00000000, 0x0000009C, 0x00000004, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
};

Script N(script_8024E320) = SCRIPT({
    match SI_VAR(0) {
        == 3 {}
        == 4 {}
        == 1 {}
        == 2 {
        }
    }
});

s32 N(shopItemPositions_8024E374)[] = {
    0x00610037, 0x00620038, 0x00630039, 0x0064003A, 0x0065003B, 0x0066003C,
};

s32 N(shopOwnerNPC_8024E38C)[] = {
    0x00000001, 0x00880001, 0x00880004, N(script_8024E320), 0x00000000, 0x00000000, N(intTable_8024E210),
};

Script N(script_8024E3A8) = SCRIPT({
    MakeShop(N(shopItemPositions_8024E374), N(shopInventory_8024E26C), N(shopPriceList_8024E2C0), 0x10000);
    MakeShopOwner(N(shopOwnerNPC_8024E38C));
});

s32 pad_00E3E4[] = {
    0x00000000, 0x00000000, 0x00000000,
};

s32 N(unk_8024E3F0)[] = {
    0x41700000, 0xC3C80000, 0x42B40000, 0x42F00000, 0x00000007, 0xFAA2B58A,
};

s32 N(unk_8024E408)[] = {
    0x43DE8000, 0xC3998000, 0x42B40000, 0x42DC0000, 0x00000003, 0xFAA2B58B,
};

Script N(script_8024E420) = SCRIPT({
    SetMusicTrack(0, 0, 0, 8);
    0x802D5EE0(0);
    spawn {
        func_802422C0_7ECFD0(N(unk_8024E3F0));
    }
    if (SI_SAVE_VAR(0) >= 0xFFFFFF99) {
        spawn {
            func_802422C0_7ECFD0(N(unk_8024E408));
        }
    }
});

s32 pad_00E4B4[] = {
    0x00000000, 0x00000000, 0x00000000,
};

Script N(script_8024E4C0) = SCRIPT({
    sleep 50;
    DemoJoystickXY(22, 0xFFFFFFE6);
    sleep 1;
    DemoJoystickXY(65, 0xFFFFFFC3);
    sleep 1;
    DemoJoystickXY(66, 0xFFFFFFBD);
    sleep 1;
    DemoJoystickXY(66, 0xFFFFFFBA);
    sleep 30;
    DemoJoystickXY(66, 0xFFFFFFB9);
    sleep 18;
    DemoJoystickXY(67, 0xFFFFFFC2);
    sleep 1;
    DemoJoystickXY(74, 0xFFFFFFDE);
    sleep 1;
    DemoJoystickXY(81, 0xFFFFFFFA);
    DemoSetButtons(0x8000);
    sleep 1;
    DemoJoystickXY(82, 0xFFFFFFFE);
    sleep 3;
    DemoSetButtons(0);
    sleep 7;
    DemoJoystickXY(81, 0xFFFFFFFD);
    sleep 1;
    DemoJoystickXY(80, 0xFFFFFFF6);
    sleep 1;
    DemoJoystickXY(78, 0xFFFFFFEA);
    sleep 1;
    DemoJoystickXY(75, 0xFFFFFFDD);
    sleep 1;
    DemoJoystickXY(72, 0xFFFFFFCF);
    DemoSetButtons(0x8000);
    sleep 1;
    DemoJoystickXY(70, 0xFFFFFFC8);
    sleep 1;
    DemoJoystickXY(70, 0xFFFFFFC7);
    sleep 2;
    DemoSetButtons(0);
    sleep 9;
    DemoJoystickXY(70, 0xFFFFFFC8);
    sleep 1;
    DemoJoystickXY(74, 0xFFFFFFE6);
    sleep 1;
    DemoJoystickXY(79, 8);
    sleep 1;
    DemoJoystickXY(70, 46);
    sleep 1;
    DemoJoystickXY(66, 68);
    sleep 1;
    DemoJoystickXY(66, 67);
    sleep 2;
    DemoJoystickXY(65, 67);
    sleep 1;
    DemoJoystickXY(63, 66);
    sleep 1;
    DemoJoystickXY(45, 46);
    sleep 1;
    DemoJoystickXY(22, 23);
    sleep 1;
    DemoJoystickXY(1, -1);
    sleep 2;
    DemoSetButtons(0x8000);
    sleep 4;
    DemoSetButtons(0);
    sleep 61;
    DemoJoystickXY(3, -1);
    sleep 1;
    DemoJoystickXY(14, -1);
    sleep 1;
    DemoJoystickXY(74, 0xFFFFFFF8);
    sleep 1;
    DemoJoystickXY(77, 0xFFFFFFF7);
    sleep 1;
    DemoJoystickXY(78, 0xFFFFFFF7);
    sleep 11;
    DemoJoystickXY(78, 0xFFFFFFF8);
    sleep 1;
    DemoJoystickXY(79, 0xFFFFFFF9);
    if (SI_SAVE_FLAG(9) == 1) {
        return;
    }
    SI_SAVE_FLAG(9) = 1;
    GotoMapSpecial(D_802559B0_8006C0, 2, 2);
    sleep 110;
});

Script N(script_8024E9F4) = SCRIPT({
    sleep 10;
    loop {
        GetDemoState(SI_VAR(0));
        if (SI_VAR(0) == 2) {
            break;
        }
        sleep 1;
    }
    if (SI_SAVE_FLAG(9) == 1) {
        return;
    }
    SI_SAVE_FLAG(9) = 1;
    GotoMapSpecial(D_802559B0_8006C0, 2, 3);
    sleep 100;
});

Script N(script_8024EAB4) = SCRIPT({
    SI_SAVE_FLAG(9) = 0;
    spawn N(script_8024E9F4);
    spawn N(script_8024E4C0);
});

s32 pad_00EAEC[] = {
    0x00000000,
};

Script N(script_8024EAF0) = SCRIPT({
    sleep 1;
    0x802C94A0(0, func_802423F0_7ED100, 0);
    0x802C90FC(214, 0, -1);
});

s32 pad_00EB3C[] = {
    0x00000000,
};

NpcAISettings N(aISettings_8024EB40) = {
    .moveSpeed = 1.5f,
    .moveTime = 0x3C,
    .waitTime = 0x1E,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_NpcAI_8024EB70) = SCRIPT({
    DoBasicAI(N(aISettings_8024EB40));
});

NpcSettings N(npcSettings_8024EB90) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = &N(script_NpcAI_8024EB70),
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

s32 unk_missing_8024EBBC[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, N(script_NpcAI_8024EB70), 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630010,
};

NpcAISettings N(aISettings_8024EBE8) = {
    .moveSpeed = 1.5f,
    .moveTime = 0x1E,
    .waitTime = 0x1E,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_NpcAI_8024EC18) = SCRIPT({
    func_80243104_7EDE14(N(aISettings_8024EBE8));
});

NpcSettings N(npcSettings_8024EC38) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = &N(script_NpcAI_8024EC18),
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

s32 unk_missing_8024EC64[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, N(script_NpcAI_8024EC18), 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630010,
};

NpcSettings N(npcSettings_8024EC90) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_8024ECBC[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630000,
};

s32 N(unk_8024ECE8)[] = {
    0x00000000,
};

Script N(script_8024ECEC) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 0);
    return;
});

Script N(script_8024ED1C) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 16);
    return;
});

s32 N(unk_8024ED4C)[] = {
    0x00000000,
};

s32 N(unk_8024ED50)[] = {
    0x00000000,
};

Script N(script_8024ED54) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            GetPlayerPos(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80243574_7EE284(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |=c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SetPlayerAnimation(0x60005);
            sleep 30;
            SetPlayerAnimation(0x10002);
            RemoveItemEntity(SI_VAR(0));
        }
    }
    func_80243798_7EE4A8(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_8024EE98) = {
    SI_CMD(ScriptOpcode_CALL, func_802437D0_7EE4E0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_8024ED54), 0x10, 0, 0x80255EE0, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80243744_7EE454, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_8024EEE8) = SCRIPT({
    loop {
        GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
        func_8024395C_7EE66C(SI_VAR(3), SI_VAR(4), SI_VAR(5));
        SetItemPos(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5));
        sleep 1;
    }
});

Script N(script_8024EF68) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            DisablePartnerAI(0);
            GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_8024395C_7EE66C(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |=c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SI_VAR(10) = spawn N(script_8024EEE8);
            SetNpcAnimation(0xFFFFFFFC, 0x40002);
            GetAngleBetweenNPCs(SI_VAR(9), 0xFFFFFFFC, SI_VAR(11));
            GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
            GetNpcPos(SI_VAR(9), SI_VAR(6), SI_VAR(7), SI_VAR(8));
            SetNpcFlagBits(0xFFFFFFFC, 256, 1);
            if (SI_VAR(11) <= 180) {
                SI_VAR(6) += 20;
            } else {
                SI_VAR(6) += 0xFFFFFFEC;
            }
            SI_VAR(7) += 10;
            SetNpcJumpscale(0xFFFFFFFC, 0.0);
            NpcJump1(0xFFFFFFFC, SI_VAR(6), SI_VAR(7), SI_VAR(8), 20);
            kill SI_VAR(10);
            RemoveItemEntity(SI_VAR(0));
            sleep 20;
            GetNpcYaw(0xFFFFFFFC, SI_VAR(10));
            SI_VAR(10) += 180;
            InterpNpcYaw(0xFFFFFFFC, SI_VAR(10), 0);
            sleep 5;
            NpcJump1(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5), 20);
            SetNpcAnimation(0xFFFFFFFC, 0x40001);
            NpcFaceNpc(0xFFFFFFFC, SI_VAR(9), 0);
            sleep 5;
            SetNpcFlagBits(0xFFFFFFFC, 256, 0);
            EnablePartnerAI();
            sleep 5;
        }
    }
    func_80243798_7EE4A8(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_8024F28C) = {
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), SI_VAR(11)),
    SI_CMD(ScriptOpcode_SET, SI_VAR(1), SI_VAR(2)),
    SI_CMD(ScriptOpcode_CALL, func_802437D0_7EE4E0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_8024EF68), 0x10, 0, 0x80255EE0, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80243744_7EE454, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_8024F2FC) = SCRIPT({
    SI_VAR(12) = 0;
    if (SI_SAVE_VAR(0) < 0xFFFFFFBA) {
        return;
    }
    func_80243AE8_7EE7F8();
    GetCurrentPartnerID(SI_VAR(0));
    FindKeyItem(SI_VAR(5), SI_VAR(1));
    if (SI_VAR(0) == 4) {
        if (SI_VAR(1) != -1) {
            DisablePartnerAI(0);
            PlayerFaceNpc(SI_VAR(2), 0);
            sleep 1;
            GetNpcPos(SI_VAR(2), SI_VAR(13), SI_VAR(0), SI_VAR(14));
            GetNpcPos(0xFFFFFFFC, SI_VAR(13), SI_VAR(14), SI_VAR(15));
            SetNpcJumpscale(0xFFFFFFFC, 0.0);
            SI_VAR(0) += 10;
            NpcJump1(0xFFFFFFFC, SI_VAR(13), SI_VAR(0), SI_VAR(15), 10);
            SpeakToNpc(0xFFFFFFFC, 0x40006, 0x40001, 0, SI_VAR(2), SI_VAR(7));
            EnablePartnerAI();
            await N(script_8024F28C);
            match SI_VAR(0) {
                == -1 {
                    DisablePartnerAI(0);
                    sleep 1;
                    SpeakToPlayer(0xFFFFFFFC, 0x40006, 0x40001, 5, SI_VAR(8));
                    EnablePartnerAI();
                    SI_VAR(12) = 1;
                }
                else {
                    DisablePartnerAI(0);
                    sleep 1;
                    SpeakToPlayer(0xFFFFFFFC, 0x40006, 0x40001, 5, SI_VAR(9));
                    if (SI_VAR(10) != 0) {
                        SpeakToPlayer(SI_VAR(2), SI_VAR(3), SI_VAR(4), 0, SI_VAR(10));
                    }
                    EnablePartnerAI();
                    if (SI_VAR(6) != 0) {
                        SI_VAR(0) = SI_VAR(6);
                        SI_VAR(1) = 1;
                        await N(script_8024ECEC);
                        AddKeyItem(SI_VAR(6));
                    }
                    SI_VAR(12) = 2;
                }
            }
        }
    }
    func_80243B2C_7EE83C();
});

s32 N(unk_8024F5F4)[] = {
    0x0000004B, 0x00000000,
};

Script N(script_8024F5FC) = SCRIPT({
    func_8024386C_7EE57C(13, 0x840004, 0x840001, 75, 76, 0x200FF, 0x20100, 0x20101, 0x20102, N(unk_8024F5F4));
    await N(script_8024F2FC);
});

Script N(script_8024F64C) = SCRIPT({
    DisablePlayerInput(1);
    UseSettingsFrom(0, 0xFFFFFF1F, 0, 0xFFFFFED4);
    SetPanTarget(0, 0xFFFFFF1F, 0, 0xFFFFFED4);
    SetCamDistance(0, 800.0);
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    spawn {
        sleep 35;
        SetCamSpeed(0, 2.1005859375);
        UseSettingsFrom(0, 0xFFFFFF1F, 0, 0xFFFFFED4);
        SetCamDistance(0, 300.0);
        PanToTarget(0, 0, 1);
        WaitForCam(0, 1.0);
        sleep 10;
        InterpNpcYaw(7, 230, 0);
        SetNpcJumpscale(7, 1.5);
        GetNpcPos(7, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        NpcJump0(7, SI_VAR(0), SI_VAR(1), SI_VAR(2), 5);
        sleep 10;
        SetNpcAnimation(7, 0x830003);
        NpcMoveTo(7, 0xFFFFFF47, 0xFFFFFED9, 15);
        SetNpcAnimation(7, 0x830001);
    }
    sleep 2;
    PlayerMoveTo(0xFFFFFF1F, 0xFFFFFED4, 80);
    SetPlayerPos(0xFFFFFF1F, 0, 0xFFFFFED4);
    sleep 50;
    spawn {
        sleep 20;
        SetPlayerAnimation(0x80007);
    }
    SpeakToPlayer(7, 0x830004, 0x830001, 0, 0x2007E);
    DisablePlayerInput(0);
    SetCamDistance(0, 400.0);
    SetCamSpeed(0, 4.0);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    PanToTarget(0, 0, 0);
});

Script N(script_Interact_8024F944) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFF96 {
            SI_VAR(0) = 0x2007F;
        }
        < 0xFFFFFF9C {
            SI_VAR(0) = 0x20080;
        }
        < 0xFFFFFFB5 {
            SI_VAR(0) = 0x20081;
        }
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x20082;
            } else {
                SI_VAR(0) = 0x20083;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x20084;
        }
        < 7 {
            if (SI_SAVE_FLAG(243) == 0) {
                SI_VAR(0) = 0x20085;
            } else {
                if (SI_SAVE_FLAG(244) == 0) {
                    SI_VAR(0) = 0x20086;
                } else {
                    SI_VAR(0) = 0x20087;
                }
            }
        }
        < 10 {
            SI_VAR(0) = 0x20088;
        }
        < 39 {
            SI_VAR(0) = 0x20089;
        }
        < 43 {
            SI_VAR(0) = 0x2008A;
        }
        < 57 {
            SI_VAR(0) = 0x2008B;
        }
        < 61 {
            SI_VAR(0) = 0x2008C;
        }
        < 89 {
            SI_VAR(0) = 0x2008D;
        }
        < 96 {
            SI_VAR(0) = 0x2008E;
        }
        >= 96 {
            SI_VAR(0) = 0x1002C;
        }
    }
    SpeakToPlayer(-1, 0x830004, 0x830001, 0, SI_VAR(0));
});

Script N(script_8024FBA0) = SCRIPT({
    DisablePlayerInput(1);
    NpcFacePlayer(7, 0);
    sleep 5;
    SpeakToPlayer(7, 0x830004, 0x830001, 0, 0x1002D);
    sleep 10;
    SetPlayerSpeed(4.0);
    PlayerMoveTo(0xFFFFFF24, 0xFFFFFF06, 0);
    DisablePlayerInput(0);
});

Script N(script_8024FC44) = SCRIPT({
    bind N(script_8024FBA0) to TriggerFlag_FLOOR_TOUCH 47;
});

Script N(script_Interact_8024FC70) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFF96 {
            SI_VAR(0) = 0x2008F;
        }
        < 0xFFFFFF9C {
            SI_VAR(0) = 0x20090;
        }
        < 0xFFFFFFB5 {
            SI_VAR(0) = 0x20091;
        }
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x20092;
            } else {
                SI_VAR(0) = 0x20093;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x20094;
        }
        < 7 {
            if (SI_SAVE_FLAG(243) == 0) {
                SI_VAR(0) = 0x20095;
            } else {
                if (SI_SAVE_FLAG(244) == 0) {
                    SI_VAR(0) = 0x20096;
                } else {
                    SI_VAR(0) = 0x20097;
                }
            }
        }
        < 10 {
            SI_VAR(0) = 0x20098;
        }
        < 39 {
            SI_VAR(0) = 0x20099;
        }
        < 43 {
            SI_VAR(0) = 0x2009A;
        }
        < 57 {
            SI_VAR(0) = 0x2009B;
        }
        < 61 {
            SI_VAR(0) = 0x2009C;
        }
        < 89 {
            SI_VAR(0) = 0x2009D;
        }
        < 96 {
            SI_VAR(0) = 0x2009E;
        }
        >= 96 {
            SI_VAR(0) = 0x1002E;
        }
    }
    SpeakToPlayer(-1, 0x830004, 0x830001, 0, SI_VAR(0));
});

Script N(script_Interact_8024FECC) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFF96 {
            SI_VAR(0) = 0x2009F;
        }
        < 0xFFFFFF9C {
            SI_VAR(0) = 0x200A0;
        }
        < 0xFFFFFFB5 {
            SI_VAR(0) = 0x200A1;
        }
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x200A2;
            } else {
                SI_VAR(0) = 0x200A3;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x200A4;
        }
        < 7 {
            if (SI_SAVE_FLAG(243) == 0) {
                SI_VAR(0) = 0x200A5;
            } else {
                if (SI_SAVE_FLAG(244) == 0) {
                    SI_VAR(0) = 0x200A6;
                } else {
                    SI_VAR(0) = 0x200A7;
                }
            }
        }
        < 10 {
            SI_VAR(0) = 0x200A8;
        }
        < 39 {
            SI_VAR(0) = 0x200A9;
        }
        < 43 {
            SI_VAR(0) = 0x200AA;
        }
        < 57 {
            SI_VAR(0) = 0x200AB;
        }
        < 61 {
            SI_VAR(0) = 0x200AC;
        }
        < 89 {
            SI_VAR(0) = 0x200AD;
        }
        < 96 {
            SI_VAR(0) = 0x200AE;
        }
        >= 96 {
            SI_VAR(0) = 0x1002F;
        }
    }
    SpeakToPlayer(-1, 0x830304, 0x830301, 0, SI_VAR(0));
});

Script N(script_Interact_80250128) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFF96 {
            SI_VAR(0) = 0x200AF;
            SI_VAR(1) = 0x200B0;
        }
        < 0xFFFFFF9C {
            SI_VAR(0) = 0x200B1;
            SI_VAR(1) = 0x200B2;
        }
        < 0xFFFFFFB5 {
            SI_VAR(0) = 0x200B3;
            SI_VAR(1) = 0x200B4;
        }
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x200B5;
                SI_VAR(1) = 0x200B6;
            } else {
                SI_VAR(0) = 0x200B7;
                SI_VAR(1) = 0x200B8;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x200B9;
            SI_VAR(1) = 0x200BA;
        }
        < 7 {
            if (SI_SAVE_FLAG(286) == 0) {
                SI_VAR(0) = 0x200BB;
                SI_VAR(1) = 0x200BC;
            } else {
                if (SI_SAVE_FLAG(287) == 0) {
                    SI_VAR(0) = 0x200BD;
                    SI_VAR(1) = 0x200BE;
                } else {
                    SI_VAR(0) = 0x200BF;
                    SI_VAR(1) = 0x200C0;
                }
            }
        }
        < 10 {
            SI_VAR(0) = 0x200C1;
            SI_VAR(1) = 0x200C2;
        }
        < 39 {
            SI_VAR(0) = 0x200C3;
            SI_VAR(1) = 0x200C4;
        }
        < 43 {
            SI_VAR(0) = 0x200C5;
            SI_VAR(1) = 0x200C6;
        }
        < 57 {
            SI_VAR(0) = 0x200C7;
            SI_VAR(1) = 0x200C8;
        }
        < 61 {
            SI_VAR(0) = 0x200C9;
            SI_VAR(1) = 0x200CA;
        }
        < 89 {
            SI_VAR(0) = 0x200CB;
            SI_VAR(1) = 0x200CC;
        }
        < 96 {
            SI_VAR(0) = 0x200CD;
            SI_VAR(1) = 0x200CE;
        }
        >= 96 {
            SI_VAR(0) = 0x10030;
            SI_VAR(1) = 0x10031;
        }
    }
    SpeakToPlayer(10, 0x830204, 0x830201, 5, SI_VAR(0));
    SpeakToPlayer(11, 0x840104, 0x840101, 5, SI_VAR(1));
});

Script N(script_Interact_802504B4) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFF96 {
            SI_VAR(0) = 0x200CF;
            SI_VAR(1) = 0x200D0;
            SI_VAR(2) = 0x200D1;
        }
        < 0xFFFFFF9C {
            SI_VAR(0) = 0x200D2;
            SI_VAR(1) = 0x200D3;
            SI_VAR(2) = 0x200D4;
        }
        < 0xFFFFFFB5 {
            SI_VAR(0) = 0x200D5;
            SI_VAR(1) = 0x200D6;
            SI_VAR(2) = 0x200D7;
        }
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x200D8;
                SI_VAR(1) = 0x200D9;
                SI_VAR(2) = 0x200DA;
            } else {
                SI_VAR(0) = 0x200DB;
                SI_VAR(1) = 0x200DC;
                SI_VAR(2) = 0x200DD;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x200DE;
            SI_VAR(1) = 0x200DF;
            SI_VAR(2) = 0x200E0;
        }
        < 0xFFFFFFF9 {
            if (SI_SAVE_FLAG(290) == 0) {
                SI_VAR(0) = 0x200E1;
                SI_VAR(1) = 0x200E2;
                SI_VAR(2) = 0x200E3;
            } else {
                SI_VAR(0) = 0x200E4;
                SI_VAR(1) = 0x200E5;
                SI_VAR(2) = 0x200E6;
            }
        }
        < 7 {
            SI_VAR(0) = 0x200E7;
            SI_VAR(1) = 0x200E8;
            SI_VAR(2) = 0x200E9;
        }
        < 10 {
            SI_VAR(0) = 0x200EA;
            SI_VAR(1) = 0x200EB;
            SI_VAR(2) = 0x200EC;
        }
        < 39 {
            SI_VAR(0) = 0x200ED;
            SI_VAR(1) = 0x200EE;
            SI_VAR(2) = 0x200EF;
        }
        < 43 {
            SI_VAR(0) = 0x200F0;
            SI_VAR(1) = 0x200F1;
            SI_VAR(2) = 0x200F2;
        }
        < 57 {
            SI_VAR(0) = 0x200F3;
            SI_VAR(1) = 0x200F4;
            SI_VAR(2) = 0x200F5;
        }
        < 61 {
            SI_VAR(0) = 0x200F6;
            SI_VAR(1) = 0x200F7;
            SI_VAR(2) = 0x200F8;
        }
        < 89 {
            SI_VAR(0) = 0x200F9;
            SI_VAR(1) = 0x200FA;
            SI_VAR(2) = 0x200FB;
        }
        < 96 {
            SI_VAR(0) = 0x200FC;
            SI_VAR(1) = 0x200FD;
            SI_VAR(2) = 0x200FE;
        }
        >= 96 {
            SI_VAR(0) = 0x10032;
            SI_VAR(1) = 0x10033;
            SI_VAR(2) = 0x10034;
        }
    }
    SpeakToPlayer(12, 0x840204, 0x840201, 0, SI_VAR(0));
    SpeakToPlayer(13, 0x840004, 0x840001, 0, SI_VAR(1));
    SpeakToPlayer(14, 0x840304, 0x840301, 0, SI_VAR(2));
});

Script N(script_Interact_8025095C) = SCRIPT({
    await N(script_Interact_802504B4);
    await N(script_8024F5FC);
    if (SI_VAR(12) != 0) {
        return;
    }
});

Script N(script_Interact_802509A4) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFF96 {
            SI_VAR(0) = 0x20103;
        }
        < 0xFFFFFF9C {
            SI_VAR(0) = 0x20104;
        }
        < 0xFFFFFFB5 {
            SI_VAR(0) = 0x20105;
        }
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x20106;
            } else {
                SI_VAR(0) = 0x20107;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x20108;
        }
        < 7 {
            if (SI_SAVE_FLAG(243) == 0) {
                SI_VAR(0) = 0x20109;
            } else {
                if (SI_SAVE_FLAG(244) == 0) {
                    SI_VAR(0) = 0x2010A;
                } else {
                    SI_VAR(0) = 0x2010B;
                }
            }
        }
        < 10 {
            SI_VAR(0) = 0x2010C;
        }
        < 39 {
            SI_VAR(0) = 0x2010D;
        }
        < 43 {
            SI_VAR(0) = 0x2010E;
        }
        < 57 {
            SI_VAR(0) = 0x2010F;
        }
        < 61 {
            SI_VAR(0) = 0x20110;
        }
        < 89 {
            SI_VAR(0) = 0x20111;
        }
        < 96 {
            SI_VAR(0) = 0x20112;
        }
        >= 96 {
            SI_VAR(0) = 0x10035;
        }
    }
    SpeakToPlayer(-1, 0x830204, 0x830201, 0, SI_VAR(0));
});

Script N(script_Aux_80250C00) = SCRIPT({
    SetNpcAnimation(-1, 0x840100);
    sleep 3;
    SetNpcAnimation(-1, 0x840101);
});

Script N(script_Aux_80250C44) = SCRIPT({
    SetNpcAnimation(-1, 0x840200);
    sleep 2;
    SetNpcAnimation(-1, 0x840201);
});

Script N(script_Aux_80250C88) = SCRIPT({
    SetNpcAnimation(-1, 0x840000);
    sleep 6;
    SetNpcAnimation(-1, 0x840001);
});

Script N(script_Aux_80250CCC) = SCRIPT({
    SetNpcAnimation(-1, 0x840300);
    sleep 8;
    SetNpcAnimation(-1, 0x840301);
});

Script N(script_Interact_80250D10) = SCRIPT({
    FindKeyItem(10, SI_VAR(1));
    FindKeyItem(11, SI_VAR(2));
    FindKeyItem(12, SI_VAR(3));
    FindKeyItem(13, SI_VAR(4));
    FindKeyItem(14, SI_VAR(5));
    if (SI_VAR(1) != -1) {
        SpeakToPlayer(-1, 0x830304, 0x830301, 0, 0x20114);
        return;
    }
    if (SI_VAR(2) != -1) {
        SpeakToPlayer(-1, 0x830304, 0x830301, 0, 0x20115);
        return;
    }
    if (SI_VAR(3) != -1) {
        SpeakToPlayer(-1, 0x830304, 0x830301, 0, 0x20116);
        return;
    }
    if (SI_VAR(4) != -1) {
        SpeakToPlayer(-1, 0x830304, 0x830301, 0, 0x20117);
        return;
    }
    if (SI_VAR(5) != -1) {
        SpeakToPlayer(-1, 0x830304, 0x830301, 0, 0x20118);
        return;
    }
    SpeakToPlayer(-1, 0x830304, 0x830301, 0, 0x20113);
});

Script N(script_Init_80250EE4) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024F944));
    if (SI_SAVE_VAR(0) < 96) {
        return;
    }
    GetEntryID(SI_VAR(0));
    if (SI_VAR(0) != 7) {
        spawn N(script_8024FC44);
    }
});

Script N(script_Init_80250F5C) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024FC70));
});

Script N(script_Init_80250F80) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024FECC));
});

Script N(script_Init_80250FA4) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80250128));
});

Script N(script_Init_80250FC8) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80250128));
    BindNpcAux(-1, N(script_Aux_80250C00));
});

Script N(script_Init_80251000) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_802504B4));
    BindNpcAux(-1, N(script_Aux_80250C44));
});

Script N(script_Init_80251038) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8025095C));
    BindNpcAux(-1, N(script_Aux_80250C88));
});

Script N(script_Init_80251070) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_802504B4));
    BindNpcAux(-1, N(script_Aux_80250CCC));
});

Script N(script_Init_802510A8) = SCRIPT({
    if (SI_SAVE_VAR(0) >= 96) {
        SetNpcPos(15, 350, 20, 0xFFFFFF9C);
    }
    BindNpcInteract(-1, N(script_Interact_802509A4));
});

Script N(script_Init_80251100) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80250D10));
});

StaticNpc N(npcGroup_80251124)[] = {
    {
        .id = 7,
        .settings = &N(npcSettings_8024EC90),
        .pos = { -150.0, 0.0, -275.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_80250EE4),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00830001, 0x00830002, 0x00830003, 0x00830003, 0x00830001, 0x00830001, 0x00830006, 0x00830006, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003,
        },
        .tattle = 0x1A0013,
    },
    {
        .id = 8,
        .settings = &N(npcSettings_8024EB90),
        .pos = { 219.0, 0.0, -45.0 },
        .flags = 0x00012D09,
        .init = N(script_Init_80250F5C),
        .yaw = 90,
        .dropFlags = 0x80,
        .movement = { 0x00000005, 0x000000DB, 0x00000000, 0xFFFFFFD3, 0x00000090, 0x00000000, 0xFFFFFFF6, 0x000000A3, 0x00000000, 0xFFFFFFCE, 0x000000F0, 0x00000000, 0x00000032, 0x00000113, 0x00000000, 0x0000000A, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xFFFF8001, 0x00000000, 0x00000000, 0x00000000, 0x000000C8, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x00830001, 0x00830002, 0x00830003, 0x00830003, 0x00830001, 0x00830001, 0x00830006, 0x00830006, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003,
        },
        .tattle = 0x1A0014,
    },
    {
        .id = 9,
        .settings = &N(npcSettings_8024EC38),
        .pos = { -290.0, 0.0, -120.0 },
        .flags = 0x00012D09,
        .init = N(script_Init_80250F80),
        .yaw = 90,
        .dropFlags = 0x80,
        .movement = { 0x00000002, 0xFFFFFEDE, 0x00000000, 0xFFFFFF88, 0x00000025, 0x00000000, 0xFFFFFF6A, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xFFFF8001, 0x00000000, 0x00000000, 0x00000000, 0x000000C8, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x00830301, 0x00830302, 0x00830303, 0x00830303, 0x00830301, 0x00830301, 0x00830306, 0x00830306, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303,
        },
        .tattle = 0x1A0015,
    },
    {
        .id = 10,
        .settings = &N(npcSettings_8024EC90),
        .pos = { -40.0, 0.0, 61.0 },
        .flags = 0x00412D09,
        .init = N(script_Init_80250FA4),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
        .tattle = 0x1A0016,
    },
    {
        .id = 11,
        .settings = &N(npcSettings_8024EC90),
        .pos = { -15.0, 0.0, 60.0 },
        .flags = 0x00412D09,
        .init = N(script_Init_80250FC8),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00840101, 0x00840102, 0x00840103, 0x00840103, 0x00840101, 0x00840101, 0x00840106, 0x00840106, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103,
        },
        .tattle = 0x1A0017,
    },
    {
        .id = 12,
        .settings = &N(npcSettings_8024EC90),
        .pos = { 426.0, 20.0, 268.0 },
        .flags = 0x00012D09,
        .init = N(script_Init_80251000),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00840201, 0x00840202, 0x00840203, 0x00840203, 0x00840201, 0x00840201, 0x00840206, 0x00840206, 0x00840203, 0x00840203, 0x00840203, 0x00840203, 0x00840203, 0x00840203, 0x00840203, 0x00840203,
        },
        .tattle = 0x1A0018,
    },
    {
        .id = 13,
        .settings = &N(npcSettings_8024EC90),
        .pos = { 381.0, 20.0, 326.0 },
        .flags = 0x00012D09,
        .init = N(script_Init_80251038),
        .yaw = 180,
        .dropFlags = 0x80,
        .animations = {
            0x00840001, 0x00840002, 0x00840003, 0x00840003, 0x00840001, 0x00840001, 0x00840006, 0x00840006, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003,
        },
        .tattle = 0x1A0019,
    },
    {
        .id = 14,
        .settings = &N(npcSettings_8024EC90),
        .pos = { 476.0, 20.0, 326.0 },
        .flags = 0x00012D09,
        .init = N(script_Init_80251070),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00840301, 0x00840302, 0x00840303, 0x00840303, 0x00840301, 0x00840301, 0x00840306, 0x00840306, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303,
        },
        .tattle = 0x1A001A,
    },
    {
        .id = 15,
        .settings = &N(npcSettings_8024EC90),
        .pos = { 424.0, 20.0, -85.0 },
        .flags = 0x00012D09,
        .init = N(script_Init_802510A8),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
        .tattle = 0x1A001B,
    },
    {
        .id = 16,
        .settings = &N(npcSettings_8024EC90),
        .pos = { 373.0, 0.0, 22.0 },
        .flags = 0x00012D09,
        .init = N(script_Init_80251100),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00830301, 0x00830302, 0x00830303, 0x00830303, 0x00830301, 0x00830301, 0x00830306, 0x00830306, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303,
        },
        .tattle = 0x1A0020,
    },
};

s32 pad_012484[] = {
    0x00000000, 0x00000000, 0x00000000,
};

NpcSettings N(npcSettings_80252490) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x18,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

NpcSettings N(npcSettings_802524BC) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_802524E8[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630000,
};

NpcAISettings N(aISettings_80252514) = {
    .moveSpeed = 1.5f,
    .moveTime = 0x3C,
    .waitTime = 0x1E,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_NpcAI_80252544) = SCRIPT({
    DoBasicAI(N(aISettings_80252514));
});

NpcSettings N(npcSettings_80252564) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = &N(script_NpcAI_80252544),
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

s32 unk_missing_80252590[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, N(script_NpcAI_80252544), 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630010,
};

Script N(script_Init_802525BC) = SCRIPT({
    SetNpcPos(-1, 570, 20, 0xFFFFFF6A);
    SetNpcYaw(-1, 270);
});

Script N(script_Init_802525FC) = SCRIPT({
    SetNpcPos(-1, 600, 20, 0xFFFFFF6F);
    SetNpcYaw(-1, 270);
});

s32 N(extraAnimationList_8025263C)[] = {
    0x00A30000, 0x00A30001, 0x00A30004, 0xFFFFFFFF,
};

s32 N(extraAnimationList_8025264C)[] = {
    0x00A40000, 0x00A40002, 0x00A40006, 0xFFFFFFFF,
};

StaticNpc N(npcGroup_8025265C)[] = {
    {
        .id = 0,
        .settings = &N(npcSettings_80252490),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00000F0D,
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000,
        },
    },
    {
        .id = 1,
        .settings = &N(npcSettings_802524BC),
        .pos = { -150.0, 0.0, -275.0 },
        .flags = 0x00112D09,
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00830001, 0x00830002, 0x00830003, 0x00830003, 0x00830001, 0x00830001, 0x00830006, 0x00830006, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003,
        },
        .tattle = 0x1A0013,
    },
    {
        .id = 2,
        .settings = &N(npcSettings_80252564),
        .pos = { 219.0, 0.0, -45.0 },
        .flags = 0x00012D09,
        .yaw = 90,
        .dropFlags = 0x80,
        .movement = { 0x00000005, 0x000000DB, 0x00000000, 0xFFFFFFD3, 0x00000090, 0x00000000, 0xFFFFFFF6, 0x000000A3, 0x00000000, 0xFFFFFFCE, 0x000000F0, 0x00000000, 0x00000032, 0x00000113, 0x00000000, 0x0000000A, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xFFFF8001, 0x00000000, 0x00000000, 0x00000000, 0x000000C8, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x00830001, 0x00830002, 0x00830003, 0x00830003, 0x00830001, 0x00830001, 0x00830006, 0x00830006, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003,
        },
        .tattle = 0x1A0014,
    },
    {
        .id = 3,
        .settings = &N(npcSettings_802524BC),
        .pos = { 424.0, 20.0, -85.0 },
        .flags = 0x00012D09,
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
        .tattle = 0x1A001B,
    },
    {
        .id = 4,
        .settings = &N(npcSettings_802524BC),
        .pos = { 310.0, 115.0, -390.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_802525BC),
        .yaw = 45,
        .dropFlags = 0x80,
        .animations = {
            0x00A30001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .extraAnimations = N(extraAnimationList_8025263C),
        .tattle = 0x1A0010,
    },
    {
        .id = 5,
        .settings = &N(npcSettings_802524BC),
        .pos = { 330.0, 115.0, -410.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_802525FC),
        .yaw = 45,
        .dropFlags = 0x80,
        .animations = {
            0x00A40002, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .extraAnimations = N(extraAnimationList_8025264C),
        .tattle = 0x1A0011,
    },
};

NpcGroupList N(npcGroupList_802531FC) = {
    NPC_GROUP(N(npcGroup_8025265C), 0x00000000),
    {},
};

s32 pad_013214[] = {
    0x00000000, 0x00000000, 0x00000000,
};

Script N(script_80253220) = SCRIPT({
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    SetPlayerPos(0xFFFFFF9C, 0xFFFFFFF6, 0xFFFFFE8E);
    InterpPlayerYaw(135, 0);
    sleep 2;
    PlaySoundAtPlayer(355, 0);
    0x802D286C(256);
    0x802D2520(0x10002, 5, 2, 1, 1, 0);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    loop 40 {
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    0x802D2520(0x10002, 0, 0, 0, 0, 0);
    HidePlayerShadow(0);
    DisablePlayerPhysics(0);
});

Script N(script_80253374) = SCRIPT({
    EnableNpcShadow(0, 0);
    SetNpcPos(0, 0xFFFFFF9C, 0xFFFFFFDD, 0xFFFFFE8E);
    SetNpcYaw(0, 135);
    sleep 2;
    PlaySoundAtNpc(0, 355, 0);
    0x802CFE2C(0, 256);
    0x802CFD30(0, 5, 2, 1, 1, 0);
    SetNpcPos(0, 0xFFFFFF9C, 0xFFFFFFF6, 0xFFFFFE8E);
    GetNpcPos(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    loop 45 {
        SI_VAR(1) += 1;
        SetNpcPos(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    0x802CFD30(0, 0, 0, 0, 0, 0);
    SetNpcPos(0, 0xFFFFFF9C, 30, 0xFFFFFE8E);
    sleep 3;
    EnableNpcShadow(0, 1);
});

Script N(script_80253508) = SCRIPT({
    DisablePlayerInput(1);
    UseSettingsFrom(0, 0xFFFFFF9C, 30, 0xFFFFFE8E);
    SetPanTarget(0, 0xFFFFFF9C, 30, 0xFFFFFE8E);
    SetCamDistance(0, 300.0);
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    spawn {
        await N(script_80253220);
        sleep 10;
        0x802D1270(0xFFFFFFC4, 0xFFFFFEC0, 4.0);
        sleep 63;
        0x802D1270(80, 0xFFFFFFC4, 4.0);
        0x802D1270(180, 0, 4.0);
        0x802D1270(650, 0, 4.0);
    }
    spawn {
        sleep 70;
        await N(script_80253374);
        sleep 10;
        SetNpcFlagBits(0, 512, 1);
        SetNpcAnimation(0, 0x82000A);
        SetNpcSpeed(0, 4.0);
        NpcMoveTo(0, 80, 0xFFFFFFC4, 0);
        NpcMoveTo(0, 180, 0, 0);
        NpcMoveTo(0, 650, 0, 0);
    }
    sleep 70;
    SetPanTarget(0, 0xFFFFFFC4, 0, 0xFFFFFEC0);
    SetCamDistance(0, 600.0);
    SetCamSpeed(0, 2.0);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    UseSettingsFrom(0, 400, 0, 0);
    SetPanTarget(0, 400, 0, 0);
    SetCamDistance(0, 450.0);
    SetCamSpeed(0, 0.5);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    GotoMap(D_80255B60_800870, 4);
    sleep 100;
    DisablePlayerInput(0);
});

s32 pad_013834[] = {
    0x00000000, 0x00000000, 0x00000000,
};

NpcSettings N(npcSettings_80253840) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x18,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

NpcSettings N(npcSettings_8025386C) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x16,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

NpcSettings N(npcSettings_80253898) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_802538C4[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630000,
};

Script N(script_Interact_802538F0) = SCRIPT({
    SpeakToPlayer(-1, 0xA00004, 0xA00001, 0, 0x10024);
});

Script N(script_Init_80253920) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_802538F0));
});

Script N(script_Interact_80253944) = SCRIPT({
    SpeakToPlayer(-1, 0xA10004, 0xA10001, 0, 0x10025);
});

Script N(script_Init_80253974) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80253944));
});

Script N(script_Interact_80253998) = SCRIPT({
    SpeakToPlayer(-1, 0x9F0004, 0x9F0001, 0, 0x10026);
});

Script N(script_Init_802539C8) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80253998));
});

Script N(script_Interact_802539EC) = SCRIPT({
    SpeakToPlayer(-1, 0xAF0004, 0xAF0001, 0, 0x10027);
});

Script N(script_Init_80253A1C) = SCRIPT({
    SetNpcPos(6, 460, 20, 0xFFFFFF7E);
    SetNpcYaw(6, 90);
    BindNpcInteract(-1, N(script_Interact_802539EC));
});

Script N(script_Interact_80253A70) = SCRIPT({
    SpeakToPlayer(-1, 0x850005, 0x850005, 0, 0x1003B);
});

Script N(script_Init_80253AA0) = SCRIPT({
    SetNpcAnimation(-1, 0x850002);
    BindNpcInteract(-1, N(script_Interact_80253A70));
});

Script N(script_Interact_80253AD8) = SCRIPT({
    SpeakToPlayer(-1, 0xA30004, 0xA30001, 0, 0x10029);
});

Script N(script_Init_80253B08) = SCRIPT({
    ModifyColliderFlags(0, 108, 0x7FFFFE00);
    BindNpcInteract(-1, N(script_Interact_80253AD8));
});

Script N(script_Interact_80253B44) = SCRIPT({
    SpeakToPlayer(-1, 0xA40006, 0xA40002, 0, 0x1002A);
});

Script N(script_Init_80253B74) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80253B44));
});

Script N(script_Interact_80253B98) = SCRIPT({
    SpeakToPlayer(3, 0xA20009, 0xA20002, 0, 0x10028);
});

Script N(script_Init_80253BC8) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80253B98));
});

Script N(script_Interact_80253BEC) = SCRIPT({
    SpeakToPlayer(1, 0x880004, 0x880001, 0, 0x1002B);
});

Script N(script_Init_80253C1C) = SCRIPT({
    ModifyColliderFlags(0, 55, 0x7FFFFE00);
    ModifyColliderFlags(0, 56, 0x7FFFFE00);
    ModifyColliderFlags(0, 57, 0x7FFFFE00);
    ModifyColliderFlags(0, 58, 0x7FFFFE00);
    ModifyColliderFlags(0, 59, 0x7FFFFE00);
    ModifyColliderFlags(0, 60, 0x7FFFFE00);
    ModifyColliderFlags(1, 61, 0x7FFFFE00);
    BindNpcInteract(-1, N(script_Interact_80253BEC));
});

Script N(script_Interact_80253CE8) = SCRIPT({
    SpeakToPlayer(29, 0x880004, 0x880001, 0, 0x1003A);
});

Script N(script_Init_80253D18) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80253CE8));
});

s32 N(extraAnimationList_80253D3C)[] = {
    0x00820000, 0x00820004, 0x00820008, 0x0082000A, 0x00820014, 0xFFFFFFFF,
};

StaticNpc N(npcGroup_80253D54)[] = {
    {
        .id = 25,
        .settings = &N(npcSettings_80253840),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00000F0D,
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000, 0x00820000,
        },
        .extraAnimations = N(extraAnimationList_80253D3C),
    },
};

s32 N(extraAnimationList_80253F44)[] = {
    0x00A00000, 0x00A00001, 0x00A00004, 0xFFFFFFFF,
};

s32 N(extraAnimationList_80253F54)[] = {
    0x00A10000, 0x00A10001, 0x00A10004, 0xFFFFFFFF,
};

s32 N(extraAnimationList_80253F64)[] = {
    0x009F0000, 0x009F0001, 0x009F0004, 0xFFFFFFFF,
};

StaticNpc N(npcGroup_80253F74)[] = {
    {
        .id = 26,
        .settings = &N(npcSettings_8025386C),
        .pos = { 70.0, 0.0, -30.0 },
        .flags = 0x00012D09,
        .init = N(script_Init_80253920),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00A00001, 0x00A00002, 0x00A00003, 0x00A00003, 0x00A00001, 0x00A00001, 0x00A00000, 0x00A00000, 0x00A00003, 0x00A00003, 0x00A00003, 0x00A00003, 0x00A00003, 0x00A00003, 0x00A00003, 0x00A00003,
        },
        .extraAnimations = N(extraAnimationList_80253F44),
        .tattle = 0x1A0065,
    },
    {
        .id = 27,
        .settings = &N(npcSettings_8025386C),
        .pos = { 40.0, 0.0, 20.0 },
        .flags = 0x00012D09,
        .init = N(script_Init_80253974),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00A10001, 0x00A10002, 0x00A10003, 0x00A10003, 0x00A10001, 0x00A10001, 0x00A10000, 0x00A10000, 0x00A10003, 0x00A10003, 0x00A10003, 0x00A10003, 0x00A10003, 0x00A10003, 0x00A10003, 0x00A10003,
        },
        .extraAnimations = N(extraAnimationList_80253F54),
        .tattle = 0x1A0066,
    },
    {
        .id = 28,
        .settings = &N(npcSettings_8025386C),
        .pos = { 20.0, 0.0, -35.0 },
        .flags = 0x00012D09,
        .init = N(script_Init_802539C8),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x009F0001, 0x009F0002, 0x009F0003, 0x009F0003, 0x009F0001, 0x009F0001, 0x009F0000, 0x009F0000, 0x009F0003, 0x009F0003, 0x009F0003, 0x009F0003, 0x009F0003, 0x009F0003, 0x009F0003, 0x009F0003,
        },
        .extraAnimations = N(extraAnimationList_80253F64),
        .tattle = 0x1A0064,
    },
};

s32 N(extraAnimationList_80254544)[] = {
    0x00AF0000, 0x00AF0001, 0x00AF0004, 0xFFFFFFFF,
};

s32 N(extraAnimationList_80254554)[] = {
    0x00850000, 0x00850002, 0x00850005, 0xFFFFFFFF,
};

StaticNpc N(npcGroup_80254564)[] = {
    {
        .id = 6,
        .settings = &N(npcSettings_80253840),
        .pos = { 545.0, 20.0, 150.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_80253A1C),
        .yaw = 30,
        .dropFlags = 0x80,
        .animations = {
            0x00AF0001, 0x00AF0002, 0x00AF0003, 0x00AF0003, 0x00AF0001, 0x00AF0001, 0x00AF0000, 0x00AF0000, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003,
        },
        .extraAnimations = N(extraAnimationList_80254544),
        .tattle = 0x1A0002,
    },
    {
        .id = 30,
        .settings = &N(npcSettings_80253898),
        .pos = { 500.0, 20.0, -130.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_80253AA0),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00850000, 0x00850001, 0x00850000, 0x00850000, 0x00850000, 0x00850000, 0x00850000, 0x00850000, 0x00850000, 0x00850000, 0x00850000, 0x00850000, 0x00850000, 0x00850000, 0x00850000, 0x00850000,
        },
        .extraAnimations = N(extraAnimationList_80254554),
        .tattle = 0x1A0012,
    },
};

s32 N(extraAnimationList_80254944)[] = {
    0x00A20000, 0x00A20002, 0x00A20009, 0xFFFFFFFF,
};

s32 N(extraAnimationList_80254954)[] = {
    0x00A30000, 0x00A30001, 0x00A30004, 0xFFFFFFFF,
};

s32 N(extraAnimationList_80254964)[] = {
    0x00A40000, 0x00A40002, 0x00A40006, 0xFFFFFFFF,
};

StaticNpc N(npcGroup_80254974)[] = {
    {
        .id = 3,
        .settings = &N(npcSettings_80253840),
        .pos = { 375.0, 115.0, -440.0 },
        .flags = 0x00012D0D,
        .init = N(script_Init_80253BC8),
        .yaw = 225,
        .dropFlags = 0x80,
        .animations = {
            0x00A20002, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000, 0x00A20000,
        },
        .extraAnimations = N(extraAnimationList_80254944),
        .tattle = 0x1A000F,
    },
    {
        .id = 4,
        .settings = &N(npcSettings_80253840),
        .pos = { 310.0, 115.0, -390.0 },
        .flags = 0x00012D0D,
        .init = N(script_Init_80253B08),
        .yaw = 45,
        .dropFlags = 0x80,
        .animations = {
            0x00A30001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .extraAnimations = N(extraAnimationList_80254954),
        .tattle = 0x1A0010,
    },
    {
        .id = 5,
        .settings = &N(npcSettings_80253840),
        .pos = { 330.0, 115.0, -410.0 },
        .flags = 0x00012D0D,
        .init = N(script_Init_80253B74),
        .yaw = 45,
        .dropFlags = 0x80,
        .animations = {
            0x00A40002, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .extraAnimations = N(extraAnimationList_80254964),
        .tattle = 0x1A0011,
    },
};

s32 N(extraAnimationList_80254F44)[] = {
    0x00880000, 0x00880001, 0x00880004, 0xFFFFFFFF,
};

StaticNpc N(npcGroup_80254F54)[] = {
    {
        .id = 1,
        .settings = &N(npcSettings_80253898),
        .pos = { 430.0, 20.0, -373.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_80253C1C),
        .yaw = 223,
        .dropFlags = 0x80,
        .animations = {
            0x00880001, 0x00880002, 0x00880003, 0x00880003, 0x00880001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .extraAnimations = N(extraAnimationList_80254F44),
        .tattle = 0x1A0012,
    },
    {
        .id = 29,
        .settings = &N(npcSettings_80253898),
        .pos = { 410.0, 20.0, -320.0 },
        .flags = 0x00112D09,
        .init = N(script_Init_80253D18),
        .yaw = 43,
        .dropFlags = 0x80,
        .animations = {
            0x00880001, 0x00880002, 0x00880003, 0x00880003, 0x00880001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .extraAnimations = N(extraAnimationList_80254F44),
        .tattle = 0x1A0012,
    },
};

NpcGroupList N(npcGroupList_80255334) = {
    NPC_GROUP(N(npcGroup_80253D54), 0x00000000),
    NPC_GROUP(N(npcGroup_80254974), 0x00000000),
    NPC_GROUP(N(npcGroup_80253F74), 0x00000000),
    NPC_GROUP(N(npcGroup_80254564), 0x00000000),
    NPC_GROUP(N(npcGroup_80254F54), 0x00000000),
    NPC_GROUP(N(npcGroup_80251124), 0x00000000),
    NPC_GROUP(N(npcGroup_8024D7F8), 0x00000000),
    {},
};

s32 pad_015394[] = {
    0x00000000, 0x00000000, 0x00000000,
};

Script N(script_802553A0) = SCRIPT({
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    SetPlayerPos(0xFFFFFF9C, 0xFFFFFFF6, 0xFFFFFE8E);
    InterpPlayerYaw(135, 0);
    sleep 2;
    PlaySoundAtPlayer(355, 0);
    0x802D286C(256);
    0x802D2520(0x10002, 5, 2, 1, 1, 0);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    loop 40 {
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    0x802D2520(0x10002, 0, 0, 0, 0, 0);
    HidePlayerShadow(0);
    DisablePlayerPhysics(0);
});

Script N(script_802554F4) = SCRIPT({
    EnableNpcShadow(25, 0);
    SetNpcPos(25, 0xFFFFFF9C, 0xFFFFFFDD, 0xFFFFFE8E);
    SetNpcYaw(25, 135);
    sleep 2;
    PlaySoundAtNpc(25, 355, 0);
    0x802CFE2C(25, 256);
    0x802CFD30(25, 5, 2, 1, 1, 0);
    SetNpcPos(25, 0xFFFFFF9C, 0xFFFFFFF6, 0xFFFFFE8E);
    GetNpcPos(25, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    loop 45 {
        SI_VAR(1) += 1;
        SetNpcPos(25, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    0x802CFD30(25, 0, 0, 0, 0, 0);
    SetNpcPos(25, 0xFFFFFF9C, 30, 0xFFFFFE8E);
    sleep 3;
    EnableNpcShadow(25, 1);
});

Script N(script_80255688) = SCRIPT({
    DisablePlayerInput(1);
    UseSettingsFrom(0, 0xFFFFFF9C, 30, 0xFFFFFE8E);
    SetPanTarget(0, 0xFFFFFF9C, 30, 0xFFFFFE8E);
    SetCamDistance(0, 300.0);
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    spawn {
        await N(script_802553A0);
        sleep 10;
        0x802D1270(0xFFFFFFC4, 0xFFFFFEC0, 4.0);
    }
    spawn {
        sleep 70;
        await N(script_802554F4);
        sleep 10;
        SetNpcFlagBits(25, 512, 1);
        SetNpcAnimation(25, 0x82000A);
        SetNpcSpeed(25, 4.0);
        NpcMoveTo(25, 0xFFFFFF9C, 0xFFFFFED4, 0);
        SetNpcAnimation(25, 0x820004);
    }
    sleep 70;
    UseSettingsFrom(0, 0xFFFFFFC4, 0, 0xFFFFFEC0);
    SetPanTarget(0, 0xFFFFFFC4, 0, 0xFFFFFEC0);
    SetCamSpeed(0, 2.0);
    PanToTarget(0, 0, 1);
    sleep 80;
    SpeakToPlayer(25, 0x820014, 0x820004, 0, 0x10023);
    sleep 10;
    parallel {
        loop {
            PlayerFaceNpc(25, 0);
            sleep 1;
        }
    }
    SetNpcAnimation(25, 0x82000A);
    NpcMoveTo(25, 60, 0xFFFFFF9C, 0);
    SetNpcFlagBits(25, 512, 0);
    SetNpcPos(25, 0, 0xFFFFFC18, 0);
    spawn N(script_8024FC44);
    PanToTarget(0, 0, 0);
    DisablePlayerInput(0);
});

s32 pad_015988[] = {
    0x00000000, 0x00000000,
};

// rodata: D_80255990_8006A0

// rodata: D_80255998_8006A8

// rodata: D_802559A0_8006B0

// rodata: D_802559A8_8006B8

// rodata: D_802559B0_8006C0

s32 pad_0159B8[] = {
    0x00000000, 0x00000000,
};

// rodata: D_802559C0_8006D0

// rodata: D_802559C8_8006D8

// rodata: jtbl_802559D0_8006E0

// rodata: D_80255B60_800870

s32 pad_015B68[] = {
    0x00000000, 0x00000000,
};

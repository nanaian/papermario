#include "mac_04.h"

s32 pad_000044[3];
s32 pad_0001B4[3];
s32 pad_000214[3];
s32 pad_00045C[1];
s32 pad_001C88[2];
s32 pad_001EE4[3];
Script N(script_802420C0);
s32 pad_002178[2];
Script N(script_ExitWalk_80242180);
Script N(script_ExitWalk_802421DC);
Script N(script_80242238);
Script N(script_EnterWalk_80242280);
Script N(main);
s32 pad_0026AC[1];
Script N(script_OpenDoor_802426B0);
Script N(script_MoveWalls_802426E0);
Script N(script_ToggleVis_80242800);
Script N(script_OpenDoor_80242870);
Script N(script_MoveWalls_802428A0);
Script N(script_DropDoor_80242990);
Script N(script_ToggleVis_802429C0);
Script N(script_OpenDoor_80242A24);
Script N(script_MoveWalls_80242A54);
Script N(script_DropDoor_80242B48);
Script N(script_ToggleVis_80242B78);
Script N(script_OpenDoor_80242BA8);
Script N(script_MoveWalls_80242BD8);
Script N(script_ToggleVis_80242C58);
Script N(script_OpenDoor_80242D08);
Script N(script_MoveWalls_80242D58);
Script N(script_ToggleVis_80242DD8);
s32 N(npcList_80242DE8)[3];
s32 N(npcList_80242DF4)[3];
s32 N(npcList_80242E00)[2];
Script N(script_80242E08);
Script N(script_80242E48);
Script N(script_80242E88);
s32 pad_0030C4[3];
Script N(script_SearchBush_802430D0);
Script N(script_ShakeTree_80243430);
Script N(script_80243B24);
s32 pad_003C0C[1];
s32 N(intTable_80243C10)[23];
s32 N(shopInventory_80243C6C)[21];
s32 N(shopPriceList_80243CC0)[21];
Script N(script_80243D14);
s32 N(shopItemPositions_80243D68)[6];
s32 N(shopOwnerNPC_80243D80)[7];
Script N(script_80243D9C);
s32 pad_003DD8[2];
Script N(script_NpcAI_80243E10);
s32 unk_missing_80243E5C[11];
s32 unk_missing_80243EB4[11];
s32 unk_missing_80243F64[22];
s32 N(unk_80243FE8)[1];
Script N(script_80243FEC);
Script N(script_8024401C);
s32 N(quizAnswers)[16];
s32 N(quizRequirements)[20];
Script N(script_802440DC);
Script N(script_8024418C);
Script N(script_80244328);
Script N(script_80244424);
Script N(script_80244460);
Script N(script_80244610);
Script N(script_80244748);
Script N(script_802448B4);
Script N(script_802448E8);
Script N(script_80244928);
Script N(script_80244964);
Script N(script_802454AC);
Script N(script_802454EC);
Script N(script_802455C8);
Script N(script_80245678);
Script N(script_80245728);
Script N(script_80246458);
Script N(script_802464CC);
Script N(script_8024654C);
Script N(script_80246598);
s32 unk_missing_802465E4[11];
s32 N(unk_80246610)[1];
s32 N(unk_80246614)[1];
Script N(script_80246618);
Script N(script_8024675C);
Script N(script_802467AC);
Script N(script_8024697C);
s32 N(itemList_80246C50)[2];
Script N(script_80246C58);
Script N(script_Idle_80246CA0);
Script N(script_80246D94);
Script N(script_Init_80247B1C);
Script N(script_Init_80247B8C);
s32 N(vectorList_80247BD4)[9];
s32 N(vectorList_80247BF8)[9];
Script N(script_Idle_80247C1C);
Script N(script_Init_8024808C);
Script N(script_802480E0);
Script N(script_80248128);
Script N(script_802481E0);
Script N(script_80248298);
Script N(script_802483B8);
Script N(script_80248624);
Script N(script_80248798);
Script N(script_80248A14);
Script N(script_80248B08);
Script N(script_Init_80248E14);
s32 N(unk_80248E24)[2];
Script N(script_Interact_80248E2C);
Script N(script_Init_8024911C);
Script N(script_Interact_80249184);
Script N(script_Init_802497B0);
Script N(script_Interact_80249918);
Script N(script_Init_80249AF0);
Script N(script_Interact_80249B24);
Script N(script_Init_80249CFC);
Script N(script_Interact_80249D30);
Script N(script_Init_80249F08);
Script N(script_Interact_80249F2C);
Script N(script_Init_8024A104);
Script N(script_Interact_8024A128);
Script N(script_Init_8024A4E0);
Script N(script_Init_8024A504);
Script N(script_Init_8024A528);
Script N(script_Interact_8024A54C);
Script N(script_Init_8024A7F4);
Script N(script_Interact_8024A858);
Script N(script_Init_8024AA30);
Script N(script_Interact_8024AA54);
Script N(script_Init_8024AE0C);
Script N(script_Init_8024AE30);
Script N(script_Init_8024AE54);
Script N(script_Interact_8024AE78);
Script N(script_Interact_8024B064);
Script N(script_Init_8024B190);
Script N(script_Init_8024B1B4);
StaticNpc N(npcGroup_8024B1D8)[14];
s32 N(extraAnimationList_8024CCF8)[4];
StaticNpc N(npcGroup_8024CD08)[3];
StaticNpc N(npcGroup_8024D2D8)[2];
StaticNpc N(npcGroup_8024D6B8)[2];
StaticNpc N(npcGroup_8024DA98)[1];
NpcGroupList N(npcGroupList_8024DC88);
NpcGroupList N(npcGroupList_8024DCAC);
NpcGroupList N(npcGroupList_8024DCD0);
NpcGroupList N(npcGroupList_8024DCF4);
s32 pad_00DD18[2];
Script N(script_8024DD50);
s32 unk_missing_8024DD70[22];
s32 unk_missing_8024DDF4[55];
Script N(script_8024DED0);
Script N(script_Init_8024E024);
StaticNpc N(npcGroup_8024E064)[4];
NpcGroupList N(npcGroupList_8024E824);
s32 pad_00E83C[1];
Script N(script_8024E840);
Script N(script_8024E924);
Script N(script_8024E9FC);
Script N(script_8024EA2C);
Script N(script_8024EA94);
Script N(script_8024ECDC);
Script N(script_8024EED8);
Script N(script_8024EFAC);
Script N(script_8024EFF4);
s32 N(itemList_8024F010)[2];
Script N(script_8024F018);
Script N(script_8024F24C);
Script N(script_8024F278);
Script N(script_MakeEntities);
s32 pad_00F4C4[3];
s32 N(unk_8024F4D0)[6];
Script N(script_8024F4E8);
s32 pad_00F544[3];
const char D_8024F550_852120[8]; // "hos_bg"
const char D_8024F558_852128[8]; // "mac_05"
const char D_8024F560_852130[8]; // "mac_02"
const char D_8024F568_852138[8]; // "omo_03"
const char D_8024F570_852140[8]; // "hos_20"
s32 pad_00F578[2];
const char D_8024F588_852158[8]; // "omo_03"
const char D_8024F590_852160[8]; // "kmr_22"
s32 pad_00F598[2];

// text: func_Init_842BD0

s32 pad_000044[] = {
    0x00000000, 0x00000000, 0x00000000,
};

// text: func_80240050_842C20

// text: func_80240194_842D64

s32 pad_0001B4[] = {
    0x00000000, 0x00000000, 0x00000000,
};

// text: func_802401C0_842D90

s32 pad_000214[] = {
    0x00000000, 0x00000000, 0x00000000,
};

// text: func_80240220_842DF0

// text: func_80240290_842E60

s32 pad_00045C[] = {
    0x00000000,
};

// text: func_80240460_843030

// text: func_80240514_8430E4

// text: func_80240578_843148

// text: func_8024058C_84315C

// text: func_8024059C_84316C

// text: func_802407C0_843390

// text: func_8024080C_8433DC

// text: func_8024082C_8433FC

// text: func_8024088C_84345C

// text: func_802409D8_8435A8

// text: func_80240B4C_84371C

// text: func_80240BD0_8437A0

// text: func_80240DE8_8439B8

// text: func_80240E9C_843A6C

// text: func_80240ED0_843AA0

// text: func_80240F50_843B20

// text: func_80240F68_843B38

// text: func_80240F84_843B54

// text: func_80240F9C_843B6C

// text: func_80240FCC_843B9C

// text: func_80241040_843C10

// text: func_802410E0_843CB0

// text: func_8024127C_843E4C

// text: func_802412E0_843EB0

// text: func_80241370_843F40

// text: func_80241458_844028

// text: func_802414C4_844094

// text: func_802414F4_8440C4

// text: func_80241550_844120

// text: func_80241720_8442F0

// text: func_80241774_844344

// text: func_802417AC_84437C

// text: func_80241848_844418

// text: func_802418AC_84447C

// text: func_80241944_844514

// text: func_80241980_844550

// text: func_802419AC_84457C

// text: func_802419D0_8445A0

// text: func_802419E4_8445B4

// text: func_80241A64_844634

// text: func_80241B90_844760

// text: func_80241BB8_844788

// text: func_80241C20_8447F0

// text: func_80241C40_844810

// text: func_80241C60_844830

s32 pad_001C88[] = {
    0x00000000, 0x00000000,
};

// text: func_80241C90_844860

// text: func_80241CEC_8448BC

// text: func_80241D30_844900

// text: func_80241DAC_84497C

// text: func_80241EB0_844A80

s32 pad_001EE4[] = {
    0x00000000, 0x00000000, 0x00000000,
};

// text: func_80241EF0_844AC0

EntryList N(entryList) = {
    { 610.0f, 0.0f, 0.0f, 280.0f },
    { -420.0f, 0.0f, 430.0f, 35.0f },
    { -490.0f, 20.0f, -150.0f, 180.0f },
    { -420.0f, 20.0f, -95.0f, 0.0f },
    { 0.0f, -100.0f, 0.0f, 0.0f },
    { -420.0f, 20.0f, 235.0f, 270.0f },
};

MapConfig N(header) = {
    .main = N(main),
    .entryList = N(entryList),
    .entryCount = ENTRY_COUNT(N(entryList)),
    .background = &gBackgroundImage,
    .tattle = 0x190004,
};

Script N(script_802420C0) = SCRIPT({
    GetEntryID(SI_VAR(0));
    if (SI_VAR(0) != 4) {
        match SI_SAVE_VAR(0) {
            0xFFFFFFF3..5
            SetMusicTrack(0, 74, 0, 8);
            else {
                spawn N(script_8024F4E8);
            }
        }
        spawn {
            sleep 60;
            StopSound(0x80000017);
        }
    }
});

s32 pad_002178[] = {
    0x00000000, 0x00000000,
};

Script N(script_ExitWalk_80242180) = SCRIPT({
    group 27;
    UseExitHeading(60, 1);
    spawn ExitWalk;
    GotoMap(D_8024F558_852128, 0);
    sleep 100;
});

Script N(script_ExitWalk_802421DC) = SCRIPT({
    group 27;
    UseExitHeading(60, 0);
    spawn ExitWalk;
    GotoMap(D_8024F560_852130, 0);
    sleep 100;
});

Script N(script_80242238) = SCRIPT({
    bind N(script_ExitWalk_80242180) to 0x80000 65;
    bind N(script_ExitWalk_802421DC) to 0x80000 66;
});

Script N(script_EnterWalk_80242280) = SCRIPT({
    GetEntryID(SI_VAR(0));
    match SI_VAR(0) {
        == 2 {
            spawn N(script_80242238);
            spawn N(script_8024ECDC);
            spawn {
                sleep 20;
                SI_MAP_FLAG(10) = 1;
            }
        }
        == 3 {
            spawn N(script_80242238);
            SetPlayerPos(0xFFFFFE5C, 20, 0xFFFFFFA1);
            SetNpcPos(0xFFFFFFFC, 0xFFFFFE5C, 20, 0xFFFFFFBF);
            spawn {
                sleep 20;
                SI_MAP_FLAG(10) = 1;
            }
        }
        == 4 {
            func_80240194_842D64();
            func_80240050_842C20(0, 0, 0, 0, 0, 0, 0, 950, 1000);
            spawn N(script_8024DED0);
        }
        == 5 {
            spawn N(script_80242238);
        } else {
            SI_VAR(0) = N(script_80242238);
            spawn EnterWalk;
        }
    }
});

Script N(main) = SCRIPT({
    SI_SAVE_VAR(425) = 1;
    SetSpriteShading(-1);
    SetCamPerspective(0, 3, 25, 16, 4096);
    SetCamBGColor(0, 0, 0, 0);
    SetCamEnabled(0, 1);
    SetCamLeadPlayer(0, 0);
    GetEntryID(SI_VAR(0));
    if (SI_VAR(0) == 4) {
        MakeNpcs(0, N(npcGroupList_8024E824));
    } else {
        match SI_SAVE_VAR(0) {
            < 0xFFFFFFF3 {
                MakeNpcs(0, N(npcGroupList_8024DC88));
            }
            < 6 {
                MakeNpcs(0, N(npcGroupList_8024DCAC));
            }
            == 6 {
                MakeNpcs(0, N(npcGroupList_8024DCD0));
            }
            < 41 {
                MakeNpcs(0, N(npcGroupList_8024DC88));
            }
            < 88 {
                MakeNpcs(0, N(npcGroupList_8024DCF4));
            } else {
                MakeNpcs(0, N(npcGroupList_8024DC88));
            }
        }
    }
    SI_AREA_FLAG(49) = 0;
    await N(script_MakeEntities);
    spawn N(script_80242E88);
    spawn N(script_80243B24);
    spawn N(script_80243D9C);
    await N(script_80246C58);
    if (SI_SAVE_VAR(0) == 6) {
        SetMusicTrack(0, 120, 1, 8);
    } else {
        spawn N(script_802420C0);
    }
    spawn N(script_EnterWalk_80242280);
    GetEntryID(SI_VAR(0));
    if (SI_VAR(0) == 5) {
        sleep 65;
    } else {
        sleep 1;
    }
    SI_SAVE_FLAG(263) = 0;
});

s32 pad_0026AC[] = {
    0x00000000,
};

Script N(script_OpenDoor_802426B0) = SCRIPT({
    RotateModel(83, SI_VAR(0), 0, -1, 0);
});

Script N(script_MoveWalls_802426E0) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    RotateModel(85, SI_VAR(1), -1, 0, 0);
    RotateModel(86, SI_VAR(1), -1, 0, 0);
    RotateModel(87, SI_VAR(1), -1, 0, 0);
    RotateModel(88, SI_VAR(1), -1, 0, 0);
    RotateModel(89, SI_VAR(1), -1, 0, 0);
    RotateModel(91, SI_VAR(1), 1, 0, 0);
    RotateModel(92, SI_VAR(1), 1, 0, 0);
    RotateModel(93, SI_VAR(1), 1, 0, 0);
});

Script N(script_ToggleVis_80242800) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            EnableGroup(72, 1);
            spawn N(script_80248B08);
        }
        == 3 {
            EnableGroup(72, 0);
        }
    }
});

Script N(script_OpenDoor_80242870) = SCRIPT({
    RotateModel(43, SI_VAR(0), 0, -1, 0);
});

Script N(script_MoveWalls_802428A0) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    RotateModel(35, SI_VAR(1), 1, 0, 0);
    RotateModel(36, SI_VAR(1), 1, 0, 0);
    RotateModel(37, SI_VAR(1), 1, 0, 0);
    RotateModel(38, SI_VAR(1), 1, 0, 0);
    SI_VAR(1) = SI_VAR(0);
    RotateModel(40, SI_VAR(1), 0, 1, 0);
    RotateModel(41, SI_VAR(1), 0, 1, 0);
});

Script N(script_DropDoor_80242990) = SCRIPT({
    RotateModel(43, SI_VAR(0), 1, 0, 0);
});

Script N(script_ToggleVis_802429C0) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            EnableGroup(34, 1);
        }
        == 3 {
            EnableGroup(34, 0);
        }
    }
});

Script N(script_OpenDoor_80242A24) = SCRIPT({
    RotateModel(100, SI_VAR(0), 0, -1, 0);
});

Script N(script_MoveWalls_80242A54) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) *= 2.78125;
    TranslateModel(102, 0, 0, SI_VAR(1));
    TranslateModel(103, 0, 0, SI_VAR(1));
    TranslateModel(104, 0, 0, SI_VAR(1));
    TranslateModel(105, 0, 0, SI_VAR(1));
    TranslateModel(106, 0, 0, SI_VAR(1));
    TranslateModel(107, 0, 0, SI_VAR(1));
    TranslateModel(108, 0, 0, SI_VAR(1));
});

Script N(script_DropDoor_80242B48) = SCRIPT({
    RotateModel(100, SI_VAR(0), 0, 0, -1);
});

Script N(script_ToggleVis_80242B78) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
        }
    }
});

Script N(script_OpenDoor_80242BA8) = SCRIPT({
    RotateModel(146, SI_VAR(0), 0, -1, 0);
});

Script N(script_MoveWalls_80242BD8) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    RotateModel(139, SI_VAR(1), 0, 0, -1);
    RotateModel(140, SI_VAR(1), 0, 0, -1);
    RotateModel(138, SI_VAR(1), 0, 0, -1);
});

Script N(script_ToggleVis_80242C58) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            EnableGroup(137, 1);
            SI_MAP_FLAG(10) = 1;
        }
        == 1 {
            spawn N(script_80248798);
        }
        == 3 {
            EnableGroup(137, 0);
            EnableGroup(118, 1);
            SI_MAP_FLAG(10) = 0;
        }
    }
});

Script N(script_OpenDoor_80242D08) = SCRIPT({
    RotateModel(148, SI_VAR(0), 0, -1, 0);
    RotateModel(149, SI_VAR(0), 0, -1, 0);
});

Script N(script_MoveWalls_80242D58) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    RotateModel(144, SI_VAR(1), 0, 0, -1);
    RotateModel(142, SI_VAR(1), 0, 0, -1);
    RotateModel(143, SI_VAR(1), 0, 0, -1);
});

Script N(script_ToggleVis_80242DD8) = SCRIPT({

});

s32 N(npcList_80242DE8)[] = {
    0x00000000, 0x0000000F, 0xFFFFFFFF,
};

s32 N(npcList_80242DF4)[] = {
    0x00000001, 0x00000002, 0xFFFFFFFF,
};

s32 N(npcList_80242E00)[] = {
    0x0000000E, 0xFFFFFFFF,
};

Script N(script_80242E08) = SCRIPT({
    MakeDoorAdvanced(2, N(script_OpenDoor_80242D08), N(script_MoveWalls_80242D58), 0, N(script_ToggleVis_80242DD8), 13, 14, 0, 0);
});

Script N(script_80242E48) = SCRIPT({
    MakeDoorAdvanced(8194, N(script_OpenDoor_80242A24), N(script_MoveWalls_80242A54), N(script_DropDoor_80242B48), N(script_ToggleVis_80242B78), 73, 72, 0, 0);
});

Script N(script_80242E88) = SCRIPT({
    MakeDoorAdvanced(4098, N(script_OpenDoor_802426B0), N(script_MoveWalls_802426E0), 0, N(script_ToggleVis_80242800), 56, 57, 112, N(npcList_80242DE8));
    MakeDoorAdvanced(2, N(script_OpenDoor_80242870), N(script_MoveWalls_802428A0), N(script_DropDoor_80242990), N(script_ToggleVis_802429C0), 34, 35, 47, N(npcList_80242DF4));
    MakeDoorAdvanced(2, N(script_OpenDoor_80242BA8), N(script_MoveWalls_80242BD8), 0, N(script_ToggleVis_80242C58), 18, 19, 158, N(npcList_80242E00));
    if (SI_SAVE_VAR(0) >= 0xFFFFFFF9) {
        await N(script_80242E48);
    }
    if (SI_SAVE_VAR(0) >= 0xFFFFFFF6) {
        await N(script_80242E08);
    }
    GetEntryID(SI_VAR(0));
    match SI_VAR(0) {
        2..3
        SetGroupEnabled(137, 1);
        func_802401C0_842D90();
        SI_VAR(0) = 90;
        RotateModel(139, SI_VAR(0), 0, 0, -1);
        RotateModel(140, SI_VAR(0), 0, 0, -1);
        RotateModel(138, SI_VAR(0), 0, 0, -1);
        RotateModel(144, SI_VAR(0), 0, 0, -1);
        RotateModel(142, SI_VAR(0), 0, 0, -1);
        RotateModel(143, SI_VAR(0), 0, 0, -1);
        else {
            SI_VAR(0) = 3;
            spawn N(script_ToggleVis_80242800);
            spawn N(script_ToggleVis_802429C0);
        }
    }
});

s32 pad_0030C4[] = {
    0x00000000, 0x00000000, 0x00000000,
};

// Unable to use DSL: DSL does not support script opcode 0x30
// *INDENT-OFF*
Script N(script_SearchBush_802430D0) = {
    SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BUFFER_READ_4, SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4)),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(5), SI_VAR(15), SI_VAR(7)),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(1), 0),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_80240290_842E60, SI_VAR(3), SI_FIXED(0.1005859375), 1, SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(3), 339, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_80240290_842E60, SI_VAR(3), SI_FIXED(0.1005859375), -1, SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(3), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(2), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(5), SI_VAR(6), SI_VAR(7)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(10), 0),
                    SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(4), SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9)),
                SI_CMD(ScriptOpcode_ELSE),
                    SI_CMD(ScriptOpcode_CALL, GetValueByRef, SI_VAR(10), SI_VAR(11)),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(11), 0),
                        SI_CMD(ScriptOpcode_CALL, SetValueByRef, SI_VAR(10), 1),
                        SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(4), SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9)),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_IF_NE, SI_VAR(4), 0),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, 0xFE363C84),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

// Unable to use DSL: DSL does not support script opcode 0x4C
// *INDENT-OFF*
Script N(script_ShakeTree_80243430) = {
    SI_CMD(ScriptOpcode_SET_TIMESCALE, SI_FIXED(2.0)),
    SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BUFFER_READ_4, SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4)),
    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(6), SI_VAR(15), SI_VAR(8)),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 357),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 358),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(1), 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_80240290_842E60, SI_VAR(3), SI_FIXED(0.1005859375), SI_FIXED(0.2001953125), SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(3), 358, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_80240290_842E60, SI_VAR(3), SI_FIXED(0.1005859375), SI_FIXED(-0.19921875), SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(3), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(2), 0),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                    SI_CMD(ScriptOpcode_CALL, func_80240290_842E60, SI_VAR(4), SI_FIXED(0.1005859375), SI_FIXED(0.2001953125), SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(4), 357, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                    SI_CMD(ScriptOpcode_CALL, func_80240290_842E60, SI_VAR(4), SI_FIXED(0.1005859375), SI_FIXED(-0.19921875), SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(4), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(3), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(3)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(4)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(6), SI_VAR(7), SI_VAR(8)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(9), SI_VAR(10), SI_VAR(11)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(11), 0),
                    SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                SI_CMD(ScriptOpcode_ELSE),
                    SI_CMD(ScriptOpcode_CALL, GetValueByRef, SI_VAR(11), SI_VAR(12)),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(12), 0),
                        SI_CMD(ScriptOpcode_CALL, SetValueByRef, SI_VAR(11), 1),
                        SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(4), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(4)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(5)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(6), SI_VAR(7), SI_VAR(8)),
                SI_CMD(ScriptOpcode_CALL, PlayEffect, 20, 0, SI_VAR(6), SI_VAR(7), SI_VAR(8), 100, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_IF_NE, SI_VAR(5), 0),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, 0xFE363C85),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

ModelIdList N(treeModelList_Tree1_Leaves) = {
    .count = 0x1,
    .modelIDs = { 0xA0 },
};

ModelIdList N(treeModelList_Tree1_Trunk) = {
    .count = 0x1,
    .modelIDs = { 0x9F },
};

TreeEffectVectorList N(treeEffectVectors_Tree1) = {
    .count = 0x2,
    .vectors = { { 6.11e-43f, 1.89e-43f, nanf }, { 6.67e-43f, 1.89e-43f, nanf } },
};

ShakeTree N(shakeTreeEvent_Tree1) = {
    .leaves = &N(treeModelList_Tree1_Leaves),
    .trunk = &N(treeModelList_Tree1_Trunk),
    .drops = NULL,
    .effectVectors = &N(treeEffectVectors_Tree1),
    .callback = NULL,
};

Vec4f N(triggerCoord_80243A74) =  { 470.0f, 20.0f, -242.0f, 0.0f };

ModelIdList N(treeModelList_Tree2_Leaves) = {
    .count = 0x1,
    .modelIDs = { 0xA2 },
};

ModelIdList N(treeModelList_Tree2_Trunk) = {
    .count = 0x1,
    .modelIDs = { 0xA3 },
};

TreeEffectVectorList N(treeEffectVectors_Tree2) = {
    .count = 0x2,
    .vectors = { { 5.7e-44f, 1.54e-43f, nanf }, { 1.14e-43f, 1.54e-43f, nanf } },
};

ShakeTree N(shakeTreeEvent_Tree2) = {
    .leaves = &N(treeModelList_Tree2_Leaves),
    .trunk = &N(treeModelList_Tree2_Trunk),
    .drops = NULL,
    .effectVectors = &N(treeEffectVectors_Tree2),
    .callback = NULL,
};

Vec4f N(triggerCoord_80243AC4) =  { 50.0f, 20.0f, -141.0f, 0.0f };

ModelIdList N(treeModelList_Tree3_Leaves) = {
    .count = 0x1,
    .modelIDs = { 0xA5 },
};

ModelIdList N(treeModelList_Tree3_Trunk) = {
    .count = 0x1,
    .modelIDs = { 0xA1 },
};

TreeEffectVectorList N(treeEffectVectors_Tree3) = {
    .count = 0x2,
    .vectors = { { nanf, 1.86e-43f, 1.12e-43f }, { nanf, 1.86e-43f, 9.8e-44f } },
};

ShakeTree N(shakeTreeEvent_Tree3) = {
    .leaves = &N(treeModelList_Tree3_Leaves),
    .trunk = &N(treeModelList_Tree3_Trunk),
    .drops = NULL,
    .effectVectors = &N(treeEffectVectors_Tree3),
    .callback = NULL,
};

Vec4f N(triggerCoord_80243B14) =  { -293.0f, 20.0f, 86.0f, 0.0f };

Script N(script_80243B24) = SCRIPT({
    SI_VAR(0) = N(shakeTreeEvent_Tree1);
    bind N(script_ShakeTree_80243430) to TriggerFlag_WALL_HAMMER 59;
    bind N(script_ShakeTree_80243430) to TriggerFlag_BOMB N(triggerCoord_80243A74);
    SI_VAR(0) = N(shakeTreeEvent_Tree2);
    bind N(script_ShakeTree_80243430) to TriggerFlag_WALL_HAMMER 38;
    bind N(script_ShakeTree_80243430) to TriggerFlag_BOMB N(triggerCoord_80243AC4);
    SI_VAR(0) = N(shakeTreeEvent_Tree3);
    bind N(script_ShakeTree_80243430) to TriggerFlag_WALL_HAMMER 39;
    bind N(script_ShakeTree_80243430) to TriggerFlag_BOMB N(triggerCoord_80243B14);
});

s32 pad_003C0C[] = {
    0x00000000,
};

s32 N(intTable_80243C10)[] = {
    0x0027001B, 0x0027001C, 0x0027001D, 0x0027001E, 0x0027001F, 0x00270020, 0x00270021, 0x00270022,
    0x00270023, 0x00270024, 0x00270025, 0x00270026, 0x00270027, 0x00270028, 0x00270029, 0x0027002A,
    0x0027002B, 0x0027002C, 0x0027002D, 0x0027002E, 0x0027002F, 0x00270030, 0x00270031,
};

s32 N(shopInventory_80243C6C)[] = {
    0x00000088, 0x0000001E, 0x00240007, 0x0000009A, 0x0000000F, 0x00240029, 0x00000082, 0x00000014,
    0x00240002, 0x00000089, 0x00000005, 0x0024000E, 0x0000008B, 0x0000000A, 0x00240008, 0x0000008C,
    0x00000014, 0x0024000A, 0x00000000, 0x00000000, 0x00000000,
};

s32 N(shopPriceList_80243CC0)[] = {
    0x00000080, 0x00000007, 0x00000000, 0x00000090, 0x00000005, 0x00000000, 0x00000083, 0x00000014,
    0x00000000, 0x00000093, 0x00000032, 0x00000000, 0x00000092, 0x00000014, 0x00000000, 0x00000097,
    0x0000001E, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
};

Script N(script_80243D14) = SCRIPT({
    match SI_VAR(0) {
        == 3 {}
        == 4 {}
        == 1 {}
        == 1 {
        }
    }
});

s32 N(shopItemPositions_80243D68)[] = {
    0x0034002C, 0x0035002D, 0x0036002E, 0x0037002F, 0x00380030, 0x00390031,
};

s32 N(shopOwnerNPC_80243D80)[] = {
    0x00000000, 0x00880001, 0x00880004, N(script_80243D14), 0x00000000, 0x00000000, N(intTable_80243C10),
};

Script N(script_80243D9C) = SCRIPT({
    MakeShop(N(shopItemPositions_80243D68), N(shopInventory_80243C6C), N(shopPriceList_80243CC0), 0x10000);
    MakeShopOwner(N(shopOwnerNPC_80243D80));
});

s32 pad_003DD8[] = {
    0x00000000, 0x00000000,
};

NpcAISettings N(aISettings_80243DE0) = {
    .moveSpeed = 1.5f,
    .moveTime = 0x3C,
    .waitTime = 0x1E,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_NpcAI_80243E10) = SCRIPT({
    DoBasicAI(N(aISettings_80243DE0));
});

NpcSettings N(npcSettings_80243E30) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = &N(script_NpcAI_80243E10),
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

s32 unk_missing_80243E5C[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, N(script_NpcAI_80243E10), 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630010,
};

NpcSettings N(npcSettings_80243E88) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_80243EB4[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630000,
};

NpcSettings N(npcSettings_80243EE0) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x18,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

NpcSettings N(npcSettings_80243F0C) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x16,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

NpcSettings N(npcSettings_80243F38) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1A,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_80243F64[] = {
    0x00000000, 0x00140014, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630000, 0x00000000, 0x00160018, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00630000,
};

NpcSettings N(npcSettings_80243FBC) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x14,
    .radius = 0x14,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 N(unk_80243FE8)[] = {
    0x00000000,
};

Script N(script_80243FEC) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 0);
    return;
});

Script N(script_8024401C) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 16);
    return;
});

s32 N(quizAnswers)[] = {
    0x02010102, 0x02000200, 0x02010002, 0x01010002, 0x00020100, 0x00020100, 0x02010102, 0x02010101,
    0x00020202, 0x02000101, 0x02010201, 0x02000001, 0x01000102, 0x01000202, 0x01020002, 0x02010101,
};

s32 N(quizRequirements)[] = {
    0xFFFFFF94, 0x00000000, 0xFFFFFFB4, 0x0000000A, 0xFFFFFFCA, 0x00000014, 0xFFFFFFF2, 0x0000001E,
    0x00000006, 0x00000025, 0x00000027, 0x0000002C, 0x0000003A, 0x00000034, 0x00000058, 0x0000003C,
    0x00000060, 0x00000040, 0x00000000, 0x00000040,
};

Script N(script_802440DC) = SCRIPT({
    func_80240F9C_843B6C();
    if (SI_VAR(0) <= 1) {
        GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 300;
        SetNpcJumpscale(-1, 1);
        SetNpcAnimation(-1, 0xAF000C);
        sleep 40;
        SetNpcPos(-1, 0, 0xFFFFFC18, 0);
    }
});

Script N(script_8024418C) = SCRIPT({
    func_80241040_843C10(0, SI_ARRAY(0));
    func_80240FCC_843B9C(0, 25);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    UseSettingsFrom(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetCamType(0, SI_VAR(1), SI_VAR(2));
    SetCamType(0, SI_VAR(1), 0);
    GetCamDistance(0, SI_VAR(0));
    if (SI_VAR(0) > 0) {
        SI_VAR(0) = 370;
    } else {
        SI_VAR(0) = f 0xFFFFFE8E;
    }
    SetCamDistance(0, SI_VAR(0));
    GetCamPitch(0, SI_VAR(0), SI_VAR(1));
    SI_VAR(0) = 13.0;
    SI_VAR(1) = -10.0;
    SetCamPitch(0, SI_VAR(0), SI_VAR(1));
    PanToTarget(0, 0, 1);
    SetCamLeadPlayer(0, 0);
});

Script N(script_80244328) = SCRIPT({
    GetNpcPos(20, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(1) += 30;
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetCamDistance(0, SI_VAR(0));
    if (SI_VAR(0) > 0) {
        SI_VAR(0) = 17;
    } else {
        SI_VAR(0) = f 0xFFFFFFEF;
    }
    SetCamDistance(0, SI_VAR(0));
    SetCamSpeed(0, 90.0);
    WaitForCam(0, 1.0);
    SetCamSpeed(0, 1);
});

Script N(script_80244424) = SCRIPT({
    func_80240FCC_843B9C(0, SI_ARRAY(0));
    PanToTarget(0, 0, 0);
});

Script N(script_80244460) = SCRIPT({
    sleep 20;
    func_802410E0_843CB0(SI_ARRAY(1), SI_ARRAY(3), 83, SI_VAR(0), SI_VAR(1));
    spawn {
        SI_VAR(2) = 0;
        loop 60 {
            SI_VAR(3) = f SI_VAR(0);
            SI_VAR(4) = f SI_VAR(1);
            SI_VAR(3) *= f SI_VAR(2);
            SI_VAR(4) *= f SI_VAR(2);
            SI_VAR(3) /= 60;
            SI_VAR(4) /= 60;
            SI_VAR(3) += f SI_ARRAY(1);
            SI_VAR(4) += f SI_ARRAY(3);
            SetPlayerPos(SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
            SI_VAR(2) += 1;
            sleep 1;
        }
        SI_VAR(3) = f SI_VAR(0);
        SI_VAR(4) = f SI_VAR(1);
        SI_VAR(3) += f SI_ARRAY(1);
        SI_VAR(4) += f SI_ARRAY(3);
        SetPlayerPos(SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
    }
    func_8024127C_843E4C();
    0x802D2884(SI_ARRAY(1), SI_ARRAY(3), 0);
    SetPlayerAnimation(0x10002);
});

Script N(script_80244610) = SCRIPT({
    GetNpcPos(0xFFFFFFFC, SI_VAR(10), SI_VAR(11), SI_VAR(12));
    func_802410E0_843CB0(SI_VAR(10), SI_VAR(12), 108, SI_VAR(0), SI_VAR(1));
    SI_VAR(5) = f SI_ARRAY(2);
    SI_VAR(5) -= f SI_VAR(11);
    spawn {
        func_80241370_843F40();
        SI_VAR(3) = f SI_VAR(0);
        SI_VAR(4) = f SI_VAR(1);
        SI_VAR(6) = f SI_VAR(5);
        SI_VAR(3) += f SI_VAR(10);
        SI_VAR(4) += f SI_VAR(12);
        SI_VAR(6) += f SI_VAR(11);
        SetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(6), SI_VAR(4));
    }
    func_802412E0_843EB0();
    NpcFacePlayer(0xFFFFFFFC, 0);
    SetNpcAnimation(0xFFFFFFFC, 262);
});

Script N(script_80244748) = SCRIPT({
    GetNpcPos(20, SI_VAR(10), SI_VAR(11), SI_VAR(12));
    func_802410E0_843CB0(SI_VAR(10), SI_VAR(12), 0xFFFFFFBA, SI_VAR(0), SI_VAR(1));
    spawn {
        SI_VAR(2) = 0;
        loop 60 {
            SI_VAR(3) = f SI_VAR(0);
            SI_VAR(4) = f SI_VAR(1);
            SI_VAR(3) *= f SI_VAR(2);
            SI_VAR(4) *= f SI_VAR(2);
            SI_VAR(3) /= 60;
            SI_VAR(4) /= 60;
            SI_VAR(3) += f SI_VAR(10);
            SI_VAR(4) += f SI_VAR(12);
            SetNpcPos(20, SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
            SI_VAR(2) += 1;
            sleep 1;
        }
    }
    sleep 60;
    NpcFacePlayer(20, 0);
    SetNpcAnimation(20, 0xAF0001);
});

Script N(script_802448B4) = SCRIPT({
    spawn N(script_80244460);
    spawn N(script_80244610);
    await N(script_80244748);
});

Script N(script_802448E8) = SCRIPT({
    loop {
        SetPlayerAnimation(0x10028);
        sleep 20;
    }
});

Script N(script_80244928) = SCRIPT({
    SetPlayerAnimation(0x10016);
    sleep 15;
    SetPlayerAnimation(0x10002);
});

Script N(script_80244964) = SCRIPT({
    loop {
        SetPlayerAnimation(0x10002);
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
    }
    SetPlayerAnimation(0x10002);
    SetPlayerPos(SI_VAR(0), SI_ARRAY(2), SI_VAR(2));
    sleep 1;
});

Script N(script_802454AC) = SCRIPT({
    SetPlayerAnimation(0x10023);
    loop {
        sleep 1;
    }
});

Script N(script_802454EC) = SCRIPT({
    spawn {
        func_802410E0_843CB0(SI_ARRAY(1), SI_ARRAY(3), 25, SI_VAR(0), SI_VAR(1));
        SI_VAR(2) = f SI_ARRAY(1);
        SI_VAR(2) += f SI_VAR(0);
        SI_VAR(3) = f SI_ARRAY(3);
        SI_VAR(3) += f SI_VAR(1);
        SetNpcAnimation(0xFFFFFFFC, 258);
        NpcMoveTo(0xFFFFFFFC, SI_VAR(2), SI_VAR(3), 40);
        SetNpcAnimation(0xFFFFFFFC, 262);
    }
    PlayerMoveTo(SI_ARRAY(1), SI_ARRAY(3), 40);
});

Script N(script_802455C8) = SCRIPT({
    SI_VAR(1) = spawn N(script_80244964);
    sleep 60;
    kill SI_VAR(1);
    loop 5 {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 2;
    }
    sleep 20;
    await N(script_802454EC);
});

Script N(script_80245678) = SCRIPT({
    SI_VAR(1) = spawn N(script_802454AC);
    sleep 60;
    loop 5 {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 2;
    }
    sleep 20;
    kill SI_VAR(1);
    await N(script_802454EC);
});

// Unable to use DSL: DSL does not support script opcode 0x55
// *INDENT-OFF*
Script N(script_80245728) = {
    SI_CMD(ScriptOpcode_IF_GT, SI_SAVE_VAR(352), 63),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_ARRAY(1), SI_ARRAY(2), SI_ARRAY(3)),
    SI_CMD(ScriptOpcode_CALL, NpcFacePlayer, -1, 16),
    SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_VAR(352), 63),
        SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x8000A),
    SI_CMD(ScriptOpcode_ELSE),
        SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_FLAG(1767), 1),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80009),
        SI_CMD(ScriptOpcode_ELSE),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80008),
            SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1767), 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, ShowChoice, 0x1E000D),
    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, 0xAF0004, 0xAF0001, 0, 0x8000C),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_802440DC)),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1793), 1),
    SI_CMD(ScriptOpcode_CALL, func_80240578_843148),
    SI_CMD(ScriptOpcode_CALL, func_8024088C_84345C),
    SI_CMD(ScriptOpcode_SPAWN, N(script_8024418C)),
    SI_CMD(ScriptOpcode_CALL, DisablePartnerAI, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 0xFFFFFFFC, 512, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 20, 512, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 0xFFFFFFFC, 328, 1),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 20, 256, 1),
    SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0xFFFFFFFC, 262),
    SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_802448B4), SI_VAR(1)),
    SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, 0xAF0004, 0xAF0001, 0, 0x8000B),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 137),
    SI_CMD(ScriptOpcode_LOOP, 0),
        SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
        SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
            SI_CMD(ScriptOpcode_BREAK_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_CALL, func_80240BD0_8437A0),
    SI_CMD(ScriptOpcode_LOOP, 5),
        SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 1),
        SI_CMD(ScriptOpcode_CALL, SetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 2),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0x2C0000),
    SI_CMD(ScriptOpcode_ADD, SI_VAR(0), SI_SAVE_VAR(352)),
    SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0005, 0xAF0006, 0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_CALL, SetPlayerAnimation, 0x10028),
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0x2D0000),
    SI_CMD(ScriptOpcode_ADD, SI_VAR(0), SI_SAVE_VAR(352)),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 142),
    SI_CMD(ScriptOpcode_CALL, ShowChoice, SI_VAR(0)),
    SI_CMD(ScriptOpcode_KILL_SCRIPT, SI_VAR(1)),
    SI_CMD(ScriptOpcode_CALL, StopSound, 142),
    SI_CMD(ScriptOpcode_SPAWN, N(script_80244928)),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 141),
    SI_CMD(ScriptOpcode_CALL, func_80240ED0_843AA0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 0),
    SI_CMD(ScriptOpcode_CALL, func_802414C4_844094),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 40),
    SI_CMD(ScriptOpcode_CALL, func_80240B4C_84371C),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 110),
        SI_CMD(ScriptOpcode_CALL, CloseChoice),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 0),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 20, 0xAF0007),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 1),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, func_80240E9C_843A6C, 1),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, func_80240E9C_843A6C, 2),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 138),
        SI_CMD(ScriptOpcode_CALL, func_80240F68_843B38),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 50),
            SI_CMD(ScriptOpcode_CALL, func_802410E0_843CB0, 0, 0, 83, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 0xFFFFFFFD),
            SI_CMD(ScriptOpcode_CALL, func_802410E0_843CB0, 0, 0, 58, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 30),
            SI_CMD(ScriptOpcode_CALL, func_802410E0_843CB0, 0, 0, 93, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 20),
        SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_802455C8), SI_VAR(1)),
        SI_CMD(ScriptOpcode_ADD, SI_SAVE_VAR(352), 1),
        SI_CMD(ScriptOpcode_IF_GT, SI_SAVE_VAR(352), 63),
            SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x80010),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 20, 0xAF0006),
            SI_CMD(ScriptOpcode_LOOP, 0),
                SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                    SI_CMD(ScriptOpcode_BREAK_LOOP),
                SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 20, 0xAF0005),
            SI_CMD(ScriptOpcode_SET, SI_VAR(0), 348),
            SI_CMD(ScriptOpcode_SET, SI_VAR(1), 3),
            SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80243FEC)),
            SI_CMD(ScriptOpcode_CALL, AddStarPieces, 1),
            SI_CMD(ScriptOpcode_CALL, func_80240E9C_843A6C, 15),
            SI_CMD(ScriptOpcode_CALL, func_80240F50_843B20),
            SI_CMD(ScriptOpcode_CALL, SetMessageValue, SI_SAVE_VAR(352), 0),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80011),
        SI_CMD(ScriptOpcode_ELSE),
            SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x8000E),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 20, 0xAF0006),
            SI_CMD(ScriptOpcode_LOOP, 0),
                SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                    SI_CMD(ScriptOpcode_BREAK_LOOP),
                SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 20, 0xAF0005),
            SI_CMD(ScriptOpcode_SET, SI_VAR(0), 348),
            SI_CMD(ScriptOpcode_SET, SI_VAR(1), 1),
            SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80243FEC)),
            SI_CMD(ScriptOpcode_CALL, AddStarPieces, 1),
            SI_CMD(ScriptOpcode_CALL, func_80240E9C_843A6C, 15),
            SI_CMD(ScriptOpcode_CALL, func_80240F50_843B20),
            SI_CMD(ScriptOpcode_CALL, SetMessageValue, SI_SAVE_VAR(352), 0),
            SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_VAR(352), 1),
                SI_CMD(ScriptOpcode_CALL, SetMessageString, 0x8014C294, 1),
            SI_CMD(ScriptOpcode_ELSE),
                SI_CMD(ScriptOpcode_CALL, SetMessageString, 0x8014C290, 1),
            SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x8000F),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 1),
    SI_CMD(ScriptOpcode_ELSE),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 20, 0xAF0009),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 2),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 541),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 139),
        SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_80245678), SI_VAR(1)),
        SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(2), SI_VAR(3), SI_VAR(4)),
        SI_CMD(ScriptOpcode_CALL, PlayEffect, 43, 0, SI_VAR(2), SI_VAR(3), SI_VAR(4), 0, 0, 0, 0, 0, 0, 0, 0, 0),
        SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x8000D),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 20, 0xAF000A),
        SI_CMD(ScriptOpcode_LOOP, 0),
            SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
            SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                SI_CMD(ScriptOpcode_BREAK_LOOP),
            SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, func_80240ED0_843AA0, -1),
    SI_CMD(ScriptOpcode_CALL, EnablePartnerAI),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 30),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 143),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 45),
        SI_CMD(ScriptOpcode_CALL, StopSound, 137),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_CALL, func_80240F84_843B54),
    SI_CMD(ScriptOpcode_CALL, func_80240DE8_8439B8),
    SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_802440DC)),
    SI_CMD(ScriptOpcode_SPAWN, N(script_80244424)),
    SI_CMD(ScriptOpcode_CALL, func_802409D8_8435A8),
    SI_CMD(ScriptOpcode_CALL, func_8024058C_84315C),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1793), 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

Script N(script_80246458) = SCRIPT({
    func_8024059C_84316C();
    if (SI_VAR(0) == 0) {
        return;
    }
    SetNpcFlagBits(-1, 0x1000000, 0);
    0x802CF208(-1, 0xAF0001);
    func_802407C0_843390();
});

// Unable to use DSL: DSL does not support script opcode 0x3C
Script N(script_802464CC) = {
    SI_CMD(ScriptOpcode_USE_ARRAY, 0x8024F5A8),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1769), 1),
    SI_CMD(ScriptOpcode_CALL, DisablePlayerPhysics, 1),
    SI_CMD(ScriptOpcode_CALL, SetPlayerFlagBits, 0x400000, 1),
    SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80245728)),
    SI_CMD(ScriptOpcode_CALL, DisablePlayerPhysics, 0),
    SI_CMD(ScriptOpcode_CALL, SetPlayerFlagBits, 0x400000, 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_8024654C) = SCRIPT({
    func_8024080C_8433DC();
});

NpcAISettings N(aISettings_80246568) = {
    .moveSpeed = 0.7f,
    .moveTime = 0x1E,
    .waitTime = 0x14,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_80246598) = SCRIPT({
    DoBasicAI(N(aISettings_80246568));
});

NpcSettings N(npcSettings_802465B8) = {
    .unk_00 = { 0, 0xAF, 0, 0x1 },
    .height = 0x23,
    .radius = 0x1C,
    .otherAI = &N(script_80246458),
    .onInteract = &N(script_802464CC),
    .ai = NULL,
    .onHit = NULL,
    .aux = &N(script_8024654C),
    .onDefeat = NULL,
    .flags = 0xD01,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_802465E4[] = {
    0x00AF0001, 0x0023001C, N(script_80246458), N(script_802464CC), N(script_80246598), 0x00000000, N(script_8024654C), 0x00000000,
    0x00000C01, 0x00000000, 0x00630010,
};

s32 N(unk_80246610)[] = {
    0x00000000,
};

s32 N(unk_80246614)[] = {
    0x00000000,
};

Script N(script_80246618) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            GetPlayerPos(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80241550_844120(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |= c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SetPlayerAnimation(0x60005);
            sleep 30;
            SetPlayerAnimation(0x10002);
            RemoveItemEntity(SI_VAR(0));
        }
    }
    func_80241774_844344(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_8024675C) = {
    SI_CMD(ScriptOpcode_CALL, func_802417AC_84437C, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_80246618), 0x10, 0, 0x8024F5D0, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80241720_8442F0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_802467AC) = SCRIPT({
    0x802D2884(0xFFFFFE48, 0xFFFFFF6A, 0);
    sleep 15;
    spawn {
        sleep 7;
        GetPlayerPos(SI_VAR(2), SI_VAR(3), SI_VAR(4));
        SI_VAR(3) += 50;
        SI_VAR(5) = 3;
        MakeItemEntity(33, SI_VAR(2), SI_VAR(3), SI_VAR(4), 1, 0);
        SI_VAR(7) = SI_VAR(0);
        MakeLerp(SI_VAR(4), 0xFFFFFF6A, 30, 5);
        loop {
            UpdateLerp();
            SetItemPos(SI_VAR(7), 0xFFFFFE48, SI_VAR(3), SI_VAR(0));
            SI_VAR(5) += -0.5;
            SI_VAR(3) += SI_VAR(5);
            if (SI_VAR(3) < 0) {
                SI_VAR(3) = 0;
            }
            sleep 1;
            if (SI_VAR(1) == 0) {
                break;
            }
        }
        RemoveItemEntity(SI_VAR(7));
    }
    SetPlayerAnimation(0x60005);
    sleep 20;
    SetPlayerAnimation(0x10002);
    sleep 10;
});

Script N(script_8024697C) = SCRIPT({
    group 0;
    0x802D5830(1);
    0x802D6420();
    SI_VAR(2) = SI_VAR(0);
    if (SI_VAR(2) <= 0) {
        if (SI_VAR(2) == 0) {
            ShowMessageAtScreenPos(0x1D0158, 160, 40);
        }
        0x802D6954();
        0x802D5830(0);
        return;
    }
    DisablePlayerInput(1);
    RemoveKeyItemAt(SI_VAR(1));
    PlaySoundAtCollider(21, 426, 0);
    MakeLerp(0, 0xFFFFFFA6, 10, 0);
    loop {
        UpdateLerp();
        SI_VAR(2) = 0;
        SI_VAR(2) -= SI_VAR(0);
        SI_VAR(2) /= 3;
        RotateGroup(132, SI_VAR(0), 1, 0, 0);
        sleep 1;
        if (SI_VAR(1) == 0) {
            break;
        }
    }
    await N(script_802467AC);
    MakeLerp(0xFFFFFFA6, 0, 10, 0);
    loop {
        UpdateLerp();
        SI_VAR(2) = 0;
        SI_VAR(2) -= SI_VAR(0);
        SI_VAR(2) /= 3;
        RotateGroup(132, SI_VAR(0), 1, 0, 0);
        sleep 1;
        if (SI_VAR(1) == 0) {
            break;
        }
    }
    PlaySoundAtCollider(21, 426, 0);
    0x802D6954();
    SI_SAVE_VAR(0) = 0xFFFFFFFB;
    0x802D5830(0);
    unbind;
    GotoMap(D_8024F568_852138, 6);
    sleep 100;
});

s32 N(itemList_80246C50)[] = {
    0x00000021, 0x00000000,
};

// Unable to use DSL: DSL does not support script opcode 0x4E
// *INDENT-OFF*
Script N(script_80246C58) = {
    SI_CMD(ScriptOpcode_IF_LT, SI_SAVE_VAR(0), 0xFFFFFFFB),
        SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_8024697C), TriggerFlag_WALL_INTERACT, 23, N(itemList_80246C50), 0, 1),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

Script N(script_Idle_80246CA0) = SCRIPT({
    loop {
        loop 10 {
            GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(1) -= 1;
            SetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
        loop 10 {
            GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(1) += 1;
            SetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
    }
});

Script N(script_80246D94) = SCRIPT({
    DisablePartnerAI(0);
    0x802CF56C(2);
    SetNpcPos(17, 0xFFFFFDF8, 40, 270);
    PlayerFaceNpc(17, 0);
    NpcFaceNpc(0xFFFFFFFC, 17, 0);
    UseSettingsFrom(0, 0xFFFFFE5C, 20, 235);
    SetPanTarget(0, 0xFFFFFE2A, 20, 250);
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    0x802D2508();
    DisablePlayerInput(1);
    sleep 40;
    SpeakToPlayer(17, 0x150002, 0x150001, 512, 0x600C5);
    GetNpcPos(17, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetCamDistance(0, 0xFFFFFED4);
    SetCamPitch(0, 17.5, 0xFFFFFFF7);
    SetCamSpeed(0, 3);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    sleep 10;
    SpeakToPlayer(17, 0x150002, 0x150001, 512, 0x600C6);
    SetPanTarget(0, 0xFFFFFE2A, 20, 250);
    WaitForCam(0, 1.0);
    MakeLerp(0, 360, 10, 0);
    loop {
        UpdateLerp();
        SetNpcRotation(17, 0, SI_VAR(0), 0);
        sleep 1;
        if (SI_VAR(1) == 0) {
            break;
        }
    }
    EnableNpcAI(17, 0);
    SetNpcAnimation(17, 0x150003);
    sleep 20;
    SetPlayerAnimation(0x1001F);
    PlaySoundAtPlayer(313, 0);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(3) = SI_VAR(1);
    SI_VAR(0) += 10;
    SI_VAR(1) += 50;
    SI_VAR(2) += 10;
    SI_VAR(3) += 30;
    loop 5 {
        PlayEffect(17, 3, SI_VAR(0), SI_VAR(1), SI_VAR(2), 20, 0, 0, 0, 0, 0, 0, 0, 0);
        sleep 6;
        PlayEffect(17, 1, SI_VAR(0), SI_VAR(3), SI_VAR(2), 20, 0, 0, 0, 0, 0, 0, 0, 0);
        sleep 6;
    }
    sleep 20;
    PlaySoundAtPlayer(392, 0);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(1) += 20;
    PlayEffect(82, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 30, 0, 0, 0, 0, 0, 0, 0);
    sleep 30;
    SetPlayerAnimation(0x10002);
    SetNpcAnimation(17, 0x150001);
    EnableNpcAI(17, 1);
    func_80241944_844514();
    ShowMessageAtScreenPos(0x1D0194, 160, 40);
    sleep 10;
    SpeakToPlayer(17, 0x150002, 0x150001, 512, 0x600C7);
    ShowMessageAtScreenPos(0x600C8, 160, 40);
    SetPanTarget(0, 0xFFFFFE2A, 20, 250);
    SetCamDistance(0, 0xFFFFFE0C);
    SetCamPitch(0, 17.5, 0xFFFFFFF7);
    SetCamSpeed(0, 90.0);
    sleep 1;
    SetNpcPos(16, 0xFFFFFDA8, 200, 350);
    NpcFlyTo(16, 0xFFFFFE4B, 60, 270, 0, 0xFFFFFFF6, 0);
    SetPlayerAnimation(0x1002A);
    SpeakToPlayer(16, 0x200009, 0x200001, 0, 0x600C9);
    InterpNpcYaw(16, 270, 0);
    sleep 20;
    NpcJump1(16, 0xFFFFFE34, 45, 220, 10);
    SpeakToNpc(16, 0x200009, 0x200001, 512, 17, 0x600CA);
    SetCamDistance(0, 0xFFFFFED4);
    SetPlayerAnimation(0x10002);
    sleep 1;
    SpeakToNpc(17, 0x150002, 0x150001, 512, 16, 0x600CB);
    SpeakToNpc(16, 0x200009, 0x200001, 0, 17, 0x600CC);
    SpeakToNpc(17, 0x150002, 0x150001, 512, 16, 0x600CD);
    SpeakToNpc(16, 0x200009, 0x200001, 0, 17, 0x600CE);
    GetNpcPos(17, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetCamDistance(0, 0xFFFFFED4);
    SetCamPitch(0, 17.5, 0xFFFFFFF7);
    SetCamSpeed(0, 1.0);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    sleep 10;
    SpeakToNpc(17, 0x150002, 0x150001, 512, 16, 0x600CF);
    SetPanTarget(0, 0xFFFFFE3E, 20, 250);
    SetCamDistance(0, 0xFFFFFE70);
    SetCamSpeed(0, 4.0);
    WaitForCam(0, 1.0);
    SetNpcFlagBits(17, 0x40000, 1);
    spawn {
        loop 25 {
            GetNpcPos(17, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            PlayEffect(17, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 20, 0, 0, 0, 0, 0, 0, 0, 0);
            sleep 4;
        }
    }
    spawn {
        SI_VAR(2) = 0;
        SI_VAR(3) = 1800;
        MakeLerp(SI_VAR(2), SI_VAR(3), 100, 2);
        loop {
            UpdateLerp();
            SetNpcRotation(17, 0, SI_VAR(0), 0);
            sleep 1;
            if (SI_VAR(1) == 0) {
                break;
            }
        }
    }
    spawn {
        GetNpcPos(17, SI_VAR(2), SI_VAR(3), SI_VAR(4));
        SI_VAR(5) = SI_VAR(3);
        SI_VAR(5) += 180;
        MakeLerp(SI_VAR(3), SI_VAR(5), 100, 2);
        loop {
            UpdateLerp();
            SetNpcPos(17, SI_VAR(2), SI_VAR(0), SI_VAR(4));
            sleep 1;
            if (SI_VAR(1) == 0) {
                break;
            }
        }
        SetNpcPos(17, 0, 0xFFFFFC18, 0);
    }
    spawn {
        sleep 15;
        PlaySoundAtNpc(17, 8261, 0);
    }
    sleep 10;
    SetPlayerAnimation(0x1002A);
    sleep 115;
    SetPlayerAnimation(0x10002);
    SetMusicTrack(0, 112, 0, 8);
    SetPanTarget(0, 0xFFFFFE3E, 20, 250);
    SetCamDistance(0, 0xFFFFFEA2);
    SetCamSpeed(0, 3.0);
    WaitForCam(0, 1.0);
    SetNpcSpeed(16, 4);
    NpcFlyTo(16, 0xFFFFFE20, 40, 270, 0, 10, 0);
    SpeakToPlayer(16, 0x200009, 0x200001, 0, 0x600D0);
    InterpNpcYaw(16, 270, 0);
    sleep 30;
    NpcFacePlayer(16, 0);
    sleep 10;
    SpeakToPlayer(16, 0x200009, 0x200001, 0, 0x600D1);
    SetPlayerAnimation(0x10028);
    sleep 20;
    SetPlayerAnimation(0x10002);
    SpeakToPlayer(16, 0x200009, 0x200001, 0, 0x600D2);
    SetPlayerAnimation(0x10029);
    sleep 30;
    SpeakToPlayer(16, 0x200009, 0x200001, 0, 0x600D3);
    PanToTarget(0, 0, 0);
    NpcFlyTo(16, 0xFFFFFDA8, 200, 350, 0, 0xFFFFFFF6, 0);
    SetNpcPos(16, 0, 0xFFFFFC18, 0);
    SI_SAVE_VAR(0) = 7;
    spawn N(script_802420C0);
    EnablePartnerAI();
    DisablePlayerInput(0);
});

Script N(script_Init_80247B1C) = SCRIPT({
    GetEntryID(SI_VAR(0));
    if (SI_VAR(0) == 5) {
        BindNpcIdle(-1, N(script_Idle_80246CA0));
        spawn N(script_80246D94);
    } else {
        RemoveNpc(-1);
    }
});

Script N(script_Init_80247B8C) = SCRIPT({
    GetEntryID(SI_VAR(0));
    if (SI_VAR(0) != 5) {
        RemoveNpc(-1);
    }
});

s32 N(vectorList_80247BD4)[] = {
    0xC28C0000, 0x42D40000, 0x00000000, 0xC2480000, 0x41F00000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000,
};

s32 N(vectorList_80247BF8)[] = {
    0x00000000, 0x00000000, 0x00000000, 0xC2480000, 0x41F00000, 0x00000000, 0xC28C0000, 0x42D40000,
    0x00000000,
};

Script N(script_Idle_80247C1C) = SCRIPT({
    0x802D2508();
    DisablePlayerInput(1);
    0x802D5FF8(112, 0);
    ShowMessageAtScreenPos(0x4008F, 160, 40);
    GetPlayerPos(SI_VAR(4), SI_VAR(5), SI_VAR(6));
    SI_VAR(4) -= 50.0;
    SI_VAR(5) += 40.0;
    InterpNpcYaw(16, 90, 0);
    LoadPath(35, N(vectorList_80247BD4), 3, 10);
    loop {
        GetNextPathPos();
        SI_VAR(1) += f SI_VAR(4);
        SI_VAR(2) += f SI_VAR(5);
        SetNpcPos(16, SI_VAR(1), SI_VAR(2), SI_VAR(3));
        sleep 1;
        if (SI_VAR(0) == 0) {
            break;
        }
    }
    SetPlayerAnimation(0x1002A);
    AdjustCam(0, 3.0, 0xFFFFFFF6, 0xFFFFFED4, 15, 0xFFFFFFF7);
    SpeakToPlayer(16, 0x200009, 0x200001, 0, 0x40090);
    sleep 5;
    SetPlayerAnimation(0x80007);
    sleep 30;
    SetPlayerAnimation(0x1002A);
    sleep 15;
    SetNpcJumpscale(16, 1.0);
    GetNpcPos(16, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    NpcJump0(16, SI_VAR(0), SI_VAR(1), SI_VAR(2), 10);
    SpeakToPlayer(16, 0x200009, 0x200001, 0, 0x40091);
    SetPlayerAnimation(0x1002D);
    sleep 30;
    SetPlayerAnimation(0x1002A);
    SpeakToPlayer(16, 0x200009, 0x200001, 0, 0x40092);
    sleep 5;
    SetPlayerAnimation(0x10021);
    sleep 30;
    SetPlayerAnimation(0x1002A);
    AdjustCam(0, 3.0, 0xFFFFFFD8, 0xFFFFFF38, 15, 0xFFFFFFF1);
    SpeakToPlayer(16, 0x200009, 0x200001, 0, 0x40093);
    sleep 5;
    PanToTarget(0, 0, 0);
    InterpNpcYaw(16, 270, 0);
    GetNpcPos(16, SI_VAR(4), SI_VAR(5), SI_VAR(6));
    LoadPath(35, N(vectorList_80247BF8), 3, 1);
    loop {
        GetNextPathPos();
        SI_VAR(1) += SI_VAR(4);
        SI_VAR(2) += SI_VAR(5);
        SI_VAR(3) += SI_VAR(6);
        SetNpcPos(16, SI_VAR(1), SI_VAR(2), SI_VAR(3));
        sleep 1;
        if (SI_VAR(0) == 0) {
            break;
        }
    }
    SetNpcPos(16, 0, 0xFFFFFC18, 0);
    0x802D5FD8();
    SI_SAVE_VAR(0) = 0xFFFFFFF5;
    DisablePlayerInput(0);
});

Script N(script_Init_8024808C) = SCRIPT({
    if (SI_SAVE_VAR(0) == 0xFFFFFFF4) {
        BindNpcIdle(-1, N(script_Idle_80247C1C));
    } else {
        RemoveNpc(-1);
    }
});

Script N(script_802480E0) = SCRIPT({
    loop {
        PlaySoundAtNpc(SI_VAR(0), 0xB0000021, 0);
        sleep 2;
    }
});

Script N(script_80248128) = SCRIPT({
    PlaySoundAtCollider(19, 449, 0);
    SI_VAR(0) = 0;
    loop 20 {
        SI_VAR(0) += 3;
        RotateModel(146, SI_VAR(0), 0, -1, 0);
        sleep 1;
    }
    SI_VAR(0) = 90;
    RotateModel(146, SI_VAR(0), 0, -1, 0);
});

Script N(script_802481E0) = SCRIPT({
    SI_VAR(0) = 90;
    loop 20 {
        SI_VAR(0) += 0xFFFFFFFD;
        RotateModel(146, SI_VAR(0), 0, -1, 0);
        sleep 1;
    }
    SI_VAR(0) = 0;
    RotateModel(146, SI_VAR(0), 0, -1, 0);
    PlaySoundAtCollider(19, 450, 0);
});

Script N(script_80248298) = SCRIPT({
    PlaySoundAtCollider(13, 427, 0);
    SI_VAR(0) = 0;
    loop 36 {
        SI_VAR(0) += 10;
        RotateModel(148, SI_VAR(0), 0, 1, 0);
        RotateModel(149, SI_VAR(0), 0, 1, 0);
        sleep 1;
    }
    SI_VAR(0) = 0;
    RotateModel(148, SI_VAR(0), 0, 1, 0);
    RotateModel(149, SI_VAR(0), 0, 1, 0);
    PlaySoundAtCollider(13, 428, 0);
    PlaySound(10);
});

Script N(script_802483B8) = SCRIPT({
    sleep 20;
    SetNpcFlagBits(14, 256, 1);
    SpeakToPlayer(14, 0x3B0311, 0x3B0301, 5, 0x600B3);
    SetNpcAnimation(14, 0x3B0302);
    sleep 4;
    SetNpcAnimation(14, 0x3B0303);
    sleep 4;
    SetNpcAnimation(14, 0x3B0304);
    sleep 4;
    NpcMoveTo(14, 0xFFFFFE48, 3, 50);
    SetNpcAnimation(14, 0x3B0301);
    sleep 8;
    SetNpcAnimation(14, 0x3B0300);
    InterpNpcYaw(14, 180, 10);
    InterpNpcYaw(14, 0, 10);
    InterpNpcYaw(14, 180, 10);
    InterpNpcYaw(14, 0, 10);
    SpeakToPlayer(14, 0x3B0311, 0x3B0301, 5, 0x600B4);
    sleep 10;
    SetNpcAnimation(14, 0x3B0308);
    sleep 4;
    SetNpcAnimation(14, 0x3B0309);
    sleep 4;
    SetNpcAnimation(14, 0x3B030A);
    spawn N(script_80248298);
    SetNpcJumpscale(14, 0.5);
    NpcJump0(14, 0xFFFFFE48, 20, 0xFFFFFFB5, 20);
    SetNpcAnimation(14, 0x3B0300);
    if (SI_SAVE_VAR(0) < 0xFFFFFFF6) {
        SI_SAVE_VAR(0) = 0xFFFFFFF6;
        await N(script_80242E08);
    }
});

Script N(script_80248624) = SCRIPT({
    PlaySoundAtNpc(14, 8254, 0);
    PlaySoundAtNpc(14, 610, 0);
    ShowEmote(14, 0, 0, 20, 1, 0, 0, 0, 0);
    sleep 20;
    SpeakToPlayer(14, 0x3B0311, 0x3B0301, 0, 0x600B2);
    InterpNpcYaw(14, 180, 10);
    SetNpcAnimation(14, 0x3B0302);
    sleep 4;
    SetNpcAnimation(14, 0x3B0303);
    sleep 4;
    SetNpcAnimation(14, 0x3B0304);
    sleep 4;
    await N(script_80248128);
    SI_VAR(0) = 14;
    SI_VAR(10) = spawn N(script_802480E0);
    NpcMoveTo(14, 0xFFFFFE0B, 223, 15);
    kill SI_VAR(10);
    await N(script_802481E0);
});

Script N(script_80248798) = SCRIPT({
    group 239;
    if (SI_SAVE_VAR(0) != 0xFFFFFFF5) {
        return;
    }
    loop 150 {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        if (SI_VAR(2) > 200) {
            return;
        }
        sleep 1;
    }
    SI_VAR(7) = 0;
    loop {
        func_802419AC_84457C();
        if (SI_VAR(0) != 0) {
            SI_VAR(7) = 1;
            break;
        }
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        if (SI_VAR(2) < 100) {
            break;
        }
        if (SI_VAR(2) > 200) {
            return;
        }
        sleep 1;
    }
    DisablePlayerInput(1);
    await N(script_80248128);
    SetNpcPos(14, 0xFFFFFE0B, 20, 223);
    SetNpcAnimation(14, 0x3B0302);
    NpcMoveTo(14, 0xFFFFFE06, 168, 15);
    SetNpcAnimation(14, 0x3B0300);
    await N(script_802481E0);
    if (SI_VAR(7) == 1) {
        await N(script_802483B8);
    } else {
        await N(script_80248624);
        func_80241980_844550(SI_VAR(0));
        spawn {
            sleep 10;
            spawn N(script_80248798);
        }
    }
    SetNpcPos(14, 0, 0xFFFFFC18, 0);
    DisablePlayerInput(0);
});

Script N(script_80248A14) = SCRIPT({
    GetNpcPos(15, SI_VAR(2), SI_VAR(3), SI_VAR(4));
    SI_VAR(3) += 20;
    MakeItemEntity(0x10020, SI_VAR(2), SI_VAR(3), SI_VAR(4), 1, 0);
    SI_VAR(9) = SI_VAR(0);
    sleep 1;
    loop 30 {
        GetNpcPos(15, SI_VAR(2), SI_VAR(3), SI_VAR(4));
        SI_VAR(3) += 20;
        SetItemPos(SI_VAR(9), SI_VAR(2), SI_VAR(3), SI_VAR(4));
        sleep 1;
    }
    RemoveItemEntity(SI_VAR(9));
});

Script N(script_80248B08) = SCRIPT({
    if (SI_SAVE_VAR(0) < 0xFFFFFFF3) {
        return;
    }
    if (SI_SAVE_VAR(0) > 0xFFFFFFF8) {
        return;
    }
    if (SI_SAVE_FLAG(290) != 0) {
        return;
    }
    SetNpcPos(15, 250, 20, 0xFFFFFE6E);
    SetNpcAnimation(15, 0x3B0004);
    DisablePlayerInput(1);
    sleep 30;
    SpeakToPlayer(0, 0x880004, 0x880001, 0, 0x60000);
    DisablePlayerInput(0);
    spawn {
        DisablePlayerInput(1);
        sleep 20;
        SI_VAR(0) = 0;
        loop 36 {
            InterpPlayerYaw(SI_VAR(0), 0);
            SI_VAR(0) += 45;
            sleep 1;
        }
        InterpPlayerYaw(0, 0);
        DisablePlayerInput(0);
    }
    spawn {
        sleep 23;
        PlaySoundAtCollider(57, 449, 0);
        SI_VAR(0) = 0;
        loop 10 {
            SI_VAR(0) += 8;
            RotateModel(83, SI_VAR(0), 0, -1, 0);
            sleep 1;
        }
        loop 10 {
            SI_VAR(0) += 0xFFFFFFF8;
            RotateModel(83, SI_VAR(0), 0, -1, 0);
            sleep 1;
        }
        PlaySoundAtCollider(57, 450, 0);
    }
    spawn N(script_80248A14);
    SI_VAR(0) = 15;
    SI_VAR(10) = spawn N(script_802480E0);
    NpcMoveTo(15, 254, 0xFFFFFFBE, 30);
    kill SI_VAR(10);
    SetNpcPos(15, 0, 0xFFFFFC18, 0);
    SI_SAVE_FLAG(290) = 1;
});

Script N(script_Init_80248E14) = SCRIPT({

});

s32 N(unk_80248E24)[] = {
    0x00000020, 0x00000000,
};

Script N(script_Interact_80248E2C) = SCRIPT({
    SI_VAR(9) = 0;
    if (SI_SAVE_VAR(0) >= 0xFFFFFFF3) {
        if (SI_SAVE_VAR(0) < 0xFFFFFFF9) {
            SI_VAR(9) = 1;
        }
    }
    if (SI_VAR(9) == 1) {
        SpeakToPlayer(0, 0x880004, 0x880001, 0, 0x60001);
        SI_VAR(0) = N(unk_80248E24);
        SI_VAR(1) = 0;
        await N(script_8024675C);
        match SI_VAR(0) {
            == -1 {
                SpeakToPlayer(0, 0x880004, 0x880001, 0, 0x60002);
            }
            == 0 {}
            else {
                SpeakToPlayer(0, 0x880004, 0x880001, 0, 0x60003);
                SetNpcFlagBits(-1, 768, 1);
                SetNpcAnimation(0, 0x880003);
                NpcMoveTo(0, 295, 0xFFFFFE34, 0);
                NpcMoveTo(0, 230, 0xFFFFFE20, 0);
                NpcJump0(0, 198, 30, 0xFFFFFE20, 0);
                NpcJump0(0, 162, 40, 0xFFFFFE20, 0);
                SetNpcAnimation(0, 0x880001);
                sleep 20;
                spawn N(script_8024F24C);
                SetNpcAnimation(0, 0x880003);
                NpcMoveTo(0, 200, 0xFFFFFDF4, 0);
                SetNpcPos(0, 200, 30, 0xFFFFFDF4);
                SetNpcAnimation(0, 0x880001);
                InterpNpcYaw(0, 180, 0);
                PlayerFaceNpc(0, 0);
                SpeakToPlayer(0, 0x880004, 0x880001, 0, 0x60005);
                SetNpcFlagBits(-1, 768, 0);
                SI_SAVE_VAR(0) = 0xFFFFFFF9;
            }
        }
    } else {
        await 0x80284054;
    }
});

Script N(script_Init_8024911C) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80248E2C));
    if (SI_SAVE_VAR(0) >= 0xFFFFFFF3) {
        if (SI_SAVE_VAR(0) < 0xFFFFFFF9) {
            SetNpcAnimation(0, 0x880001);
        }
    }
});

Script N(script_Interact_80249184) = SCRIPT({
    if (SI_SAVE_FLAG(291) == 0) {
        SI_VAR(0) = 0x600A8;
        SI_SAVE_FLAG(291) = 1;
    } else {
        SI_VAR(0) = 0x600A9;
    }
    func_80241C20_8447F0();
    SpeakToPlayer(13, 0xA60004, 0xA60001, 0, SI_VAR(0));
    ShowCoinCounter(1);
    ShowChoice(0x1E000E);
    if (SI_VAR(0) != 0) {
        ShowCoinCounter(0);
        ContinueSpeech(13, 0xA60004, 0xA60001, 0, 0x600AA);
        func_80241C40_844810();
        return;
    }
    func_802419D0_8445A0();
    if (SI_VAR(0) < 39) {
        ShowCoinCounter(0);
        ContinueSpeech(13, 0xA60004, 0xA60001, 0, 0x600AB);
        func_80241C40_844810();
        return;
    }
    func_80241B90_844760();
    SetMessageValue(SI_VAR(0), 0);
    SetMessageValue(SI_VAR(1), 1);
    SetMessageValue(SI_VAR(2), 2);
    ContinueSpeech(13, 0xA60004, 0xA60001, 0, 0x600AC);
    ShowChoice(0x1E000B);
    if (SI_VAR(0) == 3) {
        ShowCoinCounter(0);
        ContinueSpeech(13, 0xA60004, 0xA60001, 0, 0x600AD);
        func_80241C40_844810();
        return;
    }
    SI_VAR(2) = 0;
    func_802419E4_8445B4(SI_VAR(3), SI_VAR(4), SI_VAR(5));
    match SI_VAR(0) {
        == 0 {
            if (SI_VAR(3) > 40) {
                SI_VAR(2) = 1;
            }
            SI_VAR(1) = 0x1D00D1;
        }
        == 1 {
            if (SI_VAR(4) > 40) {
                SI_VAR(2) = 1;
            }
            SI_VAR(1) = 0x1D00D2;
        }
        == 2 {
            if (SI_VAR(5) > 24) {
                SI_VAR(2) = 1;
            }
            SI_VAR(1) = 0x1D00D3;
        }
    }
    SI_VAR(10) = SI_VAR(0);
    if (SI_VAR(2) == 1) {
        ShowCoinCounter(0);
        ContinueSpeech(13, 0xA60004, 0xA60001, 0, 0x600B1);
        func_80241C40_844810();
        return;
    }
    AddCoin(0xFFFFFFD9);
    ShowCoinCounter(0);
    SetMessageString(SI_VAR(1), 0);
    ContinueSpeech(13, 0xA60004, 0xA60001, 0, 0x600AE);
    sleep 10;
    SetNpcAnimation(13, 0xA60005);
    sleep 10;
    PlaySoundAtNpc(13, 587, 0);
    GetNpcPos(13, SI_VAR(6), SI_VAR(7), SI_VAR(8));
    SI_VAR(7) += 26;
    PlayEffect(56, 0, SI_VAR(6), SI_VAR(7), SI_VAR(8), 1, 60, 0, 0, 0, 0, 0, 0, 0);
    SetNpcAnimation(13, 0xA60006);
    sleep 80;
    SetNpcAnimation(13, 0xA60001);
    func_80241A64_844634();
    func_802418AC_84447C(SI_VAR(6));
    if (SI_VAR(6) == 0) {
        SI_VAR(7) = 0x600AF;
    } else {
        SI_VAR(7) = 0x600B0;
    }
    SpeakToPlayer(13, 0xA60004, 0xA60001, 0, SI_VAR(7));
    sleep 10;
    GetNpcPos(13, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    PlaySoundAtNpc(13, 8344, 0);
    PlayEffect(1, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 1, 1, 1, 0, 0, 0, 0, 0, 0);
    SetNpcPos(13, 0, 0xFFFFFC18, 0);
    SI_AREA_FLAG(50) = 1;
    func_80241C60_844830();
});

Script N(script_Init_802497B0) = SCRIPT({
    if (SI_AREA_FLAG(50) == 0) {
        SI_VAR(0) = 0;
        func_802419E4_8445B4(SI_VAR(1), SI_VAR(2), SI_VAR(3));
        if (SI_VAR(1) <= 5) {
            SI_VAR(0) = 1;
        }
        if (SI_VAR(2) <= 5) {
            SI_VAR(0) = 1;
        }
        if (SI_VAR(3) <= 3) {
            SI_VAR(0) = 1;
        }
    } else {
        SI_VAR(0) = 1;
    }
    if (SI_VAR(0) == 0) {
        SetNpcCollisionSize(-1, 38, 52);
        func_80241BB8_844788(-1, 2.0);
        SetNpcFlagBits(-1, 0x10000, 1);
        BindNpcInteract(-1, N(script_Interact_80249184));
    } else {
        RemoveNpc(-1);
    }
});

Script N(script_Interact_80249918) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x60006;
            } else {
                SI_VAR(0) = 0x60007;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x60008;
        }
        < 0xFFFFFFF9 {
            if (SI_SAVE_FLAG(290) == 0) {
                SI_VAR(0) = 0x60009;
            } else {
                SI_VAR(0) = 0x6000A;
            }
        }
        < 7 {
            SI_VAR(0) = 0x6000B;
        }
        < 10 {
            SI_VAR(0) = 0x6000C;
        }
        < 39 {
            SI_VAR(0) = 0x6000D;
        }
        < 43 {
            SI_VAR(0) = 0x6000E;
        }
        < 57 {
            SI_VAR(0) = 0x6000F;
        }
        < 61 {
            SI_VAR(0) = 0x60010;
        }
        < 89 {
            SI_VAR(0) = 0x60011;
        }
        < 96 {
            SI_VAR(0) = 0x60012;
        }
    }
    SpeakToPlayer(-1, 0x840204, 0x840201, 0, SI_VAR(0));
});

Script N(script_Init_80249AF0) = SCRIPT({
    SI_AREA_FLAG(45) = 0;
    BindNpcInteract(-1, N(script_Interact_80249918));
});

Script N(script_Interact_80249B24) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x60013;
            } else {
                SI_VAR(0) = 0x60014;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x60015;
        }
        < 0xFFFFFFF9 {
            if (SI_SAVE_FLAG(290) == 0) {
                SI_VAR(0) = 0x60016;
            } else {
                SI_VAR(0) = 0x60017;
            }
        }
        < 7 {
            SI_VAR(0) = 0x60018;
        }
        < 10 {
            SI_VAR(0) = 0x60019;
        }
        < 39 {
            SI_VAR(0) = 0x6001A;
        }
        < 43 {
            SI_VAR(0) = 0x6001B;
        }
        < 57 {
            SI_VAR(0) = 0x6001C;
        }
        < 61 {
            SI_VAR(0) = 0x6001D;
        }
        < 89 {
            SI_VAR(0) = 0x6001E;
        }
        < 96 {
            SI_VAR(0) = 0x6001F;
        }
    }
    SpeakToPlayer(-1, 0x840304, 0x840301, 0, SI_VAR(0));
});

Script N(script_Init_80249CFC) = SCRIPT({
    SI_AREA_FLAG(46) = 0;
    BindNpcInteract(-1, N(script_Interact_80249B24));
});

Script N(script_Interact_80249D30) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x60020;
            } else {
                SI_VAR(0) = 0x60021;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x60022;
        }
        < 0xFFFFFFF9 {
            if (SI_SAVE_FLAG(290) == 0) {
                SI_VAR(0) = 0x60023;
            } else {
                SI_VAR(0) = 0x60024;
            }
        }
        < 7 {
            SI_VAR(0) = 0x60025;
        }
        < 10 {
            SI_VAR(0) = 0x60026;
        }
        < 39 {
            SI_VAR(0) = 0x60027;
        }
        < 43 {
            SI_VAR(0) = 0x60028;
        }
        < 57 {
            SI_VAR(0) = 0x60029;
        }
        < 61 {
            SI_VAR(0) = 0x6002A;
        }
        < 89 {
            SI_VAR(0) = 0x6002B;
        }
        < 96 {
            SI_VAR(0) = 0x6002C;
        }
    }
    SpeakToPlayer(-1, 0x830204, 0x830201, 0, SI_VAR(0));
});

Script N(script_Init_80249F08) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80249D30));
});

Script N(script_Interact_80249F2C) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x6002D;
            } else {
                SI_VAR(0) = 0x6002E;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x6002F;
        }
        < 0xFFFFFFF9 {
            if (SI_SAVE_FLAG(290) == 0) {
                SI_VAR(0) = 0x60030;
            } else {
                SI_VAR(0) = 0x60031;
            }
        }
        < 7 {
            SI_VAR(0) = 0x60032;
        }
        < 10 {
            SI_VAR(0) = 0x60033;
        }
        < 39 {
            SI_VAR(0) = 0x60034;
        }
        < 43 {
            SI_VAR(0) = 0x60035;
        }
        < 57 {
            SI_VAR(0) = 0x60036;
        }
        < 61 {
            SI_VAR(0) = 0x60037;
        }
        < 89 {
            SI_VAR(0) = 0x60038;
        }
        < 96 {
            SI_VAR(0) = 0x60039;
        }
    }
    SpeakToPlayer(-1, 0x830204, 0x830201, 0, SI_VAR(0));
});

Script N(script_Init_8024A104) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80249F2C));
});

Script N(script_Interact_8024A128) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x6003A;
                SI_VAR(1) = 0x6003B;
                SI_VAR(2) = 0x6003C;
            } else {
                SI_VAR(0) = 0x6003D;
                SI_VAR(1) = 0x6003E;
                SI_VAR(2) = 0x6003F;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x60040;
            SI_VAR(1) = 0x60041;
            SI_VAR(2) = 0x60042;
        }
        < 0xFFFFFFF9 {
            if (SI_SAVE_FLAG(290) == 0) {
                SI_VAR(0) = 0x60043;
                SI_VAR(1) = 0x60044;
                SI_VAR(2) = 0x60045;
            } else {
                SI_VAR(0) = 0x60046;
                SI_VAR(1) = 0x60047;
                SI_VAR(2) = 0x60048;
            }
        }
        < 7 {
            SI_VAR(0) = 0x60049;
            SI_VAR(1) = 0x6004A;
            SI_VAR(2) = 0x6004B;
        }
        < 10 {
            SI_VAR(0) = 0x6004C;
            SI_VAR(1) = 0x6004D;
            SI_VAR(2) = 0x6004E;
        }
        < 39 {
            SI_VAR(0) = 0x6004F;
            SI_VAR(1) = 0x60050;
            SI_VAR(2) = 0x60051;
        }
        < 43 {
            SI_VAR(0) = 0x60052;
            SI_VAR(1) = 0x60053;
            SI_VAR(2) = 0x60054;
        }
        < 57 {
            SI_VAR(0) = 0x60055;
            SI_VAR(1) = 0x60056;
            SI_VAR(2) = 0x60057;
        }
        < 61 {
            SI_VAR(0) = 0x60058;
            SI_VAR(1) = 0x60059;
            SI_VAR(2) = 0x6005A;
        }
        < 89 {
            SI_VAR(0) = 0x6005B;
            SI_VAR(1) = 0x6005C;
            SI_VAR(2) = 0x6005D;
        }
        < 96 {
            SI_VAR(0) = 0x6005E;
            SI_VAR(1) = 0x6005F;
            SI_VAR(2) = 0x60060;
        }
    }
    SpeakToPlayer(5, 0x860004, 0x860001, 0, SI_VAR(0));
    SpeakToPlayer(6, 0x860304, 0x860301, 0, SI_VAR(1));
    SpeakToPlayer(7, 0x860104, 0x860101, 0, SI_VAR(2));
});

Script N(script_Init_8024A4E0) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024A128));
});

Script N(script_Init_8024A504) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024A128));
});

Script N(script_Init_8024A528) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024A128));
});

Script N(script_Interact_8024A54C) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x60061;
            } else {
                SI_VAR(0) = 0x60062;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x60063;
        }
        < 0xFFFFFFF7 {
            SI_VAR(0) = 0x60064;
        }
        < 0xFFFFFFF8 {
            SI_VAR(0) = 0x60065;
        }
        < 0xFFFFFFF9 {
            SI_VAR(0) = 0x60066;
        }
        < 0xFFFFFFFC {
            SI_VAR(0) = 0x60067;
        }
        < 0xFFFFFFFD {
            SI_VAR(0) = 0x60068;
        }
        < 0 {
            FindKeyItem(37, SI_VAR(0));
            if (SI_VAR(0) == -1) {
                if (SI_SAVE_FLAG(244) == 0) {
                    SI_VAR(0) = 0x60069;
                } else {
                    SI_VAR(0) = 0x6006B;
                }
            } else {
                SI_VAR(0) = 0x6006A;
            }
        }
        < 7 {
            SI_VAR(0) = 0x6006C;
        }
        < 10 {
            SI_VAR(0) = 0x6006D;
        }
        < 39 {
            SI_VAR(0) = 0x6006E;
        }
        < 43 {
            SI_VAR(0) = 0x6006F;
        }
        < 57 {
            SI_VAR(0) = 0x60070;
        }
        < 61 {
            SI_VAR(0) = 0x60071;
        }
        < 89 {
            SI_VAR(0) = 0x60072;
        }
        < 96 {
            SI_VAR(0) = 0x60073;
        }
    }
    SpeakToPlayer(-1, 0x840004, 0x840001, 0, SI_VAR(0));
});

Script N(script_Init_8024A7F4) = SCRIPT({
    match SI_SAVE_VAR(0) {
        0xFFFFFFF1..7
        SetNpcPos(-1, 0xFFFFFED4, 0, 325);
    }
    BindNpcInteract(-1, N(script_Interact_8024A54C));
});

Script N(script_Interact_8024A858) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x60074;
            } else {
                SI_VAR(0) = 0x60075;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x60076;
        }
        < 0xFFFFFFF9 {
            if (SI_SAVE_FLAG(290) == 0) {
                SI_VAR(0) = 0x60077;
            } else {
                SI_VAR(0) = 0x60078;
            }
        }
        < 7 {
            SI_VAR(0) = 0x60079;
        }
        < 10 {
            SI_VAR(0) = 0x6007A;
        }
        < 39 {
            SI_VAR(0) = 0x6007B;
        }
        < 43 {
            SI_VAR(0) = 0x6007C;
        }
        < 57 {
            SI_VAR(0) = 0x6007D;
        }
        < 61 {
            SI_VAR(0) = 0x6007E;
        }
        < 89 {
            SI_VAR(0) = 0x6007F;
        }
        < 96 {
            SI_VAR(0) = 0x60080;
        }
    }
    SpeakToPlayer(-1, 0x830104, 0x830101, 0, SI_VAR(0));
});

Script N(script_Init_8024AA30) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024A858));
});

Script N(script_Interact_8024AA54) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x60081;
                SI_VAR(1) = 0x60082;
                SI_VAR(2) = 0x60083;
            } else {
                SI_VAR(0) = 0x60084;
                SI_VAR(1) = 0x60085;
                SI_VAR(2) = 0x60086;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x60087;
            SI_VAR(1) = 0x60088;
            SI_VAR(2) = 0x60089;
        }
        < 0xFFFFFFF9 {
            if (SI_SAVE_FLAG(290) == 0) {
                SI_VAR(0) = 0x6008A;
                SI_VAR(1) = 0x6008B;
                SI_VAR(2) = 0x6008C;
            } else {
                SI_VAR(0) = 0x6008D;
                SI_VAR(1) = 0x6008E;
                SI_VAR(2) = 0x6008F;
            }
        }
        < 7 {
            SI_VAR(0) = 0x60090;
            SI_VAR(1) = 0x60091;
            SI_VAR(2) = 0x60092;
        }
        < 10 {
            SI_VAR(0) = 0x60093;
            SI_VAR(1) = 0x60094;
            SI_VAR(2) = 0x60095;
        }
        < 39 {
            SI_VAR(0) = 0x60096;
            SI_VAR(1) = 0x60097;
            SI_VAR(2) = 0x60098;
        }
        < 43 {
            SI_VAR(0) = 0x60099;
            SI_VAR(1) = 0x6009A;
            SI_VAR(2) = 0x6009B;
        }
        < 57 {
            SI_VAR(0) = 0x6009C;
            SI_VAR(1) = 0x6009D;
            SI_VAR(2) = 0x6009E;
        }
        < 61 {
            SI_VAR(0) = 0x6009F;
            SI_VAR(1) = 0x600A0;
            SI_VAR(2) = 0x600A1;
        }
        < 89 {
            SI_VAR(0) = 0x600A2;
            SI_VAR(1) = 0x600A3;
            SI_VAR(2) = 0x600A4;
        }
        < 96 {
            SI_VAR(0) = 0x600A5;
            SI_VAR(1) = 0x600A6;
            SI_VAR(2) = 0x600A7;
        }
    }
    SpeakToPlayer(10, 0x830104, 0x830101, 0, SI_VAR(0));
    SpeakToPlayer(11, 0x830004, 0x830001, 0, SI_VAR(1));
    SpeakToPlayer(12, 0x830304, 0x830301, 0, SI_VAR(2));
});

Script N(script_Init_8024AE0C) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024AA54));
});

Script N(script_Init_8024AE30) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024AA54));
});

Script N(script_Init_8024AE54) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024AA54));
});

Script N(script_Interact_8024AE78) = SCRIPT({
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) == 1) {
        DisablePartnerAI(1);
        if (SI_SAVE_FLAG(292) == 0) {
            SpeakToPlayer(-1, 0xA10004, 0xA10001, 0, 0x600B6);
            SpeakToPlayer(0xFFFFFFFC, 0x10008, 0x10001, 0, 0x600B7);
            SpeakToPlayer(-1, 0xA10004, 0xA10001, 0, 0x600B8);
            SpeakToPlayer(0xFFFFFFFC, 0x10008, 0x10001, 0, 0x600B9);
            SpeakToPlayer(-1, 0xA10004, 0xA10001, 0, 0x600BA);
            SpeakToPlayer(0xFFFFFFFC, 0x10008, 0x10001, 0, 0x600BB);
            SpeakToPlayer(19, 0x9E000B, 0x9E0001, 0, 0x600BC);
            SpeakToPlayer(0xFFFFFFFC, 0x10008, 0x10001, 0, 0x600BD);
            SpeakToPlayer(19, 0x9E000B, 0x9E0001, 0, 0x600BE);
            SI_SAVE_FLAG(292) = 1;
        } else {
            SpeakToPlayer(-1, 0xA10004, 0xA10001, 0, 0x600BF);
        }
        EnablePartnerAI();
    } else {
        SpeakToPlayer(-1, 0xA10004, 0xA10001, 0, 0x600B5);
    }
});

Script N(script_Interact_8024B064) = SCRIPT({
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) == 1) {
        DisablePartnerAI(1);
        if (SI_AREA_FLAG(48) == 0) {
            SpeakToPlayer(-1, 0x9E000B, 0x9E0001, 0, 0x600C1);
            SpeakToPlayer(0xFFFFFFFC, 0x10008, 0x10001, 0, 0x600C2);
            SpeakToPlayer(-1, 0x9E000B, 0x9E0001, 0, 0x600C3);
            SI_AREA_FLAG(48) = 1;
        } else {
            SpeakToPlayer(-1, 0x9E000B, 0x9E0001, 0, 0x600C4);
        }
        EnablePartnerAI();
    } else {
        SpeakToPlayer(-1, 0x9E000B, 0x9E0001, 0, 0x600C0);
    }
});

Script N(script_Init_8024B190) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024AE78));
});

Script N(script_Init_8024B1B4) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024B064));
});

StaticNpc N(npcGroup_8024B1D8)[] = {
    {
        .id = 13,
        .settings = &N(npcSettings_80243EE0),
        .pos = { 410.0, 20.0, -200.0 },
        .flags = 0x00000D09,
        .init = N(script_Init_802497B0),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00A60001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .tattle = 0x1A0051,
    },
    {
        .id = 0,
        .settings = &N(npcSettings_80243E88),
        .pos = { 310.0, 20.0, -430.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024911C),
        .yaw = 230,
        .dropFlags = 0x80,
        .animations = {
            0x00880001, 0x00880002, 0x00880003, 0x00880003, 0x00880001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
        },
        .tattle = 0x1A0044,
    },
    {
        .id = 1,
        .settings = &N(npcSettings_80243E88),
        .pos = { -80.0, 20.0, -100.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_80249AF0),
        .yaw = 133,
        .dropFlags = 0x80,
        .animations = {
            0x00840201, 0x00840202, 0x00840203, 0x00840203, 0x00840201, 0x00840201, 0x00840206, 0x00840206, 0x00840203, 0x00840203, 0x00840203, 0x00840203, 0x00840203, 0x00840203, 0x00840203, 0x00840203,
        },
        .tattle = 0x1A004F,
    },
    {
        .id = 2,
        .settings = &N(npcSettings_80243E88),
        .pos = { -133.0, 20.0, -82.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_80249CFC),
        .yaw = 133,
        .dropFlags = 0x80,
        .animations = {
            0x00840301, 0x00840302, 0x00840303, 0x00840303, 0x00840301, 0x00840301, 0x00840306, 0x00840306, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303,
        },
        .tattle = 0x1A0050,
    },
    {
        .id = 3,
        .settings = &N(npcSettings_80243E30),
        .pos = { 48.0, 0.0, 153.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_80249F08),
        .yaw = 270,
        .dropFlags = 0x80,
        .movement = { 0x00000030, 0x00000000, 0x00000099, 0x00000064, 0x00000000, 0xFFFF8001, 0x00000000, 0x00000030, 0x00000000, 0x00000099, 0x0000000A, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
        .tattle = 0x1A0045,
    },
    {
        .id = 4,
        .settings = &N(npcSettings_80243E88),
        .pos = { -239.0, 20.0, 105.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024A104),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
        .tattle = 0x1A0046,
    },
    {
        .id = 5,
        .settings = &N(npcSettings_80243E88),
        .pos = { 254.0, 20.0, 436.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024A4E0),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00860001, 0x00860002, 0x00860003, 0x00860003, 0x00860001, 0x00860001, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000,
        },
        .tattle = 0x1A0047,
    },
    {
        .id = 6,
        .settings = &N(npcSettings_80243E88),
        .pos = { 304.0, 20.0, 410.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024A504),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00860301, 0x00860302, 0x00860303, 0x00860303, 0x00860301, 0x00860301, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300,
        },
        .tattle = 0x1A0048,
    },
    {
        .id = 7,
        .settings = &N(npcSettings_80243E88),
        .pos = { 345.0, 20.0, 438.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024A528),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00860101, 0x00860102, 0x00860103, 0x00860103, 0x00860101, 0x00860101, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100, 0x00860100,
        },
        .tattle = 0x1A0049,
    },
    {
        .id = 8,
        .settings = &N(npcSettings_80243E88),
        .pos = { -274.0, 0.0, 400.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024A7F4),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00840001, 0x00840002, 0x00840003, 0x00840003, 0x00840001, 0x00840001, 0x00840006, 0x00840006, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003, 0x00840003,
        },
        .tattle = 0x1A004A,
    },
    {
        .id = 9,
        .settings = &N(npcSettings_80243E88),
        .pos = { 500.0, 20.0, -160.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024AA30),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00830101, 0x00830102, 0x00830103, 0x00830103, 0x00830101, 0x00830101, 0x00830106, 0x00830106, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103,
        },
        .tattle = 0x1A004B,
    },
    {
        .id = 10,
        .settings = &N(npcSettings_80243E88),
        .pos = { -110.0, 0.0, 568.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024AE0C),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00830101, 0x00830102, 0x00830103, 0x00830103, 0x00830101, 0x00830101, 0x00830106, 0x00830106, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103,
        },
        .tattle = 0x1A004C,
    },
    {
        .id = 11,
        .settings = &N(npcSettings_80243E88),
        .pos = { -114.0, 0.0, 498.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024AE30),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00830001, 0x00830002, 0x00830003, 0x00830003, 0x00830001, 0x00830001, 0x00830006, 0x00830006, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003,
        },
        .tattle = 0x1A004D,
    },
    {
        .id = 12,
        .settings = &N(npcSettings_80243E88),
        .pos = { -52.0, 0.0, 525.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024AE54),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00830301, 0x00830302, 0x00830303, 0x00830303, 0x00830301, 0x00830301, 0x00830306, 0x00830306, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303,
        },
        .tattle = 0x1A004E,
    },
};

s32 N(extraAnimationList_8024CCF8)[] = {
    0x00200001, 0x00200005, 0x00200009, 0xFFFFFFFF,
};

StaticNpc N(npcGroup_8024CD08)[] = {
    {
        .id = 16,
        .settings = &N(npcSettings_80243FBC),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024808C),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00200001, 0x00200005, 0x00200008, 0x00200008, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001,
        },
        .extraAnimations = N(extraAnimationList_8024CCF8),
    },
    {
        .id = 14,
        .settings = &N(npcSettings_80243E88),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00002F09,
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x003B0001, 0x003B0002, 0x003B0003, 0x003B0003, 0x003B0001, 0x003B0001, 0x003B000C, 0x003B000C, 0x003B0015, 0x003B0012, 0x003B0011, 0x003B0010, 0x003B0005, 0x003B0001, 0x003B0001, 0x003B0001,
        },
    },
    {
        .id = 15,
        .settings = &N(npcSettings_80243E88),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00002F09,
        .init = N(script_Init_80248E14),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x003B0001, 0x003B0002, 0x003B0003, 0x003B0003, 0x003B0001, 0x003B0001, 0x003B000C, 0x003B000C, 0x003B0015, 0x003B0012, 0x003B0011, 0x003B0010, 0x003B0005, 0x003B0001, 0x003B0001, 0x003B0001,
        },
    },
};

StaticNpc N(npcGroup_8024D2D8)[] = {
    {
        .id = 17,
        .settings = &N(npcSettings_80243F38),
        .pos = { -486.0, 20.0, 259.0 },
        .flags = 0x00000D09,
        .init = N(script_Init_80247B1C),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00150001, 0x00150001, 0x00150001, 0x00150001, 0x00150001, 0x00150001, 0x00150001, 0x00150001, 0x00150000, 0x00150001, 0x00150001, 0x00150001, 0x00150001, 0x00150001, 0x00150001, 0x00150001,
        },
    },
    {
        .id = 16,
        .settings = &N(npcSettings_80243F38),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00000D09,
        .init = N(script_Init_80247B8C),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00200001, 0x00200005, 0x00200008, 0x00200008, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001, 0x00200001,
        },
    },
};

StaticNpc N(npcGroup_8024D6B8)[] = {
    {
        .id = 18,
        .settings = &N(npcSettings_80243F0C),
        .pos = { -126.0, 0.0, 329.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024B190),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00A10001, 0x00A10002, 0x00A10003, 0x00A10003, 0x00A10001, 0x00A10001, 0x00A10000, 0x00A10000, 0x00A10003, 0x00A10003, 0x00A10003, 0x00A10003, 0x00A10003, 0x00A10003, 0x00A10003, 0x00A10003,
        },
        .tattle = 0x1A0066,
    },
    {
        .id = 19,
        .settings = &N(npcSettings_80243F0C),
        .pos = { -117.0, 0.0, 305.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024B1B4),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x009E0001, 0x009E0005, 0x009E0007, 0x009E0007, 0x009E0001, 0x009E0001, 0x009E0000, 0x009E0000, 0x009E0007, 0x009E0007, 0x009E0007, 0x009E0007, 0x009E0007, 0x009E0007, 0x009E0007, 0x009E0007,
        },
        .tattle = 0x1A0067,
    },
};

StaticNpc N(npcGroup_8024DA98)[] = {
    {
        .id = 20,
        .settings = &N(npcSettings_802465B8),
        .pos = { 57.0, 20.0, -114.0 },
        .flags = 0x00006D09,
        .unk_1C = 0x00000001,
        .unk_20 = 0x00010604,
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00AF0001, 0x00AF0002, 0x00AF0003, 0x00AF0003, 0x00AF0001, 0x00AF0001, 0x00AF0000, 0x00AF0000, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003,
        },
        .tattle = 0x1A0002,
    },
};

NpcGroupList N(npcGroupList_8024DC88) = {
    NPC_GROUP(N(npcGroup_8024B1D8), 0x00000000),
    NPC_GROUP(N(npcGroup_8024DA98), 0x00000000),
    {},
};

NpcGroupList N(npcGroupList_8024DCAC) = {
    NPC_GROUP(N(npcGroup_8024B1D8), 0x00000000),
    NPC_GROUP(N(npcGroup_8024CD08), 0x00000000),
    {},
};

NpcGroupList N(npcGroupList_8024DCD0) = {
    NPC_GROUP(N(npcGroup_8024B1D8), 0x00000000),
    NPC_GROUP(N(npcGroup_8024D2D8), 0x00000000),
    {},
};

NpcGroupList N(npcGroupList_8024DCF4) = {
    NPC_GROUP(N(npcGroup_8024B1D8), 0x00000000),
    NPC_GROUP(N(npcGroup_8024D6B8), 0x00000000),
    {},
};

s32 pad_00DD18[] = {
    0x00000000, 0x00000000,
};

NpcAISettings N(aISettings_8024DD20) = {
    .moveSpeed = 1.5f,
    .moveTime = 0x3C,
    .waitTime = 0x1E,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_8024DD50) = SCRIPT({
    DoBasicAI(N(aISettings_8024DD20));
});

s32 unk_missing_8024DD70[] = {
    0x00000000, 0x001E0018, 0x00000000, 0x00000000, N(script_8024DD50), 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630010, 0x00000000, 0x00170013, 0x00000000, 0x00000000, N(script_8024DD50),
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00630010,
};

NpcSettings N(npcSettings_8024DDC8) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_8024DDF4[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630000, 0x00000000, 0x00160018, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00630010, 0x00000000, 0x001A0018,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00630000, 0x00000000, 0x00140014, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00630000, 0x00000000, 0x00160018, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00630000,
};

Script N(script_8024DED0) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    SetPlayerActionState(10);
    SetNpcFlagBits(0xFFFFFFFC, 512, 0);
    UseSettingsFrom(0, 0xFFFFFF9C, 0, 200);
    SetPanTarget(0, 0xFFFFFF9C, 0, 200);
    SetCamDistance(0, -400.0);
    SetCamPitch(0, 6.0, -8.0);
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    sleep 20;
    SpeakToPlayer(21, 0x860004, 0x860006, 0, 0xA0070);
    sleep 10;
    GotoMap(D_8024F570_852140, 1);
    sleep 100;
});

Script N(script_Init_8024E024) = SCRIPT({
    SetNpcPos(-1, 0xFFFFFF9C, 0, 200);
    SetNpcYaw(-1, 90);
});

StaticNpc N(npcGroup_8024E064)[] = {
    {
        .id = 21,
        .settings = &N(npcSettings_8024DDC8),
        .pos = { 350.0, 0.0, -20.0 },
        .flags = 0x00402D09,
        .init = N(script_Init_8024E024),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00860001, 0x00860002, 0x00860003, 0x00860003, 0x00860001, 0x00860001, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000,
        },
    },
    {
        .id = 10,
        .settings = &N(npcSettings_8024DDC8),
        .pos = { -245.0, 20.0, 100.0 },
        .flags = 0x00000009,
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00830101, 0x00830102, 0x00830103, 0x00830103, 0x00830101, 0x00830101, 0x00830106, 0x00830106, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103,
        },
        .tattle = 0x1A004C,
    },
    {
        .id = 11,
        .settings = &N(npcSettings_8024DDC8),
        .pos = { -25.0, 0.0, 170.0 },
        .flags = 0x00000009,
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00830001, 0x00830002, 0x00830003, 0x00830003, 0x00830001, 0x00830001, 0x00830006, 0x00830006, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003,
        },
        .tattle = 0x1A004D,
    },
    {
        .id = 12,
        .settings = &N(npcSettings_8024DDC8),
        .pos = { -100.0, 0.0, 305.0 },
        .flags = 0x00000009,
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00830301, 0x00830302, 0x00830303, 0x00830303, 0x00830301, 0x00830301, 0x00830306, 0x00830306, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303, 0x00830303,
        },
        .tattle = 0x1A004E,
    },
};

NpcGroupList N(npcGroupList_8024E824) = {
    NPC_GROUP(N(npcGroup_8024E064), 0x00000000),
    {},
};

s32 pad_00E83C[] = {
    0x00000000,
};

Script N(script_8024E840) = SCRIPT({
    SI_MAP_VAR(10) = 1.0;
    SetPlayerFlagBits(0x20000000, 1);
    func_80241C90_844860();
    spawn {
        sleep 8;
        MakeLerp(100, 20, 20, 1);
        loop {
            UpdateLerp();
            SI_MAP_VAR(10) = f SI_VAR(0);
            SI_MAP_VAR(10) /= 100;
            sleep 1;
            if (SI_VAR(1) == 0) {
                break;
            }
        }
    }
});

Script N(script_8024E924) = SCRIPT({
    SI_MAP_VAR(10) = 0.2001953125;
    SetPlayerFlagBits(0x20000000, 1);
    func_80241C90_844860();
    spawn {
        MakeLerp(20, 100, 40, 4);
        loop {
            UpdateLerp();
            SI_MAP_VAR(10) = f SI_VAR(0);
            SI_MAP_VAR(10) /= 100;
            sleep 1;
            if (SI_VAR(1) == 0) {
                break;
            }
        }
    }
});

Script N(script_8024E9FC) = SCRIPT({
    SetPlayerFlagBits(0x20000000, 0);
    func_80241CEC_8448BC();
});

Script N(script_8024EA2C) = SCRIPT({
0:
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetCamTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    sleep 1;
    goto 0;
});

Script N(script_8024EA94) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    await N(script_8024E840);
    SetPlayerActionState(3);
    sleep 1;
    SI_VAR(10) = spawn N(script_8024EA2C);
    spawn {
        PlaySoundAtCollider(21, 426, 0);
        MakeLerp(0, 0xFFFFFFA6, 10, 0);
        loop {
            UpdateLerp();
            SI_VAR(2) = 0;
            SI_VAR(2) -= SI_VAR(0);
            SI_VAR(2) /= 3;
            RotateGroup(132, SI_VAR(0), 0, 0, 1);
            TranslateGroup(132, 0, SI_VAR(2), 0);
            sleep 1;
            if (SI_VAR(1) == 0) {
                break;
            }
        }
    }
    spawn {
        PlaySoundAtPlayer(217, 0);
        SetPlayerJumpscale(0.3505859375);
        PlayerJump(0xFFFFFE3E, 20, 0xFFFFFF60, 32);
    }
    sleep 25;
    if (SI_SAVE_FLAG(4) == 0) {
        SI_SAVE_FLAG(4) = 1;
        FadeOutMusic(0, 1500);
        GotoMapSpecial(D_8024F590_852160, 4, 6);
        sleep 100;
        return;
    }
    GotoMap(D_8024F588_852158, 4);
    sleep 100;
});

Script N(script_8024ECDC) = SCRIPT({
    SI_AREA_FLAG(2) = 1;
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    await N(script_8024E924);
    SetPlayerActionState(3);
    sleep 1;
    spawn {
        MakeLerp(0xFFFFFFA6, 0, 10, 0);
        loop {
            UpdateLerp();
            SI_VAR(2) = 0;
            SI_VAR(2) -= SI_VAR(0);
            SI_VAR(2) /= 3;
            RotateGroup(132, SI_VAR(0), 0, 0, 1);
            TranslateGroup(132, 0, SI_VAR(2), 0);
            sleep 1;
            if (SI_VAR(1) == 0) {
                break;
            }
        }
        PlaySoundAtCollider(21, 426, 0);
    }
    SI_VAR(10) = spawn N(script_8024EA2C);
    PlaySoundAtPlayer(218, 0);
    SetPlayerJumpscale(0.7001953125);
    PlayerJump(0xFFFFFE20, 45, 0xFFFFFFA6, 25);
    await N(script_8024E9FC);
    kill SI_VAR(10);
    DisablePlayerPhysics(0);
    DisablePlayerInput(0);
    SetPlayerActionState(0);
});

Script N(script_8024EED8) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    SetPlayerActionState(3);
    sleep 1;
    SI_VAR(10) = spawn N(script_8024EA2C);
    SetPlayerJumpscale(0.7001953125);
    PlayerJump(0xFFFFFE52, 20, 0xFFFFFFD3, 15);
    SI_AREA_FLAG(2) = 0;
    kill SI_VAR(10);
    DisablePlayerPhysics(0);
    DisablePlayerInput(0);
    SetPlayerActionState(0);
});

Script N(script_8024EFAC) = SCRIPT({
    if (SI_AREA_FLAG(2) == 0) {
        spawn N(script_8024EA94);
    } else {
        spawn N(script_8024EED8);
    }
});

Script N(script_8024EFF4) = SCRIPT({
    await N(script_80242E48);
});

s32 N(itemList_8024F010)[] = {
    0x00000020, 0x00000000,
};

Script N(script_8024F018) = SCRIPT({
    0x802D6420();
    if (SI_VAR(0) == 0) {
        ShowMessageAtScreenPos(0x1D00D8, 160, 40);
        0x802D6954();
        return;
    }
    if (SI_VAR(0) == -1) {
        0x802D6954();
        return;
    }
    PlaySoundAt(617, 0, 155, 48, 0xFFFFFE20);
    SI_VAR(0) = SI_MAP_VAR(0);
    func_80241EB0_844A80();
    sleep 5;
    RemoveKeyItemAt(SI_VAR(1));
    0x802D6954();
    unbind;
    DisablePlayerInput(1);
    SpeakToPlayer(0, 0x880004, 0x880001, 0, 0x60004);
    SetNpcFlagBits(0, 256, 1);
    SetNpcAnimation(0, 0x880003);
    NpcMoveTo(0, 295, 0xFFFFFE34, 0);
    NpcMoveTo(0, 230, 0xFFFFFE20, 0);
    NpcJump0(0, 200, 30, 0xFFFFFDF4, 0);
    SetNpcPos(0, 200, 30, 0xFFFFFDF4);
    SetNpcAnimation(0, 0x880001);
    SetNpcFlagBits(0, 256, 0);
    SpeakToPlayer(0, 0x880004, 0x880001, 0, 0x60005);
    SI_SAVE_VAR(0) = 0xFFFFFFF9;
    DisablePlayerInput(0);
});

Script N(script_8024F24C) = SCRIPT({
    SI_VAR(0) = SI_MAP_VAR(0);
    func_80241EB0_844A80();
});

Script N(script_8024F278) = SCRIPT({
    DisablePlayerInput(1);
    ShowMessageAtScreenPos(0x1D0173, 160, 40);
    DisablePlayerInput(0);
});

// Unable to use DSL: DSL does not support script opcode 0x4E
// *INDENT-OFF*
Script N(script_MakeEntities) = {
    SI_CMD(ScriptOpcode_IF_LT, SI_SAVE_VAR(0), 0xFFFFFFF9),
        SI_CMD(ScriptOpcode_CALL, MakeEntity, 0x802BCD68, 155, 48, 0xFFFFFE20, 90, 0x80000000),
        SI_CMD(ScriptOpcode_CALL, AssignScript, N(script_8024EFF4)),
        SI_CMD(ScriptOpcode_SET, SI_MAP_VAR(0), SI_VAR(0)),
        SI_CMD(ScriptOpcode_CALL, 0x80111E9C, 3),
        SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_8024F018), TriggerFlag_WALL_INTERACT, 0x4000, N(itemList_8024F010), 0, 1),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, MakeItemEntity, 0x20021, 50, 40, 0xFFFFFE52, 0, SI_SAVE_FLAG(289)),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_LT, SI_SAVE_VAR(0), 0xFFFFFFFA),
            SI_CMD(ScriptOpcode_LOOP, 0),
                SI_CMD(ScriptOpcode_IF_NE, SI_SAVE_FLAG(289), 0),
                    SI_CMD(ScriptOpcode_SET, SI_SAVE_VAR(0), 0xFFFFFFFA),
                    SI_CMD(ScriptOpcode_BREAK_LOOP),
                SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_CALL, MakeItemEntity, 0x20081, 50, 40, 0xFFFFFECA, 17, SI_SAVE_FLAG(303)),
    SI_CMD(ScriptOpcode_CALL, MakeItemEntity, 0x2008B, 50, 40, 0xFFFFFE8E, 17, SI_SAVE_FLAG(304)),
    SI_CMD(ScriptOpcode_CALL, MakeItemEntity, 0x2009A, 50, 40, 0xFFFFFE16, 17, SI_SAVE_FLAG(305)),
    SI_CMD(ScriptOpcode_CALL, MakeEntity, 0x802EAA30, 0xFFFFFE20, 20, 0xFFFFFFA6, 0, 0x80000000),
    SI_CMD(ScriptOpcode_CALL, AssignScript, N(script_8024EFAC)),
    SI_CMD(ScriptOpcode_CALL, 0x80111E9C, 2),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_8024F278), TriggerFlag_WALL_INTERACT, 67, 1, 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

s32 pad_00F4C4[] = {
    0x00000000, 0x00000000, 0x00000000,
};

s32 N(unk_8024F4D0)[] = {
    0xC3F00000, 0x435C0000, 0x42C80000, 0x42F00000, 0x00000009, 0xFAA2B58A,
};

Script N(script_8024F4E8) = SCRIPT({
    SetMusicTrack(0, 0, 0, 8);
    0x802D5EE0(0);
    spawn {
        func_80241EF0_844AC0(N(unk_8024F4D0));
    }
});

s32 pad_00F544[] = {
    0x00000000, 0x00000000, 0x00000000,
};

// rodata: D_8024F550_852120

// rodata: D_8024F558_852128

// rodata: D_8024F560_852130

// rodata: D_8024F568_852138

// rodata: D_8024F570_852140

s32 pad_00F578[] = {
    0x00000000, 0x00000000,
};

// rodata: D_8024F580_852150

// rodata: D_8024F588_852158

// rodata: D_8024F590_852160

s32 pad_00F598[] = {
    0x00000000, 0x00000000,
};

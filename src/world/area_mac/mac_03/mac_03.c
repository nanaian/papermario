#include "mac_03.h"

s32 pad_00031C[1];
s32 pad_001CF4[3];
s32 pad_001F3C[1];
Script N(script_802428F0);
s32 pad_002964[3];
Script N(script_80242970);
Script N(script_80242CC4);
Script N(script_802430B4);
Script N(script_80243190);
Script N(script_8024336C);
Script N(script_ExitWalk_802436A0);
Script N(script_802436FC);
Script N(script_8024372C);
Script N(script_80243784);
Script N(script_EnterWalk_802437CC);
Script N(script_80243880);
Script N(main);
s32 pad_003B68[2];
Script N(script_80243B70);
Script N(script_80243CF0);
Script N(script_80243E70);
Script N(script_80243FE8);
Script N(script_802452DC);
Script N(script_802454B8);
Script N(script_802455F0);
Script N(script_80245C8C);
Script N(script_80246388);
s32 pad_0064A4[3];
Script N(script_802464B0);
Script N(script_NpcAI_8024651C);
s32 unk_missing_802465C0[11];
s32 N(unk_80246644)[1];
Script N(script_80246648);
Script N(script_80246678);
s32 N(quizAnswers)[16];
s32 N(quizRequirements)[20];
Script N(script_80246738);
Script N(script_802467E8);
Script N(script_80246984);
Script N(script_80246A80);
Script N(script_80246ABC);
Script N(script_80246C6C);
Script N(script_80246DA4);
Script N(script_80246F10);
Script N(script_80246F44);
Script N(script_80246F84);
Script N(script_80246FC0);
Script N(script_80247B08);
Script N(script_80247B48);
Script N(script_80247C24);
Script N(script_80247CD4);
Script N(script_80247D84);
Script N(script_80248AB4);
Script N(script_80248B28);
Script N(script_80248BA8);
Script N(script_80248BF4);
s32 unk_missing_80248C14[22];
s32 N(unk_80248C6C)[1];
s32 N(unk_80248C70)[1];
Script N(script_80248C74);
Script N(script_80248DB8);
Script N(script_80248E08);
Script N(script_80248E88);
Script N(script_802491AC);
Script N(script_8024921C);
s32 N(unk_80249514)[2];
Script N(script_8024951C);
Script N(script_8024956C);
s32 N(unk_802495F0)[2];
Script N(script_802495F8);
Script N(script_80249648);
Script N(script_Interact_802496CC);
Script N(script_Init_8024992C);
Script N(script_Interact_80249950);
Script N(script_Init_80249B3C);
Script N(script_Interact_80249B60);
Script N(script_Init_80249D4C);
Script N(script_Interact_80249D70);
Script N(script_Init_80249F5C);
Script N(script_Interact_80249F80);
Script N(script_Interact_8024A33C);
Script N(script_Init_8024A3C8);
Script N(script_Init_8024A3EC);
Script N(script_Interact_8024A410);
Script N(script_Init_8024A500);
Script N(script_Interact_8024A554);
Script N(script_Init_8024A7D0);
Script N(script_8024A7F4);
Script N(script_Idle_8024A83C);
Script N(script_NpcAI_8024A994);
Script N(script_Hit_8024AC94);
Script N(script_Init_8024ADBC);
Script N(script_Idle_8024AEA0);
Script N(script_Init_8024AF84);
Script N(script_Init_8024AFD4);
StaticNpc N(npcGroup_8024B02C)[8];
StaticNpc N(npcGroup_8024BFAC)[3];
StaticNpc N(npcGroup_8024C57C)[1];
StaticNpc N(npcGroup_8024C76C)[11];
NpcGroupList N(npcGroupList_8024DCBC);
s32 pad_00DCF8[2];
Script N(script_8024DD00);
Script N(script_8024DD20);
Script N(script_8024DD68);
Script N(script_MakeEntities);
s32 pad_00DEBC[1];
Script N(script_SearchBush_8024DEC0);
Script N(script_ShakeTree_8024E220);
Script N(script_Tree3_Callback);
Script N(script_8024EBB0);
s32 pad_00EC98[2];
Script N(script_8024ECA0);
Script N(script_8024F4F8);
Script N(script_8024F668);
s32 N(unk_8024F800)[30];
Script N(script_8024F878);
Script N(script_8024F934);
Script N(script_802501D4);
Script N(script_80250338);
Script N(script_80250638);
Script N(script_8025081C);
Script N(script_80250918);
Script N(script_80250B60);
Script N(script_80250C98);
Script N(script_80250E74);
Script N(script_802512AC);
Script N(script_8025136C);
s32 pad_0113A4[3];
const char D_802513B0_842BB0[8]; // "mac_02"
const char D_802513B8_842BB8[8]; // "mgm_00"
const char D_802513C0_842BC0[8]; // "iwa_11"
const char D_802513C8_842BC8[8]; // "mac_03"

// text: func_80240000_831800

// text: func_80240020_831820

// text: func_80240034_831834

// text: func_802400F0_8318F0

// text: func_802401D0_8319D0

// text: func_8024023C_831A3C

// text: func_802402E0_831AE0

s32 pad_00031C[] = {
    0x00000000,
};

// text: func_80240320_831B20

// text: func_802404B0_831CB0

// text: func_80240564_831D64

// text: func_802405C8_831DC8

// text: func_802405DC_831DDC

// text: func_802405EC_831DEC

// text: func_80240810_832010

// text: func_8024085C_83205C

// text: func_8024087C_83207C

// text: func_802408DC_8320DC

// text: func_80240A28_832228

// text: func_80240B9C_83239C

// text: func_80240C20_832420

// text: func_80240E38_832638

// text: func_80240EEC_8326EC

// text: func_80240F20_832720

// text: func_80240FA0_8327A0

// text: func_80240FB8_8327B8

// text: func_80240FD4_8327D4

// text: func_80240FEC_8327EC

// text: func_8024101C_83281C

// text: func_80241090_832890

// text: func_80241130_832930

// text: func_802412CC_832ACC

// text: func_80241330_832B30

// text: func_802413C0_832BC0

// text: func_802414A8_832CA8

// text: func_80241514_832D14

// text: func_80241544_832D44

// text: func_802415A0_832DA0

// text: func_80241770_832F70

// text: func_802417C4_832FC4

// text: func_802417FC_832FFC

// text: func_80241898_833098

// text: func_80241988_833188

// text: func_80241B14_833314

// text: func_80241B58_833358

// text: func_80241B84_833384

// text: func_80241BD8_8333D8

s32 pad_001CF4[] = {
    0x00000000, 0x00000000, 0x00000000,
};

// text: func_80241D00_833500

// text: func_80241D70_833570

s32 pad_001F3C[] = {
    0x00000000,
};

// text: func_80241F40_833740

// text: func_80241F6C_83376C

// text: func_80241F80_833780

// text: func_80241FA0_8337A0

// text: func_8024206C_83386C

// text: func_802421E8_8339E8

// text: func_80242384_833B84

// text: func_802424A0_833CA0

// text: func_802425A8_833DA8

// text: func_80242608_833E08

// text: func_80242694_833E94

// text: func_802427D0_833FD0

EntryList N(entryList) = {
    { 0.0f, 0.0f, -600.0f, 180.0f },
    { 590.0f, 30.0f, 100.0f, 270.0f },
    { -125.0f, 50.0f, -562.0f, 90.0f },
    { -415.0f, 20.0f, 92.0f, 350.0f },
};

MapConfig N(header) = {
    .main = N(main),
    .entryList = N(entryList),
    .entryCount = ENTRY_COUNT(N(entryList)),
    .background = &gBackgroundImage,
    .tattle = 0x190003,
};

Script N(script_802428F0) = SCRIPT({
    match SI_SAVE_VAR(0) {
    0xFFFFFFF3..5
        SetMusicTrack(0, 74, 0, 8);
        else {
            SetMusicTrack(0, 0, 0, 8);
        }
    }
});

s32 pad_002964[] = {
    0x00000000, 0x00000000, 0x00000000,
};

Script N(script_80242970) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    DisablePartnerAI(0);
    HidePlayerShadow(1);
    SetPlayerAnimation(0x10000);
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        EnableNpcShadow(0xFFFFFFFC, 0);
        SetNpcPos(0xFFFFFFFC, 0, 0xFFFFFC18, 0);
    }
    GetEntryID(SI_VAR(0));
    func_802400F0_8318F0();
    SI_VAR(2) -= 40;
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    InterpPlayerYaw(SI_VAR(4), 0);
    PlaySound(355);
    0x802D286C(256);
    0x802D2520(0x10000, 5, 2, 1, 1, 0);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    loop 40 {
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    sleep 3;
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        spawn {
            DisablePartnerAI(0);
            GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(2) -= 3;
            SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SetNpcFlagBits(0xFFFFFFFC, 2, 0);
            EnablePartnerAI();
            EnableNpcShadow(0xFFFFFFFC, 1);
        }
    }
    sleep 2;
    0x802D2520(0x10000, 0, 0, 0, 0, 0);
    sleep 1;
    SetPlayerAnimation(0x10002);
    DisablePlayerPhysics(0);
    DisablePlayerInput(0);
    HidePlayerShadow(0);
0:
    func_80240020_831820();
    sleep 1;
    if (SI_VAR(0) != -1) {
        goto 0;
    }
    spawn 0xFE363C8A;
});

Script N(script_80242CC4) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    ModifyColliderFlags(0, SI_VAR(11), 0x7FFFFE00);
    GetEntryID(SI_VAR(0));
    func_802400F0_8318F0();
    SI_VAR(5) = SI_VAR(1);
    SI_VAR(6) = SI_VAR(2);
    SI_VAR(7) = SI_VAR(3);
    SI_VAR(2) += 2;
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    InterpPlayerYaw(SI_VAR(4), 0);
    if (SI_VAR(4) == 90) {
        SI_VAR(5) += 40;
    } else {
        SI_VAR(5) -= 40;
    }
    UseSettingsFrom(0, SI_VAR(5), SI_VAR(6), SI_VAR(7));
    SetPanTarget(0, SI_VAR(5), SI_VAR(6), SI_VAR(7));
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        DisablePartnerAI(0);
        EnableNpcShadow(0xFFFFFFFC, 0);
        SetNpcPos(0xFFFFFFFC, 0, 0xFFFFFC18, 0);
        InterpNpcYaw(0xFFFFFFFC, SI_VAR(0), 0);
    }
    sleep 1;
    PlaySound(355);
    spawn {
        sleep 25;
        HidePlayerShadow(0);
    }
    0x802D286C(2304);
    0x802D2520(0x10002, 5, 3, 1, 1, 0);
    loop 40 {
        func_8024023C_831A3C(1.0);
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        spawn {
            GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(2) -= 3;
            SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            EnableNpcShadow(0xFFFFFFFC, 1);
            EnablePartnerAI();
        }
    }
    sleep 5;
    0x802D2520(0x10002, 0, 0, 0, 0, 0);
    ModifyColliderFlags(1, SI_VAR(11), 0x7FFFFE00);
    DisablePlayerInput(0);
    DisablePlayerPhysics(0);
    PanToTarget(0, 0, 0);
    spawn 0xFE363C8A;
});

Script N(script_802430B4) = SCRIPT({
    func_80240034_831834();
    if (SI_VAR(0) == 0) {
        return;
    }
    GetCurrentPartner(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        GetCurrentPartnerID(SI_VAR(1));
        if (SI_VAR(1) != 6) {
            return;
        } else {
            0x802D2B6C();
            DisablePlayerInput(1);
        }
    } else {
        DisablePlayerInput(1);
    }
    await N(script_80243190);
});

Script N(script_80243190) = SCRIPT({
    func_80240000_831800();
    group 27;
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_8318F0();
    PlayerMoveTo(SI_VAR(1), SI_VAR(3), 3);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_8318F0();
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    SetPlayerFlagBits(0x200000, 1);
    func_802401D0_8319D0();
    InterpPlayerYaw(SI_VAR(0), 0);
    sleep 2;
    SetPlayerFlagBits(0x200000, 0);
    PlaySound(355);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    spawn {
        sleep 4;
        loop 40 {
            SI_VAR(1) -= 1;
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
    }
    0x802D286C(2048);
    0x802D2520(0x10002, 5, 2, 1, 1, 0);
    sleep 25;
    await 0xFE363C8C;
});

Script N(script_8024336C) = SCRIPT({
    0x802D249C(SI_VAR(0));
    if (SI_VAR(0) == 0) {
        return;
    }
    GetPlayerActionState(SI_VAR(0));
    if (SI_VAR(0) == 26) {
        return;
    }
    GetCurrentPartner(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        GetCurrentPartnerID(SI_VAR(1));
        if (SI_VAR(1) != 6) {
            return;
        } else {
            0x802D2B6C();
            DisablePlayerInput(1);
        }
    } else {
        DisablePlayerInput(1);
    }
    group 27;
    func_80240000_831800();
    DisablePlayerPhysics(1);
    ModifyColliderFlags(0, SI_VAR(11), 0x7FFFFE00);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_8318F0();
    SI_VAR(5) = SI_VAR(1);
    SI_VAR(6) = SI_VAR(2);
    SI_VAR(6) += 2;
    SI_VAR(7) = SI_VAR(3);
    SI_VAR(8) = SI_VAR(4);
    SI_VAR(8) += 180;
    if (SI_VAR(4) >= 360) {
        SI_VAR(4) -= 360;
    }
    InterpPlayerYaw(SI_VAR(8), 1);
    sleep 1;
    PlaySound(355);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPlayerPos(SI_VAR(0), SI_VAR(6), SI_VAR(7));
    SetPlayerAnimation(0x10000);
    0x802D286C(2048);
    0x802D2520(0x10000, 5, 3, 1, 1, 0);
    spawn {
        sleep 8;
        HidePlayerShadow(1);
    }
    spawn {
        sleep 3;
        loop 40 {
            func_8024023C_831A3C(1.0);
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
    }
    sleep 25;
    await 0xFE363C8C;
});

Script N(script_ExitWalk_802436A0) = SCRIPT({
    group 27;
    UseExitHeading(60, 0);
    spawn ExitWalk;
    GotoMap(D_802513B0_842BB0, 3);
    sleep 100;
});

Script N(script_802436FC) = SCRIPT({
    GotoMap(D_802513B8_842BB8, 0);
    sleep 100;
});

Script N(script_8024372C) = SCRIPT({
    group 27;
    SI_VAR(10) = 2;
    SI_VAR(11) = 5;
    SI_VAR(12) = N(script_802436FC);
    await N(script_802430B4);
});

Script N(script_80243784) = SCRIPT({
    bind N(script_ExitWalk_802436A0) to 0x80000 2;
    bind N(script_8024372C) to TriggerFlag_FLOOR_TOUCH 5;
});

Script N(script_EnterWalk_802437CC) = SCRIPT({
    GetEntryID(SI_VAR(0));
    match SI_VAR(0) {
        == 0 {
            SI_VAR(0) = N(script_80243784);
            spawn EnterWalk;
        }
        == 1 {
            spawn N(script_802455F0);
            spawn N(script_80243784);
        }
        == 2 {
            SI_VAR(10) = N(script_80243784);
            spawn N(script_80242970);
        }
        == 3 {
        }
    }
});

Script N(script_80243880) = SCRIPT({
    if (SI_SAVE_FLAG(362) == 0) {
        ModifyColliderFlags(0, 4, 0x7FFFFE00);
        ModifyColliderFlags(0, 5, 0x7FFFFE00);
        EnableModel(22, 0);
    }
});

Script N(main) = SCRIPT({
    SI_SAVE_VAR(425) = 1;
    SetSpriteShading(-1);
    SetCamPerspective(0, 3, 25, 16, 4096);
    SetCamBGColor(0, 0, 0, 0);
    SetCamEnabled(0, 1);
    SetCamLeadPlayer(0, 0);
    SI_AREA_FLAG(32) = 0;
    SI_AREA_FLAG(33) = 0;
    SI_AREA_FLAG(34) = 0;
    SI_AREA_FLAG(35) = 0;
    SI_AREA_FLAG(36) = 0;
    SI_AREA_FLAG(37) = 0;
    MakeNpcs(0, N(npcGroupList_8024DCBC));
    spawn N(script_MakeEntities);
    spawn N(script_8024EBB0);
    GetDemoState(SI_VAR(0));
    if (SI_VAR(0) == 0) {
        spawn N(script_80250918);
    }
    await N(script_80246388);
    spawn {
        SI_VAR(15) = 0;
    10:
        SI_VAR(15) += 1;
        func_802402E0_831AE0();
        RotateModel(29, SI_VAR(0), 0, 0, -1);
        RotateModel(31, SI_VAR(1), 0, 0, -1);
        sleep 10;
        goto 10;
    }
    GetDemoState(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        await N(script_8025136C);
        return;
    }
    spawn N(script_802428F0);
    spawn N(script_80243880);
    spawn N(script_EnterWalk_802437CC);
    SI_SAVE_FLAG(263) = 0;
    sleep 1;
});

s32 pad_003B68[] = {
    0x00000000, 0x00000000,
};

Script N(script_80243B70) = SCRIPT({
    SI_VAR(15) = 0;
    loop 40 {
        SI_VAR(15) += 1;
        SI_VAR(1) = SI_VAR(15);
        func_80240320_831B20(SI_VAR(1), SI_VAR(0), 0, 105, 40, 1, 0);
        RotateModel(70, SI_VAR(0), 0, 1, 0);
        RotateModel(71, SI_VAR(0), 0, 1, 0);
        RotateModel(72, SI_VAR(0), 0, 1, 0);
        SI_VAR(1) = SI_VAR(15);
        func_80240320_831B20(SI_VAR(1), SI_VAR(0), 0, 75, 40, 1, 0);
        RotateModel(74, SI_VAR(0), 0, 1, 0);
        RotateModel(75, SI_VAR(0), 0, 1, 0);
        RotateModel(76, SI_VAR(0), 0, 1, 0);
        sleep 1;
    }
});

Script N(script_80243CF0) = SCRIPT({
    SI_VAR(15) = 0;
    loop 40 {
        SI_VAR(15) += 1;
        SI_VAR(1) = SI_VAR(15);
        func_80240320_831B20(SI_VAR(1), SI_VAR(0), 105, 0, 40, 1, 0);
        RotateModel(70, SI_VAR(0), 0, 1, 0);
        RotateModel(71, SI_VAR(0), 0, 1, 0);
        RotateModel(72, SI_VAR(0), 0, 1, 0);
        SI_VAR(1) = SI_VAR(15);
        func_80240320_831B20(SI_VAR(1), SI_VAR(0), 75, 0, 40, 1, 0);
        RotateModel(74, SI_VAR(0), 0, 1, 0);
        RotateModel(75, SI_VAR(0), 0, 1, 0);
        RotateModel(76, SI_VAR(0), 0, 1, 0);
        sleep 1;
    }
});

Script N(script_80243E70) = SCRIPT({
    PlaySoundAtModel(92, 0xB000001A, 0);
    SI_VAR(0) =f SI_MAP_VAR(0);
    if (SI_MAP_FLAG(5) == 0) {
        SI_VAR(0) +=f 0xFFFFFECA;
    } else {
        SI_VAR(0) +=f 0xFFFFFE3E;
    }
    SI_VAR(1) = 140;
    SI_VAR(2) = 0;
    SI_VAR(3) = 1.0;
    SI_VAR(4) = 3.0;
    SI_VAR(11) += 10000;
    EnableModel(SI_VAR(11), 1);
    loop 20 {
        TranslateModel(SI_VAR(11), SI_VAR(0), SI_VAR(1), SI_VAR(2));
        ScaleModel(SI_VAR(11), SI_VAR(3), SI_VAR(3), 1);
        SI_VAR(1) +=f SI_VAR(4);
        SI_VAR(3) += 0.046875;
        SI_VAR(4) *= 0.90625;
        sleep 1;
    }
    EnableModel(SI_VAR(11), 0);
});

Script N(script_80243FE8) = SCRIPT({
0:
    SI_VAR(0) = SI_MAP_VAR(0);
    TranslateModel(91, SI_VAR(0), 0, 0);
    TranslateModel(92, SI_VAR(0), 0, 0);
    TranslateModel(96, SI_VAR(0), 0, 0);
    TranslateModel(98, SI_VAR(0), 0, 0);
    TranslateModel(100, SI_VAR(0), 0, 0);
    TranslateModel(102, SI_VAR(0), 0, 0);
    TranslateModel(94, SI_VAR(0), 0, 0);
    TranslateModel(78, SI_VAR(0), 0, 0);
    TranslateModel(79, SI_VAR(0), 0, 0);
    TranslateModel(80, SI_VAR(0), 0, 0);
    TranslateModel(81, SI_VAR(0), 0, 0);
    TranslateModel(82, SI_VAR(0), 0, 0);
    TranslateModel(83, SI_VAR(0), 0, 0);
    TranslateModel(85, SI_VAR(0), 0, 0);
    TranslateModel(86, SI_VAR(0), 0, 0);
    TranslateModel(88, SI_VAR(0), 0, 0);
    TranslateModel(89, SI_VAR(0), 0, 0);
    TranslateModel(105, SI_VAR(0), 0, 0);
    TranslateModel(107, SI_VAR(0), 0, 0);
    TranslateModel(109, SI_VAR(0), 0, 0);
    if (SI_MAP_FLAG(5) == 1) {
        SI_VAR(0) = 180;
        TranslateModel(91, 0xFFFFFFBB, 0xFFFFFFCE, 0);
        TranslateModel(92, 0xFFFFFFBB, 0xFFFFFFCE, 0);
        TranslateModel(96, 75, 25, 2);
        TranslateModel(98, 30, 30, 2);
        TranslateModel(100, 0xFFFFFFF6, 30, 2);
        TranslateModel(102, 0xFFFFFFCE, 30, 2);
        TranslateModel(94, -1, 0xFFFFFFC6, 0);
        TranslateModel(85, 82, 0xFFFFFFED, 0xFFFFFFDD);
        TranslateModel(86, 82, 0xFFFFFFED, 0xFFFFFFDD);
        TranslateModel(88, 82, 0xFFFFFFED, 35);
        TranslateModel(89, 82, 0xFFFFFFED, 35);
        TranslateModel(105, 0xFFFFFFEB, 30, 0);
        TranslateModel(107, 0xFFFFFFE7, 30, 0);
        TranslateModel(109, 0xFFFFFFC1, 15, 0);
        RotateModel(91, SI_VAR(0), 0, 1, 0);
        RotateModel(92, SI_VAR(0), 0, 1, 0);
        RotateModel(96, SI_VAR(0), 0, 1, 0);
        RotateModel(98, SI_VAR(0), 0, 1, 0);
        RotateModel(100, SI_VAR(0), 0, 1, 0);
        RotateModel(102, SI_VAR(0), 0, 1, 0);
        RotateModel(94, SI_VAR(0), 0, 1, 0);
        RotateModel(78, SI_VAR(0), 0, 1, 0);
        RotateModel(79, SI_VAR(0), 0, 1, 0);
        RotateModel(80, SI_VAR(0), 0, 1, 0);
        RotateModel(81, SI_VAR(0), 0, 1, 0);
        RotateModel(82, SI_VAR(0), 0, 1, 0);
        RotateModel(83, SI_VAR(0), 0, 1, 0);
        RotateModel(85, SI_VAR(0), 0, 1, 0);
        RotateModel(86, SI_VAR(0), 0, 1, 0);
        RotateModel(88, SI_VAR(0), 0, 1, 0);
        RotateModel(89, SI_VAR(0), 0, 1, 0);
        RotateModel(105, SI_VAR(0), 0, 1, 0);
        RotateModel(107, SI_VAR(0), 0, 1, 0);
        RotateModel(109, SI_VAR(0), 0, 1, 0);
        TranslateModel(91, 69, 50, 0);
        TranslateModel(92, 69, 50, 0);
        TranslateModel(96, 0xFFFFFFB5, 0xFFFFFFE7, 0xFFFFFFFE);
        TranslateModel(98, 0xFFFFFFE2, 0xFFFFFFE2, 0xFFFFFFFE);
        TranslateModel(100, 10, 0xFFFFFFE2, 0xFFFFFFFE);
        TranslateModel(102, 50, 0xFFFFFFE2, 0xFFFFFFFE);
        TranslateModel(94, 1, 58, 0);
        TranslateModel(85, 0xFFFFFFAE, 19, 35);
        TranslateModel(86, 0xFFFFFFAE, 19, 35);
        TranslateModel(88, 0xFFFFFFAE, 19, 0xFFFFFFDD);
        TranslateModel(89, 0xFFFFFFAE, 19, 0xFFFFFFDD);
        TranslateModel(105, 21, 0xFFFFFFE2, 0);
        TranslateModel(107, 25, 0xFFFFFFE2, 0);
        TranslateModel(109, 63, 0xFFFFFFF1, 0);
    }
    if (SI_MAP_FLAG(5) == 0) {
        SI_VAR(2) = SI_MAP_VAR(0);
    } else {
        SI_VAR(2) = 1000;
        SI_VAR(2) -= SI_MAP_VAR(0);
    }
    SI_VAR(0) =f SI_VAR(2);
    SI_VAR(0) *= -2.40625;
    RotateModel(98, SI_VAR(0), 0, 0, 1);
    RotateModel(100, SI_VAR(0), 0, 0, 1);
    RotateModel(102, SI_VAR(0), 0, 0, 1);
    SI_VAR(0) *= 0.6005859375;
    RotateModel(96, SI_VAR(0), 0, 0, 1);
    func_80240320_831B20(SI_VAR(2), SI_VAR(0), 0, 0xFFFFFFEC, 75, 0, 0);
    func_80240320_831B20(SI_VAR(2), SI_VAR(1), 0xFFFFFFF6, 10, 75, 0, 0xFFFFFFA6);
    TranslateModel(105, SI_VAR(0), SI_VAR(1), 0);
    func_80240320_831B20(SI_VAR(2), SI_VAR(0), 0, 0xFFFFFFEC, 75, 0, 0);
    SI_VAR(0) += 5;
    TranslateModel(109, SI_VAR(0), 0xFFFFFFF2, 0);
    func_80240320_831B20(SI_VAR(2), SI_VAR(0), 0, 0xFFFFFFEC, 75, 0, 0);
    func_80240320_831B20(SI_VAR(2), SI_VAR(1), 0xFFFFFFF6, 10, 75, 0, 0xFFFFFFA6);
    TranslateModel(107, SI_VAR(0), SI_VAR(1), 0);
    func_80240320_831B20(SI_VAR(2), SI_VAR(0), 0xFFFFFFD8, 40, 75, 0, 90);
    RotateModel(107, SI_VAR(0), 0, 0, 1);
    func_80240320_831B20(SI_VAR(12), SI_VAR(0), -3.0, 3.0, 10, 0, 0);
    SI_VAR(0) *=f SI_MAP_VAR(1);
    RotateModel(94, SI_VAR(0), 0, 0, 1);
    if (SI_MAP_VAR(1) != 0) {
        if (SI_VAR(13) == 0) {
            spawn {
                sleep 18;
                spawn N(script_80243E70);
            }
        }
    }
    if (SI_VAR(13) <= 20) {
        func_80240320_831B20(SI_VAR(13), SI_VAR(0), 0.703125, 1.0, 10, 0, 180);
        func_80240320_831B20(SI_VAR(13), SI_VAR(2), 0.0, 0.296875, 10, 0, 180);
        SI_VAR(1) = 0.296875;
        SI_VAR(1) -=f SI_VAR(2);
        SI_VAR(1) += 1.0;
        ScaleModel(92, SI_VAR(1), SI_VAR(0), SI_VAR(1));
        ScaleModel(91, SI_VAR(1), SI_VAR(0), SI_VAR(1));
    } else {
        SI_VAR(0) = 1.0;
        SI_VAR(2) = 0.296875;
        SI_VAR(1) = 0.296875;
        SI_VAR(1) -=f SI_VAR(2);
        SI_VAR(1) += 1.0;
        ScaleModel(92, SI_VAR(1), SI_VAR(0), SI_VAR(1));
        ScaleModel(91, SI_VAR(1), SI_VAR(0), SI_VAR(1));
    }
    if (SI_MAP_FLAG(0) == 1) {
        PlaySoundAt(8357, 0, 0xFFFFFE4D, 84, 37);
        SI_VAR(8) = 10;
        SI_FLAG(1) = 1;
        SI_MAP_FLAG(0) = 0;
    }
    if (SI_MAP_FLAG(1) == 1) {
        SI_VAR(8) = 0xFFFFFFF6;
        SI_FLAG(1) = 1;
        SI_MAP_FLAG(1) = 0;
    }
    if (SI_MAP_FLAG(2) == 1) {
        PlaySoundAt(8357, 0, 0xFFFFFE63, 84, 38);
        SI_VAR(8) = 10;
        SI_FLAG(2) = 1;
        SI_MAP_FLAG(2) = 0;
    }
    if (SI_MAP_FLAG(3) == 1) {
        SI_VAR(8) = 0xFFFFFFF6;
        SI_FLAG(2) = 1;
        SI_MAP_FLAG(3) = 0;
    }
    if (SI_FLAG(1) == 1) {
        SI_VAR(9) += SI_VAR(8);
        if (SI_VAR(9) >= 90) {
            SI_VAR(9) = 90;
            SI_FLAG(1) = 0;
        }
        if (SI_VAR(9) <= 0) {
            SI_VAR(9) = 0;
            SI_FLAG(1) = 0;
            PlaySoundAt(8358, 0, 0xFFFFFE4D, 84, 37);
        }
    }
    if (SI_FLAG(2) == 1) {
        SI_VAR(10) += SI_VAR(8);
        if (SI_VAR(10) >= 90) {
            SI_VAR(10) = 90;
            SI_FLAG(2) = 0;
        }
        if (SI_VAR(10) <= 0) {
            SI_VAR(10) = 0;
            SI_FLAG(2) = 0;
            PlaySoundAt(8358, 0, 0xFFFFFE63, 84, 38);
        }
    }
    RotateModel(86, SI_VAR(9), 0, -1, 0);
    RotateModel(85, SI_VAR(9), 0, -1, 0);
    RotateModel(89, SI_VAR(10), 0, 1, 0);
    RotateModel(88, SI_VAR(10), 0, 1, 0);
    if (SI_MAP_VAR(0) > 100) {
        if (SI_MAP_VAR(0) < 600) {
            if (SI_FLAG(0) == 0) {
                SI_FLAG(0) = 1;
                spawn N(script_80243B70);
            }
        }
    }
    if (SI_MAP_VAR(0) <= 100) {
        if (SI_FLAG(0) == 1) {
            SI_FLAG(0) = 0;
            spawn N(script_80243CF0);
        }
    }
    if (SI_MAP_VAR(0) >= 600) {
        if (SI_FLAG(0) == 1) {
            SI_FLAG(0) = 0;
            spawn N(script_80243CF0);
        }
    }
    if (SI_MAP_FLAG(4) == 1) {
        if (SI_MAP_FLAG(5) == 0) {
            SI_VAR(0) = SI_MAP_VAR(0);
            SI_VAR(0) += 0xFFFFFE57;
            SI_VAR(1) += 75;
            SI_VAR(2) += 20;
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        } else {
            SI_VAR(0) = SI_MAP_VAR(0);
            SI_VAR(0) += 0xFFFFFEB1;
            SI_VAR(1) += 75;
            SI_VAR(2) += 20;
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        }
    }
    SI_MAP_VAR(0) += SI_MAP_VAR(1);
    SI_VAR(0) = SI_MAP_VAR(0);
    SI_VAR(0) /= 75;
    if (SI_VAR(0) != SI_VAR(14)) {
        SI_VAR(14) = SI_VAR(0);
        SI_VAR(13) = -1;
        SI_VAR(11) += 1;
        if (SI_VAR(11) == 10) {
            SI_VAR(11) = 0;
        }
    }
    SI_VAR(13) += 1;
    if (SI_VAR(13) > 1000) {
        SI_VAR(13) = 1000;
    }
    SI_VAR(12) += 1;
    if (SI_VAR(12) > 1000) {
        SI_VAR(12) = 0;
    }
    sleep 1;
    goto 0;
});

Script N(script_802452DC) = SCRIPT({
    SetNpcFlagBits(0xFFFFFFFC, 512, 0);
0:
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(0) = SI_MAP_VAR(0);
    if (SI_MAP_FLAG(5) == 0) {
        SI_VAR(0) += 0xFFFFFE57;
    } else {
        SI_VAR(0) += 0xFFFFFEB1;
    }
    SI_VAR(3) = SI_VAR(0);
    SI_VAR(4) = SI_VAR(1);
    SI_VAR(5) = SI_VAR(2);
    if (SI_MAP_FLAG(5) == 0) {
        SI_VAR(3) += 0xFFFFFFC7;
    } else {
        SI_VAR(3) += 57;
    }
    SI_VAR(4) += 0xFFFFFFE1;
    SI_VAR(5) += 0;
    SetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
    if (SI_MAP_FLAG(5) == 0) {
        SI_VAR(0) += 0;
    } else {
        SI_VAR(0) += 0;
    }
    SI_VAR(1) += 0xFFFFFFFA;
    SI_VAR(2) += 0xFFFFFFD8;
    SetNpcPos(1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    sleep 1;
    goto 0;
});

Script N(script_802454B8) = SCRIPT({
0:
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    if (SI_MAP_FLAG(5) == 0) {
        if (SI_VAR(0) > 350) {
            SI_VAR(0) = 350;
        }
        SI_VAR(0) += 40;
        SI_VAR(1) = 30;
        SI_VAR(2) += 40;
    } else {
        if (SI_VAR(0) > 350) {
            SI_VAR(0) = 350;
        }
        SI_VAR(0) += 0xFFFFFFD8;
        SI_VAR(1) = 30;
        SI_VAR(2) += 40;
    }
    SetCamTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    sleep 1;
    goto 0;
});

Script N(script_802455F0) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    DisablePartnerAI(0);
    SetNpcAnimation(0xFFFFFFFC, 262);
    SetPlayerActionState(0);
    InterpPlayerYaw(270, 0);
    InterpNpcYaw(0xFFFFFFFC, 270, 0);
    EnableNpcShadow(0xFFFFFFFC, 0);
    HidePlayerShadow(1);
    ModifyColliderFlags(0, 53, 0x7FFFFE00);
    ModifyColliderFlags(0, 50, 0x7FFFFE00);
    ModifyColliderFlags(0, 51, 0x7FFFFE00);
    ModifyColliderFlags(0, 52, 0x7FFFFE00);
    ModifyColliderFlags(0, 48, 0x7FFFFE00);
    ModifyColliderFlags(0, 49, 0x7FFFFE00);
    SetCamSpeed(0, 90.0);
    SI_VAR(9) = spawn N(script_802454B8);
    SI_VAR(14) = spawn N(script_802452DC);
    SI_MAP_FLAG(4) = 1;
    SI_MAP_VAR(0) = 1200;
    SI_MAP_VAR(1) = 0;
    SI_MAP_FLAG(5) = 1;
    sleep 60;
    SetCamSpeed(0, 1.0);
    SI_MAP_VAR(0) = 1200;
    SI_MAP_VAR(1) = 0xFFFFFFF6;
    SI_MAP_FLAG(5) = 1;
0:
    SI_MAP_VAR(1) =f 0xFFFFFFA6;
    SI_MAP_VAR(1) -=f SI_MAP_VAR(0);
    SI_MAP_VAR(1) -= 10.0;
    SI_MAP_VAR(1) /= 10.0;
    if (SI_MAP_VAR(1) < 0xFFFFFFF6) {
        SI_MAP_VAR(1) = 0xFFFFFFF6;
    }
    if (SI_MAP_VAR(0) <= 0xFFFFFFA6) {
        goto 1;
    }
    sleep 1;
    goto 0;
1:
    SI_MAP_VAR(0) = 0xFFFFFFA6;
    SI_MAP_VAR(1) = 0;
    PlaySound(509);
    kill SI_VAR(14);
    SI_MAP_FLAG(4) = 0;
    SetPlayerJumpscale(1.0);
    SI_VAR(0) = 0xFFFFFE57;
    SI_VAR(1) = 45;
    SI_VAR(2) = 20;
    SetPlayerActionState(3);
    PlayerJump(SI_VAR(0), SI_VAR(1), SI_VAR(2), 15);
    SetPlayerActionState(0);
    SetNpcFlagBits(0xFFFFFFFC, 320, 1);
    SetNpcSpeed(0xFFFFFFFC, 3.0);
    SetNpcAnimation(0xFFFFFFFC, 258);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(0) = 0xFFFFFE66;
    SI_VAR(1) = 45;
    SI_VAR(2) = 20;
    NpcMoveTo(0xFFFFFFFC, SI_VAR(0), SI_VAR(2), 0);
    SetNpcAnimation(0xFFFFFFFC, 262);
    kill SI_VAR(9);
    EnableNpcShadow(0xFFFFFFFC, 1);
    HidePlayerShadow(0);
    SI_MAP_FLAG(2) = 1;
    sleep 20;
    UseSettingsFrom(0, 0xFFFFFE5C, 20, 97);
    SetPanTarget(0, 0xFFFFFE5C, 20, 97);
    PanToTarget(0, 0, 1);
    SetPlayerJumpscale(1.0);
    SetPlayerActionState(3);
    PlayerJump(0xFFFFFE5C, 20, 97, 15);
    SetPlayerActionState(0);
    SetNpcJumpscale(0xFFFFFFFC, 1.0);
    NpcJump0(0xFFFFFFFC, 0xFFFFFE6A, 20, 71, 15);
    ModifyColliderFlags(1, 53, 0x7FFFFE00);
    ModifyColliderFlags(1, 50, 0x7FFFFE00);
    ModifyColliderFlags(1, 51, 0x7FFFFE00);
    ModifyColliderFlags(1, 52, 0x7FFFFE00);
    ModifyColliderFlags(1, 48, 0x7FFFFE00);
    ModifyColliderFlags(1, 49, 0x7FFFFE00);
    WaitForCam(0, 1.0);
    DisablePlayerPhysics(0);
    EnablePartnerAI();
    SI_MAP_FLAG(3) = 1;
    sleep 20;
    SpeakToPlayer(0, 0x8C0504, 0x8C0501, 0, 0x50005);
    SetNpcFlagBits(0xFFFFFFFC, 64, 0);
    PanToTarget(0, 0, 0);
    DisablePlayerInput(0);
});

Script N(script_80245C8C) = SCRIPT({
    if (SI_SAVE_FLAG(284) == 0) {
        return;
    }
    GetEntryID(SI_VAR(0));
    if (SI_VAR(0) == 1) {
        return;
    }
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    DisablePartnerAI(0);
    SetNpcAnimation(0xFFFFFFFC, 262);
    SI_MAP_VAR(0) = 0;
    SI_MAP_VAR(1) = 0;
    SI_MAP_FLAG(5) = 0;
    SI_MAP_FLAG(0) = 1;
    sleep 20;
    ModifyColliderFlags(0, 53, 0x7FFFFE00);
    ModifyColliderFlags(0, 50, 0x7FFFFE00);
    ModifyColliderFlags(0, 51, 0x7FFFFE00);
    ModifyColliderFlags(0, 52, 0x7FFFFE00);
    ModifyColliderFlags(0, 48, 0x7FFFFE00);
    ModifyColliderFlags(0, 49, 0x7FFFFE00);
    SetNpcFlagBits(0, 256, 1);
    SetPlayerSpeed(3.0);
    PlayerMoveTo(0xFFFFFE57, 70, 0);
    SetPlayerJumpscale(1.0);
    SI_VAR(0) = 0xFFFFFE57;
    SI_VAR(1) = 45;
    SI_VAR(2) = 20;
    SetPlayerActionState(3);
    PlayerJump(SI_VAR(0), SI_VAR(1), SI_VAR(2), 15);
    SetPlayerActionState(0);
    SetNpcFlagBits(0xFFFFFFFC, 512, 0);
    SetNpcSpeed(0xFFFFFFFC, 3.0);
    SetNpcAnimation(0xFFFFFFFC, 258);
    NpcMoveTo(0xFFFFFFFC, 0xFFFFFE57, 70, 0);
    SetNpcAnimation(0xFFFFFFFC, 262);
    SetNpcJumpscale(0xFFFFFFFC, 1.0);
    SI_VAR(0) = 0xFFFFFE57;
    SI_VAR(1) = 45;
    SI_VAR(2) = 20;
    NpcJump0(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2), 10);
    SI_MAP_FLAG(1) = 1;
    sleep 20;
    GetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(2) += 0xFFFFFFCE;
    SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    EnableNpcShadow(0xFFFFFFFC, 0);
    HidePlayerShadow(1);
    SetPlayerJumpscale(1.0);
    SI_VAR(0) = 0xFFFFFE57;
    SI_VAR(1) = 75;
    SI_VAR(2) = 20;
    SetPlayerActionState(3);
    PlayerJump(SI_VAR(0), SI_VAR(1), SI_VAR(2), 15);
    SetPlayerActionState(0);
    InterpPlayerYaw(90, 0);
    SI_MAP_FLAG(4) = 1;
    SetNpcSpeed(0xFFFFFFFC, 3.0);
    SetNpcAnimation(0xFFFFFFFC, 258);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(0) += 0xFFFFFFC7;
    SI_VAR(1) += 0xFFFFFFE1;
    SI_VAR(2) += 0;
    NpcMoveTo(0xFFFFFFFC, SI_VAR(0), SI_VAR(2), 0);
    SetNpcAnimation(0xFFFFFFFC, 262);
    InterpNpcYaw(0xFFFFFFFC, 90, 0);
    spawn N(script_802452DC);
    UseSettingsFrom(0, 0, 0, 0);
    SetCamDistance(0, 240.0);
    SetCamPosB(0, -100.0, -50.0);
    SetCamPitch(0, -2.5, -3.5);
    SetCamSpeed(0, 2.0);
    PanToTarget(0, 0, 1);
    sleep 1;
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(0) += 100;
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    SpeakToPlayer(1, 0x8C0004, 0x8C0000, 5, 0x50009);
    PlaySound(130);
    spawn {
        loop 1000 {
            SI_MAP_VAR(1) += 0.03125;
            if (SI_MAP_VAR(1) > 10) {
                SI_MAP_VAR(1) = 10.0;
            }
            sleep 1;
        }
    }
    sleep 40;
    PanToTarget(0, 0, 0);
    SI_VAR(9) = spawn N(script_802454B8);
    sleep 170;
    sleep 100;
    GotoMap(D_802513C0_842BC0, 0);
});

Script N(script_80246388) = SCRIPT({
    SetModelFlags(113, 256, 1);
    EnableModel(113, 0);
    CloneModel(113, 10000);
    CloneModel(113, 0x2711);
    CloneModel(113, 0x2712);
    CloneModel(113, 0x2713);
    CloneModel(113, 0x2714);
    CloneModel(113, 0x2715);
    CloneModel(113, 0x2716);
    CloneModel(113, 0x2717);
    CloneModel(113, 0x2718);
    CloneModel(113, 0x2719);
    spawn N(script_80243FE8);
    sleep 1;
});

s32 pad_0064A4[] = {
    0x00000000, 0x00000000, 0x00000000,
};

Script N(script_802464B0) = SCRIPT({

});

NpcSettings N(npcSettings_802464C0) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x20,
    .radius = 0x18,
    .otherAI = &N(script_802464B0),
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

NpcAISettings N(aISettings_802464EC) = {
    .moveSpeed = 1.5f,
    .moveTime = 0x3C,
    .waitTime = 0x1E,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_NpcAI_8024651C) = SCRIPT({
    DoBasicAI(N(aISettings_802464EC));
});

NpcSettings N(npcSettings_8024653C) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = &N(script_NpcAI_8024651C),
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

NpcSettings N(npcSettings_80246568) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x17,
    .radius = 0x13,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = &N(script_NpcAI_8024651C),
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

NpcSettings N(npcSettings_80246594) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x1E,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_802465C0[] = {
    0x00000000, 0x00170013, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630000,
};

NpcSettings N(npcSettings_802465EC) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x17,
    .radius = 0x16,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = 0x80077F70,
    .aux = NULL,
    .onDefeat = 0x8007809C,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0xE,
    .unk_2A = 0x1,
};

NpcSettings N(npcSettings_80246618) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x18,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 N(unk_80246644)[] = {
    0x00000000,
};

Script N(script_80246648) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 0);
    return;
});

Script N(script_80246678) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 16);
    return;
});

s32 N(quizAnswers)[] = {
    0x02010102, 0x02000200, 0x02010002, 0x01010002, 0x00020100, 0x00020100, 0x02010102, 0x02010101,
    0x00020202, 0x02000101, 0x02010201, 0x02000001, 0x01000102, 0x01000202, 0x01020002, 0x02010101,
};

s32 N(quizRequirements)[] = {
    0xFFFFFF94, 0x00000000, 0xFFFFFFB4, 0x0000000A, 0xFFFFFFCA, 0x00000014, 0xFFFFFFF2, 0x0000001E,
    0x00000006, 0x00000025, 0x00000027, 0x0000002C, 0x0000003A, 0x00000034, 0x00000058, 0x0000003C,
    0x00000060, 0x00000040, 0x00000000, 0x00000040,
};

Script N(script_80246738) = SCRIPT({
    func_80240FEC_8327EC();
    if (SI_VAR(0) <= 1) {
        GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 300;
        SetNpcJumpscale(-1, 1);
        SetNpcAnimation(-1, 0xAF000C);
        sleep 40;
        SetNpcPos(-1, 0, 0xFFFFFC18, 0);
    }
});

Script N(script_802467E8) = SCRIPT({
    func_80241090_832890(0, SI_ARRAY(0));
    func_8024101C_83281C(0, 25);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    UseSettingsFrom(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetCamType(0, SI_VAR(1), SI_VAR(2));
    SetCamType(0, SI_VAR(1), 0);
    GetCamDistance(0, SI_VAR(0));
    if (SI_VAR(0) > 0) {
        SI_VAR(0) = 370;
    } else {
        SI_VAR(0) =f 0xFFFFFE8E;
    }
    SetCamDistance(0, SI_VAR(0));
    GetCamPitch(0, SI_VAR(0), SI_VAR(1));
    SI_VAR(0) = 13.0;
    SI_VAR(1) = -10.0;
    SetCamPitch(0, SI_VAR(0), SI_VAR(1));
    PanToTarget(0, 0, 1);
    SetCamLeadPlayer(0, 0);
});

Script N(script_80246984) = SCRIPT({
    GetNpcPos(23, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(1) += 30;
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetCamDistance(0, SI_VAR(0));
    if (SI_VAR(0) > 0) {
        SI_VAR(0) = 17;
    } else {
        SI_VAR(0) =f 0xFFFFFFEF;
    }
    SetCamDistance(0, SI_VAR(0));
    SetCamSpeed(0, 90.0);
    WaitForCam(0, 1.0);
    SetCamSpeed(0, 1);
});

Script N(script_80246A80) = SCRIPT({
    func_8024101C_83281C(0, SI_ARRAY(0));
    PanToTarget(0, 0, 0);
});

Script N(script_80246ABC) = SCRIPT({
    sleep 20;
    func_80241130_832930(SI_ARRAY(1), SI_ARRAY(3), 83, SI_VAR(0), SI_VAR(1));
    spawn {
        SI_VAR(2) = 0;
        loop 60 {
            SI_VAR(3) =f SI_VAR(0);
            SI_VAR(4) =f SI_VAR(1);
            SI_VAR(3) *=f SI_VAR(2);
            SI_VAR(4) *=f SI_VAR(2);
            SI_VAR(3) /= 60;
            SI_VAR(4) /= 60;
            SI_VAR(3) +=f SI_ARRAY(1);
            SI_VAR(4) +=f SI_ARRAY(3);
            SetPlayerPos(SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
            SI_VAR(2) += 1;
            sleep 1;
        }
        SI_VAR(3) =f SI_VAR(0);
        SI_VAR(4) =f SI_VAR(1);
        SI_VAR(3) +=f SI_ARRAY(1);
        SI_VAR(4) +=f SI_ARRAY(3);
        SetPlayerPos(SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
    }
    func_802412CC_832ACC();
    0x802D2884(SI_ARRAY(1), SI_ARRAY(3), 0);
    SetPlayerAnimation(0x10002);
});

Script N(script_80246C6C) = SCRIPT({
    GetNpcPos(0xFFFFFFFC, SI_VAR(10), SI_VAR(11), SI_VAR(12));
    func_80241130_832930(SI_VAR(10), SI_VAR(12), 108, SI_VAR(0), SI_VAR(1));
    SI_VAR(5) =f SI_ARRAY(2);
    SI_VAR(5) -=f SI_VAR(11);
    spawn {
        func_802413C0_832BC0();
        SI_VAR(3) =f SI_VAR(0);
        SI_VAR(4) =f SI_VAR(1);
        SI_VAR(6) =f SI_VAR(5);
        SI_VAR(3) +=f SI_VAR(10);
        SI_VAR(4) +=f SI_VAR(12);
        SI_VAR(6) +=f SI_VAR(11);
        SetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(6), SI_VAR(4));
    }
    func_80241330_832B30();
    NpcFacePlayer(0xFFFFFFFC, 0);
    SetNpcAnimation(0xFFFFFFFC, 262);
});

Script N(script_80246DA4) = SCRIPT({
    GetNpcPos(23, SI_VAR(10), SI_VAR(11), SI_VAR(12));
    func_80241130_832930(SI_VAR(10), SI_VAR(12), 0xFFFFFFBA, SI_VAR(0), SI_VAR(1));
    spawn {
        SI_VAR(2) = 0;
        loop 60 {
            SI_VAR(3) =f SI_VAR(0);
            SI_VAR(4) =f SI_VAR(1);
            SI_VAR(3) *=f SI_VAR(2);
            SI_VAR(4) *=f SI_VAR(2);
            SI_VAR(3) /= 60;
            SI_VAR(4) /= 60;
            SI_VAR(3) +=f SI_VAR(10);
            SI_VAR(4) +=f SI_VAR(12);
            SetNpcPos(23, SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
            SI_VAR(2) += 1;
            sleep 1;
        }
    }
    sleep 60;
    NpcFacePlayer(23, 0);
    SetNpcAnimation(23, 0xAF0001);
});

Script N(script_80246F10) = SCRIPT({
    spawn N(script_80246ABC);
    spawn N(script_80246C6C);
    await N(script_80246DA4);
});

Script N(script_80246F44) = SCRIPT({
    loop {
        SetPlayerAnimation(0x10028);
        sleep 20;
    }
});

Script N(script_80246F84) = SCRIPT({
    SetPlayerAnimation(0x10016);
    sleep 15;
    SetPlayerAnimation(0x10002);
});

Script N(script_80246FC0) = SCRIPT({
    loop {
        SetPlayerAnimation(0x10002);
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
    }
    SetPlayerAnimation(0x10002);
    SetPlayerPos(SI_VAR(0), SI_ARRAY(2), SI_VAR(2));
    sleep 1;
});

Script N(script_80247B08) = SCRIPT({
    SetPlayerAnimation(0x10023);
    loop {
        sleep 1;
    }
});

Script N(script_80247B48) = SCRIPT({
    spawn {
        func_80241130_832930(SI_ARRAY(1), SI_ARRAY(3), 25, SI_VAR(0), SI_VAR(1));
        SI_VAR(2) =f SI_ARRAY(1);
        SI_VAR(2) +=f SI_VAR(0);
        SI_VAR(3) =f SI_ARRAY(3);
        SI_VAR(3) +=f SI_VAR(1);
        SetNpcAnimation(0xFFFFFFFC, 258);
        NpcMoveTo(0xFFFFFFFC, SI_VAR(2), SI_VAR(3), 40);
        SetNpcAnimation(0xFFFFFFFC, 262);
    }
    PlayerMoveTo(SI_ARRAY(1), SI_ARRAY(3), 40);
});

Script N(script_80247C24) = SCRIPT({
    SI_VAR(1) = spawn N(script_80246FC0);
    sleep 60;
    kill SI_VAR(1);
    loop 5 {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 2;
    }
    sleep 20;
    await N(script_80247B48);
});

Script N(script_80247CD4) = SCRIPT({
    SI_VAR(1) = spawn N(script_80247B08);
    sleep 60;
    loop 5 {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 2;
    }
    sleep 20;
    kill SI_VAR(1);
    await N(script_80247B48);
});

// Unable to use DSL: DSL does not support script opcode 0x55
// *INDENT-OFF*
Script N(script_80247D84) = {
    SI_CMD(ScriptOpcode_IF_GT, SI_SAVE_VAR(352), 63),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_ARRAY(1), SI_ARRAY(2), SI_ARRAY(3)),
    SI_CMD(ScriptOpcode_CALL, NpcFacePlayer, -1, 16),
    SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_VAR(352), 63),
        SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x8000A),
    SI_CMD(ScriptOpcode_ELSE),
        SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_FLAG(1767), 1),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80009),
        SI_CMD(ScriptOpcode_ELSE),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80008),
            SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1767), 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, ShowChoice, 0x1E000D),
    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, 0xAF0004, 0xAF0001, 0, 0x8000C),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80246738)),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1793), 1),
    SI_CMD(ScriptOpcode_CALL, func_802405C8_831DC8),
    SI_CMD(ScriptOpcode_CALL, func_802408DC_8320DC),
    SI_CMD(ScriptOpcode_SPAWN, N(script_802467E8)),
    SI_CMD(ScriptOpcode_CALL, DisablePartnerAI, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 0xFFFFFFFC, 512, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 23, 512, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 0xFFFFFFFC, 328, 1),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 23, 256, 1),
    SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0xFFFFFFFC, 262),
    SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_80246F10), SI_VAR(1)),
    SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, 0xAF0004, 0xAF0001, 0, 0x8000B),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 137),
    SI_CMD(ScriptOpcode_LOOP, 0),
        SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
        SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
            SI_CMD(ScriptOpcode_BREAK_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_CALL, func_80240C20_832420),
    SI_CMD(ScriptOpcode_LOOP, 5),
        SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 1),
        SI_CMD(ScriptOpcode_CALL, SetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 2),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0x2C0000),
    SI_CMD(ScriptOpcode_ADD, SI_VAR(0), SI_SAVE_VAR(352)),
    SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0005, 0xAF0006, 0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_CALL, SetPlayerAnimation, 0x10028),
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0x2D0000),
    SI_CMD(ScriptOpcode_ADD, SI_VAR(0), SI_SAVE_VAR(352)),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 142),
    SI_CMD(ScriptOpcode_CALL, ShowChoice, SI_VAR(0)),
    SI_CMD(ScriptOpcode_KILL_SCRIPT, SI_VAR(1)),
    SI_CMD(ScriptOpcode_CALL, StopSound, 142),
    SI_CMD(ScriptOpcode_SPAWN, N(script_80246F84)),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 141),
    SI_CMD(ScriptOpcode_CALL, func_80240F20_832720, SI_VAR(0)),
    SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 0),
    SI_CMD(ScriptOpcode_CALL, func_80241514_832D14),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 40),
    SI_CMD(ScriptOpcode_CALL, func_80240B9C_83239C),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 110),
        SI_CMD(ScriptOpcode_CALL, CloseChoice),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 0),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 23, 0xAF0007),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 1),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, func_80240EEC_8326EC, 1),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, func_80240EEC_8326EC, 2),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 138),
        SI_CMD(ScriptOpcode_CALL, func_80240FB8_8327B8),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 50),
            SI_CMD(ScriptOpcode_CALL, func_80241130_832930, 0, 0, 83, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 0xFFFFFFFD),
            SI_CMD(ScriptOpcode_CALL, func_80241130_832930, 0, 0, 58, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 30),
            SI_CMD(ScriptOpcode_CALL, func_80241130_832930, 0, 0, 93, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 20),
        SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_80247C24), SI_VAR(1)),
        SI_CMD(ScriptOpcode_ADD, SI_SAVE_VAR(352), 1),
        SI_CMD(ScriptOpcode_IF_GT, SI_SAVE_VAR(352), 63),
            SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x80010),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 23, 0xAF0006),
            SI_CMD(ScriptOpcode_LOOP, 0),
                SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                    SI_CMD(ScriptOpcode_BREAK_LOOP),
                SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 23, 0xAF0005),
            SI_CMD(ScriptOpcode_SET, SI_VAR(0), 348),
            SI_CMD(ScriptOpcode_SET, SI_VAR(1), 3),
            SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80246648)),
            SI_CMD(ScriptOpcode_CALL, AddStarPieces, 1),
            SI_CMD(ScriptOpcode_CALL, func_80240EEC_8326EC, 15),
            SI_CMD(ScriptOpcode_CALL, func_80240FA0_8327A0),
            SI_CMD(ScriptOpcode_CALL, SetMessageValue, SI_SAVE_VAR(352), 0),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80011),
        SI_CMD(ScriptOpcode_ELSE),
            SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x8000E),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 23, 0xAF0006),
            SI_CMD(ScriptOpcode_LOOP, 0),
                SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                    SI_CMD(ScriptOpcode_BREAK_LOOP),
                SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 23, 0xAF0005),
            SI_CMD(ScriptOpcode_SET, SI_VAR(0), 348),
            SI_CMD(ScriptOpcode_SET, SI_VAR(1), 1),
            SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80246648)),
            SI_CMD(ScriptOpcode_CALL, AddStarPieces, 1),
            SI_CMD(ScriptOpcode_CALL, func_80240EEC_8326EC, 15),
            SI_CMD(ScriptOpcode_CALL, func_80240FA0_8327A0),
            SI_CMD(ScriptOpcode_CALL, SetMessageValue, SI_SAVE_VAR(352), 0),
            SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_VAR(352), 1),
                SI_CMD(ScriptOpcode_CALL, SetMessageString, 0x8014C294, 1),
            SI_CMD(ScriptOpcode_ELSE),
                SI_CMD(ScriptOpcode_CALL, SetMessageString, 0x8014C290, 1),
            SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x8000F),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 1),
    SI_CMD(ScriptOpcode_ELSE),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 23, 0xAF0009),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 2),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 541),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 139),
        SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_80247CD4), SI_VAR(1)),
        SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(2), SI_VAR(3), SI_VAR(4)),
        SI_CMD(ScriptOpcode_CALL, PlayEffect, 43, 0, SI_VAR(2), SI_VAR(3), SI_VAR(4), 0, 0, 0, 0, 0, 0, 0, 0, 0),
        SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x8000D),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 23, 0xAF000A),
        SI_CMD(ScriptOpcode_LOOP, 0),
            SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
            SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                SI_CMD(ScriptOpcode_BREAK_LOOP),
            SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, func_80240F20_832720, -1),
    SI_CMD(ScriptOpcode_CALL, EnablePartnerAI),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 30),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 143),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 45),
        SI_CMD(ScriptOpcode_CALL, StopSound, 137),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_CALL, func_80240FD4_8327D4),
    SI_CMD(ScriptOpcode_CALL, func_80240E38_832638),
    SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80246738)),
    SI_CMD(ScriptOpcode_SPAWN, N(script_80246A80)),
    SI_CMD(ScriptOpcode_CALL, func_80240A28_832228),
    SI_CMD(ScriptOpcode_CALL, func_802405DC_831DDC),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1793), 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

Script N(script_80248AB4) = SCRIPT({
    func_802405EC_831DEC();
    if (SI_VAR(0) == 0) {
        return;
    }
    SetNpcFlagBits(-1, 0x1000000, 0);
    0x802CF208(-1, 0xAF0001);
    func_80240810_832010();
});

// Unable to use DSL: DSL does not support script opcode 0x3C
Script N(script_80248B28) = {
    SI_CMD(ScriptOpcode_USE_ARRAY, 0x802513D8),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1769), 1),
    SI_CMD(ScriptOpcode_CALL, DisablePlayerPhysics, 1),
    SI_CMD(ScriptOpcode_CALL, SetPlayerFlagBits, 0x400000, 1),
    SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80247D84)),
    SI_CMD(ScriptOpcode_CALL, DisablePlayerPhysics, 0),
    SI_CMD(ScriptOpcode_CALL, SetPlayerFlagBits, 0x400000, 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_80248BA8) = SCRIPT({
    func_8024085C_83205C();
});

NpcAISettings N(aISettings_80248BC4) = {
    .moveSpeed = 0.7f,
    .moveTime = 0x1E,
    .waitTime = 0x14,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_80248BF4) = SCRIPT({
    DoBasicAI(N(aISettings_80248BC4));
});

s32 unk_missing_80248C14[] = {
    0x00AF0001, 0x0023001C, N(script_80248AB4), N(script_80248B28), 0x00000000, 0x00000000, N(script_80248BA8), 0x00000000,
    0x00000D01, 0x00000000, 0x00630000, 0x00AF0001, 0x0023001C, N(script_80248AB4), N(script_80248B28), N(script_80248BF4),
    0x00000000, N(script_80248BA8), 0x00000000, 0x00000C01, 0x00000000, 0x00630010,
};

s32 N(unk_80248C6C)[] = {
    0x00000000,
};

s32 N(unk_80248C70)[] = {
    0x00000000,
};

Script N(script_80248C74) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            GetPlayerPos(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_802415A0_832DA0(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |=c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SetPlayerAnimation(0x60005);
            sleep 30;
            SetPlayerAnimation(0x10002);
            RemoveItemEntity(SI_VAR(0));
        }
    }
    func_802417C4_832FC4(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_80248DB8) = {
    SI_CMD(ScriptOpcode_CALL, func_802417FC_832FFC, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_80248C74), 0x10, 0, 0x80251400, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80241770_832F70, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_80248E08) = SCRIPT({
    loop {
        GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
        func_80241988_833188(SI_VAR(3), SI_VAR(4), SI_VAR(5));
        SetItemPos(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5));
        sleep 1;
    }
});

Script N(script_80248E88) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            DisablePartnerAI(0);
            GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80241988_833188(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |=c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SI_VAR(10) = spawn N(script_80248E08);
            SetNpcAnimation(0xFFFFFFFC, 0x40002);
            GetAngleBetweenNPCs(SI_VAR(9), 0xFFFFFFFC, SI_VAR(11));
            GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
            GetNpcPos(SI_VAR(9), SI_VAR(6), SI_VAR(7), SI_VAR(8));
            SetNpcFlagBits(0xFFFFFFFC, 256, 1);
            if (SI_VAR(11) <= 180) {
                SI_VAR(6) += 20;
            } else {
                SI_VAR(6) += 0xFFFFFFEC;
            }
            SI_VAR(7) += 10;
            SetNpcJumpscale(0xFFFFFFFC, 0.0);
            NpcJump1(0xFFFFFFFC, SI_VAR(6), SI_VAR(7), SI_VAR(8), 20);
            kill SI_VAR(10);
            RemoveItemEntity(SI_VAR(0));
            sleep 20;
            GetNpcYaw(0xFFFFFFFC, SI_VAR(10));
            SI_VAR(10) += 180;
            InterpNpcYaw(0xFFFFFFFC, SI_VAR(10), 0);
            sleep 5;
            NpcJump1(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5), 20);
            SetNpcAnimation(0xFFFFFFFC, 0x40001);
            NpcFaceNpc(0xFFFFFFFC, SI_VAR(9), 0);
            sleep 5;
            SetNpcFlagBits(0xFFFFFFFC, 256, 0);
            EnablePartnerAI();
            sleep 5;
        }
    }
    func_802417C4_832FC4(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_802491AC) = {
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), SI_VAR(11)),
    SI_CMD(ScriptOpcode_SET, SI_VAR(1), SI_VAR(2)),
    SI_CMD(ScriptOpcode_CALL, func_802417FC_832FFC, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_80248E88), 0x10, 0, 0x80251400, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80241770_832F70, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_8024921C) = SCRIPT({
    SI_VAR(12) = 0;
    if (SI_SAVE_VAR(0) < 0xFFFFFFBA) {
        return;
    }
    func_80241B14_833314();
    GetCurrentPartnerID(SI_VAR(0));
    FindKeyItem(SI_VAR(5), SI_VAR(1));
    if (SI_VAR(0) == 4) {
        if (SI_VAR(1) != -1) {
            DisablePartnerAI(0);
            PlayerFaceNpc(SI_VAR(2), 0);
            sleep 1;
            GetNpcPos(SI_VAR(2), SI_VAR(13), SI_VAR(0), SI_VAR(14));
            GetNpcPos(0xFFFFFFFC, SI_VAR(13), SI_VAR(14), SI_VAR(15));
            SetNpcJumpscale(0xFFFFFFFC, 0.0);
            SI_VAR(0) += 10;
            NpcJump1(0xFFFFFFFC, SI_VAR(13), SI_VAR(0), SI_VAR(15), 10);
            SpeakToNpc(0xFFFFFFFC, 0x40006, 0x40001, 0, SI_VAR(2), SI_VAR(7));
            EnablePartnerAI();
            await N(script_802491AC);
            match SI_VAR(0) {
                == -1 {
                    DisablePartnerAI(0);
                    sleep 1;
                    SpeakToPlayer(0xFFFFFFFC, 0x40006, 0x40001, 5, SI_VAR(8));
                    EnablePartnerAI();
                    SI_VAR(12) = 1;
                }
                else {
                    DisablePartnerAI(0);
                    sleep 1;
                    SpeakToPlayer(0xFFFFFFFC, 0x40006, 0x40001, 5, SI_VAR(9));
                    if (SI_VAR(10) != 0) {
                        SpeakToPlayer(SI_VAR(2), SI_VAR(3), SI_VAR(4), 0, SI_VAR(10));
                    }
                    EnablePartnerAI();
                    if (SI_VAR(6) != 0) {
                        SI_VAR(0) = SI_VAR(6);
                        SI_VAR(1) = 1;
                        await N(script_80246648);
                        AddKeyItem(SI_VAR(6));
                    }
                    SI_VAR(12) = 2;
                }
            }
        }
    }
    func_80241B58_833358();
});

s32 N(unk_80249514)[] = {
    0x0000004E, 0x00000000,
};

Script N(script_8024951C) = SCRIPT({
    func_80241898_833098(5, 0x860004, 0x860001, 78, 0, 0x50049, 0x5004A, 0x5004B, 0x5004C, N(unk_80249514));
    await N(script_8024921C);
});

Script N(script_8024956C) = SCRIPT({
    if (SI_VAR(12) == 2) {
        SpeakToPlayer(6, 0x860304, 0x860301, 0, 0x5004D);
        SI_VAR(0) = 79;
        SI_VAR(1) = 1;
        await N(script_80246648);
        AddKeyItem(79);
    }
});

s32 N(unk_802495F0)[] = {
    0x00000050, 0x00000000,
};

Script N(script_802495F8) = SCRIPT({
    func_80241898_833098(5, 0x860004, 0x860001, 80, 0, 0x5004E, 0x5004F, 0x50050, 0x50051, N(unk_802495F0));
    await N(script_8024921C);
});

Script N(script_80249648) = SCRIPT({
    if (SI_VAR(12) == 2) {
        SpeakToPlayer(6, 0x860304, 0x860301, 0, 0x50052);
        SI_VAR(1) = 1;
        SI_VAR(0) = 81;
        await N(script_80246648);
        AddKeyItem(81);
    }
});

Script N(script_Interact_802496CC) = SCRIPT({
    if (SI_SAVE_FLAG(284) == 0) {
        SpeakToPlayer(0, 0x8C0506, 0x8C0502, 0, 0x50000);
        return;
    }
    match SI_SAVE_VAR(0) {
    0xFFFFFFF3..5
        if (SI_SAVE_FLAG(287) == 0) {
            SpeakToPlayer(0, 0x8C0506, 0x8C0502, 0, 0x50007);
            return;
        }
    }
    GetEntryID(SI_VAR(0));
    if (SI_VAR(0) == 1) {
        SpeakToPlayer(0, 0x8C0504, 0x8C0501, 0, 0x50006);
        return;
    }
    if (SI_SAVE_FLAG(287) == 0) {
        if (SI_SAVE_FLAG(285) == 0) {
            SI_SAVE_FLAG(285) = 1;
            SI_VAR(0) = 0x50001;
        } else {
            SI_VAR(0) = 0x50002;
        }
    } else {
        if (SI_SAVE_FLAG(288) == 0) {
            SI_SAVE_FLAG(288) = 1;
            SI_VAR(0) = 0x50008;
        } else {
            SI_VAR(0) = 0x50002;
        }
    }
    SpeakToPlayer(0, 0x8C0504, 0x8C0501, 0, SI_VAR(0));
    ShowChoice(0x1E000C);
    if (SI_VAR(0) == 0) {
        ContinueSpeech(0, 0x8C0504, 0x8C0501, 0, 0x50003);
        spawn N(script_80245C8C);
    } else {
        ContinueSpeech(0, 0x8C0504, 0x8C0501, 0, 0x50004);
    }
});

Script N(script_Init_8024992C) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_802496CC));
});

Script N(script_Interact_80249950) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x5000A;
            } else {
                SI_VAR(0) = 0x5000B;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x5000C;
        }
        < 7 {
            if (SI_SAVE_FLAG(286) == 0) {
                SI_VAR(0) = 0x5000D;
            } else {
                if (SI_SAVE_FLAG(287) == 0) {
                    SI_VAR(0) = 0x5000E;
                } else {
                    SI_VAR(0) = 0x5000F;
                }
            }
        }
        < 10 {
            SI_VAR(0) = 0x50010;
        }
        < 39 {
            SI_VAR(0) = 0x50011;
        }
        < 43 {
            SI_VAR(0) = 0x50012;
        }
        < 57 {
            SI_VAR(0) = 0x50013;
        }
        < 61 {
            SI_VAR(0) = 0x50014;
        }
        < 89 {
            SI_VAR(0) = 0x50015;
        }
        < 96 {
            SI_VAR(0) = 0x50016;
        }
    }
    SpeakToPlayer(2, 0x830204, 0x830201, 0, SI_VAR(0));
});

Script N(script_Init_80249B3C) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80249950));
});

Script N(script_Interact_80249B60) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x50017;
            } else {
                SI_VAR(0) = 0x50018;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x50019;
        }
        < 7 {
            if (SI_SAVE_FLAG(286) == 0) {
                SI_VAR(0) = 0x5001A;
            } else {
                if (SI_SAVE_FLAG(287) == 0) {
                    SI_VAR(0) = 0x5001B;
                } else {
                    SI_VAR(0) = 0x5001C;
                }
            }
        }
        < 10 {
            SI_VAR(0) = 0x5001D;
        }
        < 39 {
            SI_VAR(0) = 0x5001E;
        }
        < 43 {
            SI_VAR(0) = 0x5001F;
        }
        < 57 {
            SI_VAR(0) = 0x50020;
        }
        < 61 {
            SI_VAR(0) = 0x50021;
        }
        < 89 {
            SI_VAR(0) = 0x50022;
        }
        < 96 {
            SI_VAR(0) = 0x50023;
        }
    }
    SpeakToPlayer(3, 0x840304, 0x840301, 0, SI_VAR(0));
});

Script N(script_Init_80249D4C) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80249B60));
});

Script N(script_Interact_80249D70) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x50024;
            } else {
                SI_VAR(0) = 0x50025;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x50026;
        }
        < 7 {
            if (SI_SAVE_FLAG(286) == 0) {
                SI_VAR(0) = 0x50027;
            } else {
                if (SI_SAVE_FLAG(287) == 0) {
                    SI_VAR(0) = 0x50028;
                } else {
                    SI_VAR(0) = 0x50029;
                }
            }
        }
        < 10 {
            SI_VAR(0) = 0x5002A;
        }
        < 39 {
            SI_VAR(0) = 0x5002B;
        }
        < 43 {
            SI_VAR(0) = 0x5002C;
        }
        < 57 {
            SI_VAR(0) = 0x5002D;
        }
        < 61 {
            SI_VAR(0) = 0x5002E;
        }
        < 89 {
            SI_VAR(0) = 0x5002F;
        }
        < 96 {
            SI_VAR(0) = 0x50030;
        }
    }
    SpeakToPlayer(4, 0x830104, 0x830101, 0, SI_VAR(0));
});

Script N(script_Init_80249F5C) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_80249D70));
});

Script N(script_Interact_80249F80) = SCRIPT({
    group 0;
    0x802D5830(2);
    EnableNpcAI(5, 0);
    EnableNpcAI(6, 0);
    GetNpcAnimation(5, SI_VAR(2));
    GetNpcAnimation(6, SI_VAR(3));
    SetNpcAnimation(5, 0x860001);
    SetNpcAnimation(6, 0x860301);
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFCB {
            if (SI_SAVE_FLAG(284) == 0) {
                SI_VAR(0) = 0x50031;
                SI_VAR(1) = 0x50032;
            } else {
                SI_VAR(0) = 0x50033;
                SI_VAR(1) = 0x50034;
            }
        }
        < 0xFFFFFFF1 {
            SI_VAR(0) = 0x50035;
            SI_VAR(1) = 0x50036;
        }
        < 7 {
            if (SI_SAVE_FLAG(286) == 0) {
            } else {
                if (SI_SAVE_FLAG(287) == 0) {
                    SI_VAR(0) = 0x50037;
                    SI_VAR(1) = 0x50038;
                } else {
                    SI_VAR(0) = 0x50039;
                    SI_VAR(1) = 0x5003A;
                }
            }
        }
        < 10 {
            SI_VAR(0) = 0x5003B;
            SI_VAR(1) = 0x5003C;
        }
        < 39 {
            SI_VAR(0) = 0x5003D;
            SI_VAR(1) = 0x5003E;
        }
        < 43 {
            SI_VAR(0) = 0x5003F;
            SI_VAR(1) = 0x50040;
        }
        < 57 {
            SI_VAR(0) = 0x50041;
            SI_VAR(1) = 0x50042;
        }
        < 61 {
            SI_VAR(0) = 0x50043;
            SI_VAR(1) = 0x50044;
        }
        < 89 {
            SI_VAR(0) = 0x50045;
            SI_VAR(1) = 0x50046;
        }
        < 96 {
            SI_VAR(0) = 0x50047;
            SI_VAR(1) = 0x50048;
        }
    }
    SpeakToPlayer(5, 0x860004, 0x860001, 0, SI_VAR(0));
    sleep 10;
    SpeakToPlayer(6, 0x860304, 0x860301, 0, SI_VAR(1));
    SetNpcAnimation(5, SI_VAR(2));
    SetNpcAnimation(6, SI_VAR(3));
    EnableNpcAI(5, 1);
    EnableNpcAI(6, 1);
    0x802D5830(0);
});

Script N(script_Interact_8024A33C) = SCRIPT({
    await N(script_Interact_80249F80);
    await N(script_8024951C);
    await N(script_8024956C);
    if (SI_VAR(12) != 0) {
        return;
    }
    await N(script_802495F8);
    await N(script_80249648);
    if (SI_VAR(12) != 0) {
        return;
    }
});

Script N(script_Init_8024A3C8) = SCRIPT({
    BindNpcInteract(5, N(script_Interact_8024A33C));
});

Script N(script_Init_8024A3EC) = SCRIPT({
    BindNpcInteract(6, N(script_Interact_80249F80));
});

Script N(script_Interact_8024A410) = SCRIPT({
    if (SI_SAVE_FLAG(284) == 0) {
        SI_VAR(0) = 0x50061;
        SI_VAR(1) = 0x50062;
        SI_VAR(2) = 0x50063;
    } else {
        SI_VAR(0) = 0x50064;
        SI_VAR(1) = 0x50065;
        SI_VAR(2) = 0x50066;
    }
    SpeakToPlayer(7, 0x840104, 0x840101, 0, SI_VAR(0));
    SpeakToPlayer(8, 0x840104, 0x840101, 0, SI_VAR(1));
    SpeakToPlayer(9, 0x840104, 0x840101, 0, SI_VAR(2));
});

Script N(script_Init_8024A500) = SCRIPT({
    if (SI_SAVE_VAR(0) < 0xFFFFFFBC) {
        BindNpcInteract(-1, N(script_Interact_8024A410));
    } else {
        RemoveNpc(-1);
    }
});

Script N(script_Interact_8024A554) = SCRIPT({
    if (SI_SAVE_VAR(29) == 0) {
        SpeakToPlayer(-1, 0x830004, 0x830001, 0, 0x50053);
        ShowChoice(0x1E000D);
        if (SI_VAR(0) == 0) {
            SI_VAR(0) = 0x50056;
        } else {
            SI_VAR(0) = 0x50055;
        }
        ContinueSpeech(-1, 0x830004, 0x830001, 0, SI_VAR(0));
        sleep 10;
        InterpNpcYaw(-1, 90, 0);
        SI_MAP_FLAG(8) = 1;
        return;
    }
    if (SI_MAP_FLAG(7) == 0) {
        SI_VAR(0) = 0x50054;
    } else {
        func_80241B84_833384();
        match SI_VAR(0) {
            == 9 {
                SI_VAR(0) = 0x50058;
            }
            == 8 {
                SI_VAR(0) = 0x50057;
            }
            == 0 {
                SI_VAR(0) = 0x50059;
            }
            == 1 {
                SI_VAR(0) = 0x5005A;
            }
            == 2 {
                SI_VAR(0) = 0x5005B;
            }
            == 3 {
                SI_VAR(0) = 0x5005C;
            }
            == 4 {
                SI_VAR(0) = 0x5005D;
            }
            == 5 {
                SI_VAR(0) = 0x5005E;
            }
            == 6 {
                SI_VAR(0) = 0x5005F;
            }
            == 7 {
                SI_VAR(0) = 0x50060;
            }
        }
    }
    SpeakToPlayer(-1, 0x830004, 0x830001, 16, SI_VAR(0));
});

Script N(script_Init_8024A7D0) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024A554));
});

Script N(script_8024A7F4) = SCRIPT({
    loop {
        PlaySoundAtNpc(-1, 0xB0000021, 0);
        sleep 2;
    }
});

Script N(script_Idle_8024A83C) = SCRIPT({
    SetNpcPos(-1, 0xFFFFFF9C, 0, 0xFFFFFFE7);
    InterpNpcYaw(-1, 270, 1);
    SetNpcAnimation(-1, 0x3B0003);
    SetNpcJumpscale(-1, 1.0);
    loop {
        NpcMoveTo(-1, 0xFFFFFF06, 0xFFFFFFE7, 30);
        InterpNpcYaw(-1, 90, 1);
        PlaySoundAtNpc(-1, 812, 0);
        NpcJump0(-1, 0xFFFFFF06, 0, 30, 15);
        NpcMoveTo(-1, 0xFFFFFF9C, 30, 30);
        InterpNpcYaw(-1, 270, 1);
        PlaySoundAtNpc(-1, 812, 0);
        NpcJump0(-1, 0xFFFFFF9C, 0, 0xFFFFFFE7, 15);
    }
});

Script N(script_NpcAI_8024A994) = SCRIPT({
    DisablePlayerInput(1);
    SetNpcAnimation(-1, 0x3B000C);
    GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    NpcJump0(-1, SI_VAR(0), 0, SI_VAR(2), 10);
    SetNpcSpeed(-1, 8.0);
    SetNpcAnimation(-1, 0x3B0003);
    InterpNpcYaw(-1, 90, 1);
    SI_VAR(10) = spawn N(script_8024A7F4);
    NpcMoveTo(-1, 0xFFFFFF9C, 0, 0);
    kill SI_VAR(10);
    0x802D7E08(-1, 1, 45, 1, 0, 0, 0, 0, 20);
    DisablePlayerInput(0);
    PlaySoundAtNpc(-1, 812, 0);
    NpcJump0(-1, 0xFFFFFFE2, 0, 0, 20);
    0x802D7E08(-1, 1, 45, 1, 0, 0, 0, 0, 20);
    PlaySoundAtNpc(-1, 8255, 0);
    SI_VAR(10) = spawn N(script_8024A7F4);
    SetNpcSpeed(-1, 8.0);
    NpcMoveTo(-1, 30, 0xFFFFFF38, 0);
    0x802D7E08(-1, 1, 0xFFFFFFD3, 1, 0, 0, 0, 0, 20);
    NpcMoveTo(-1, 0xFFFFFFE2, 0xFFFFFE70, 0);
    0x802D7E08(-1, 1, 45, 1, 0, 0, 0, 0, 20);
    NpcMoveTo(-1, 30, 0xFFFFFDA8, 0);
    0x802D7E08(-1, 1, 0xFFFFFFD3, 1, 0, 0, 0, 0, 20);
    NpcMoveTo(-1, 0, 0xFFFFFD76, 0);
    kill SI_VAR(10);
    SetNpcPos(-1, 0, 0xFFFFFC18, 0);
    sleep 200;
});

Script N(script_Hit_8024AC94) = SCRIPT({
    GetOwnerEncounterTrigger(SI_VAR(0));
    match SI_VAR(0) {
        == 4 {
            SI_VAR(1) = 1;
        }
        == 2 {
            SI_VAR(1) = 1;
        }
        == 6 {
            SI_VAR(1) = 1;
        }
        else {
            SI_VAR(1) = 0;
        }
    }
    if (SI_VAR(1) == 0) {
        return;
    }
    PlaySoundAtNpc(-1, 225, 0);
    PlaySoundAtNpc(-1, 8254, 0);
    SI_SAVE_FLAG(287) = 1;
    BindNpcAI(-1, N(script_NpcAI_8024A994));
    SetSelfEnemyFlagBits(0x1F000000, 1);
});

Script N(script_Init_8024ADBC) = SCRIPT({
    match SI_SAVE_VAR(0) {
    0xFFFFFFF3..5
        GetEntryID(SI_VAR(0));
        if (SI_VAR(0) == 1) {
            SI_SAVE_FLAG(286) = 1;
            SI_SAVE_FLAG(287) = 1;
        }
        if (SI_SAVE_FLAG(287) == 0) {
            SI_SAVE_FLAG(286) = 1;
            BindNpcIdle(-1, N(script_Idle_8024A83C));
            BindNpcHit(-1, N(script_Hit_8024AC94));
            return;
        }
    }
    RemoveNpc(-1);
});

Script N(script_Idle_8024AEA0) = SCRIPT({
    loop {
        match SI_SAVE_VAR(45) {
            == 1 {
                GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
                TranslateModel(130, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            }
            == 2 {
                GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
                GetNpcYaw(-1, SI_VAR(3));
                func_80241BD8_8333D8(10, SI_VAR(0), SI_VAR(1), SI_VAR(2), SI_VAR(3));
            }
        }
        sleep 1;
    }
});

Script N(script_Init_8024AF84) = SCRIPT({
    EnableNpcShadow(-1, 0);
    SetNpcFlagBits(-1, 2, 1);
    BindNpcIdle(-1, N(script_Idle_8024AEA0));
});

Script N(script_Init_8024AFD4) = SCRIPT({
    EnableNpcShadow(-1, 0);
    SetNpcFlagBits(-1, 2, 1);
    SetNpcPos(-1, 420, 20, 0xFFFFFF56);
});

StaticNpc N(npcGroup_8024B02C)[] = {
    {
        .id = 0,
        .settings = &N(npcSettings_802464C0),
        .pos = { -370.0, 20.0, 90.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024992C),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501, 0x008C0501,
        },
        .tattle = 0x1A003D,
    },
    {
        .id = 1,
        .settings = &N(npcSettings_802464C0),
        .pos = { -424.0, 74.0, 2.0 },
        .flags = 0x00002D09,
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x008C0001, 0x008C0003, 0x008C0001, 0x008C0001, 0x008C0001, 0x008C0001, 0x008C0001, 0x008C0001, 0x008C0001, 0x008C0001, 0x008C0001, 0x008C0001, 0x008C0001, 0x008C0001, 0x008C0001, 0x008C0001,
        },
        .tattle = 0x1A003D,
    },
    {
        .id = 2,
        .settings = &N(npcSettings_80246594),
        .pos = { -232.0, 10.0, 74.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_80249B3C),
        .yaw = 75,
        .dropFlags = 0x80,
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
        .tattle = 0x1A003E,
    },
    {
        .id = 3,
        .settings = &N(npcSettings_80246594),
        .pos = { 85.0, 0.0, 235.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_80249D4C),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00840301, 0x00840302, 0x00840303, 0x00840303, 0x00840301, 0x00840301, 0x00840306, 0x00840306, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303, 0x00840303,
        },
        .tattle = 0x1A003F,
    },
    {
        .id = 4,
        .settings = &N(npcSettings_80246594),
        .pos = { -255.0, 20.0, 400.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_80249F5C),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00830101, 0x00830102, 0x00830103, 0x00830103, 0x00830101, 0x00830101, 0x00830106, 0x00830106, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103, 0x00830103,
        },
        .tattle = 0x1A0040,
    },
    {
        .id = 5,
        .settings = &N(npcSettings_80246568),
        .pos = { 260.0, 20.0, 410.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024A3C8),
        .yaw = 90,
        .dropFlags = 0x80,
        .movement = { 0x00000104, 0x00000014, 0x0000019A, 0x00000028, 0x00000014, 0xFFFF8001, 0x00000001, 0x00000104, 0x00000014, 0x0000019A, 0x0000000A, 0x0000000A, 0x00000001, 0x00000001 },
        .animations = {
            0x00860001, 0x00860002, 0x00860003, 0x00860003, 0x00860001, 0x00860001, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000, 0x00860000,
        },
        .tattle = 0x1A0041,
    },
    {
        .id = 6,
        .settings = &N(npcSettings_80246568),
        .pos = { 320.0, 20.0, 410.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024A3EC),
        .yaw = 270,
        .dropFlags = 0x80,
        .movement = { 0x00000140, 0x00000014, 0x0000019A, 0x00000028, 0x00000014, 0xFFFF8001, 0x00000001, 0x00000140, 0x00000014, 0x0000019A, 0x0000000A, 0x0000000A, 0x00000001, 0x00000001 },
        .animations = {
            0x00860301, 0x00860302, 0x00860303, 0x00860303, 0x00860301, 0x00860301, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300, 0x00860300,
        },
        .tattle = 0x1A0042,
    },
    {
        .id = 10,
        .settings = &N(npcSettings_80246594),
        .pos = { 220.0, 20.0, -160.0 },
        .flags = 0x00402D09,
        .init = N(script_Init_8024A7D0),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00830001, 0x00830002, 0x00830003, 0x00830003, 0x00830001, 0x00830001, 0x00830006, 0x00830006, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003, 0x00830003,
        },
        .tattle = 0x1A0043,
    },
};

StaticNpc N(npcGroup_8024BFAC)[] = {
    {
        .id = 7,
        .settings = &N(npcSettings_80246594),
        .pos = { -130.0, 0.0, 220.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_8024A500),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x00840101, 0x00840102, 0x00840103, 0x00840103, 0x00840101, 0x00840101, 0x00840106, 0x00840106, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103,
        },
        .tattle = 0x1A0003,
    },
    {
        .id = 8,
        .settings = &N(npcSettings_80246594),
        .pos = { -100.0, 0.0, 220.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_8024A500),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00840101, 0x00840102, 0x00840103, 0x00840103, 0x00840101, 0x00840101, 0x00840106, 0x00840106, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103,
        },
        .tattle = 0x1A0004,
    },
    {
        .id = 9,
        .settings = &N(npcSettings_80246594),
        .pos = { -70.0, 0.0, 220.0 },
        .flags = 0x00002D01,
        .init = N(script_Init_8024A500),
        .yaw = 180,
        .dropFlags = 0x80,
        .animations = {
            0x00840101, 0x00840102, 0x00840103, 0x00840103, 0x00840101, 0x00840101, 0x00840106, 0x00840106, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103, 0x00840103,
        },
        .tattle = 0x1A0005,
    },
};

StaticNpc N(npcGroup_8024C57C)[] = {
    {
        .id = 11,
        .settings = &N(npcSettings_802465EC),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x01700F08,
        .init = N(script_Init_8024ADBC),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x003B0001, 0x003B0002, 0x003B0003, 0x003B0003, 0x003B0001, 0x003B0001, 0x003B000C, 0x003B000C, 0x003B0015, 0x003B0012, 0x003B0011, 0x003B0010, 0x003B0005, 0x003B0001, 0x003B0001, 0x003B0001,
        },
    },
};

StaticNpc N(npcGroup_8024C76C)[] = {
    {
        .id = 12,
        .settings = &N(npcSettings_8024653C),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00402F09,
        .init = N(script_Init_8024AFD4),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0xFFFF8001, 0x00000001, 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
    },
    {
        .id = 13,
        .settings = &N(npcSettings_8024653C),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00402F09,
        .init = N(script_Init_8024AFD4),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0xFFFF8001, 0x00000001, 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
    },
    {
        .id = 14,
        .settings = &N(npcSettings_8024653C),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00402F09,
        .init = N(script_Init_8024AFD4),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0xFFFF8001, 0x00000001, 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
    },
    {
        .id = 15,
        .settings = &N(npcSettings_8024653C),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00402F09,
        .init = N(script_Init_8024AFD4),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0xFFFF8001, 0x00000001, 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
    },
    {
        .id = 16,
        .settings = &N(npcSettings_8024653C),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00402F09,
        .init = N(script_Init_8024AFD4),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0xFFFF8001, 0x00000001, 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
    },
    {
        .id = 17,
        .settings = &N(npcSettings_8024653C),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00402F09,
        .init = N(script_Init_8024AFD4),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0xFFFF8001, 0x00000001, 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
    },
    {
        .id = 18,
        .settings = &N(npcSettings_8024653C),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00402F09,
        .init = N(script_Init_8024AFD4),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0xFFFF8001, 0x00000001, 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
    },
    {
        .id = 19,
        .settings = &N(npcSettings_8024653C),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00402F09,
        .init = N(script_Init_8024AFD4),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0xFFFF8001, 0x00000001, 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
    },
    {
        .id = 20,
        .settings = &N(npcSettings_8024653C),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00402F09,
        .init = N(script_Init_8024AFD4),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0xFFFF8001, 0x00000001, 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
    },
    {
        .id = 21,
        .settings = &N(npcSettings_8024653C),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00402F09,
        .init = N(script_Init_8024AFD4),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0xFFFF8001, 0x00000001, 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
    },
    {
        .id = 22,
        .settings = &N(npcSettings_80246618),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00402F09,
        .init = N(script_Init_8024AF84),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0xFFFF8001, 0x00000001, 0x000001AE, 0x00000014, 0xFFFFFF4C, 0x00000096, 0x00000046, 0x00000000, 0x00000001 },
        .animations = {
            0x00830201, 0x00830202, 0x00830203, 0x00830203, 0x00830201, 0x00830201, 0x00830206, 0x00830206, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203, 0x00830203,
        },
    },
};

NpcGroupList N(npcGroupList_8024DCBC) = {
    NPC_GROUP(N(npcGroup_8024B02C), 0x00000000),
    NPC_GROUP(N(npcGroup_8024BFAC), 0x00000000),
    NPC_GROUP(N(npcGroup_8024C57C), 0x00000000),
    NPC_GROUP(N(npcGroup_8024C76C), 0x00000000),
    {},
};

s32 pad_00DCF8[] = {
    0x00000000, 0x00000000,
};

Script N(script_8024DD00) = SCRIPT({
    SI_SAVE_FLAG(284) = 1;
});

Script N(script_8024DD20) = SCRIPT({
    DisablePlayerInput(1);
    ShowMessageAtScreenPos(0x1D0175, 160, 40);
    DisablePlayerInput(0);
});

Script N(script_8024DD68) = SCRIPT({
    DisablePlayerInput(1);
    ShowMessageAtScreenPos(0x1D0172, 160, 40);
    DisablePlayerInput(0);
});

Script N(script_MakeEntities) = SCRIPT({
    GetDemoState(SI_VAR(0));
    if (SI_VAR(0) == 0) {
        if (SI_SAVE_FLAG(284) == 0) {
            MakeEntity(0x802BCF00, 0xFFFFFF38, 0, 0, 0, 0x80000000);
            AssignScript(N(script_8024DD00));
        }
    }
    MakeEntity(0x802EAB04, 525, 0, 175, 0, 3, 0x80000000);
    AssignPanelFlag(SI_SAVE_FLAG(298));
    MakeEntity(0x802EAFDC, 185, 20, 0xFFFFFEA2, 0, 0x80000000);
    AssignScript(N(script_8024DD20));
    bind N(script_8024DD68) to TriggerFlag_WALL_INTERACT 6;
});

s32 pad_00DEBC[] = {
    0x00000000,
};

// Unable to use DSL: DSL does not support script opcode 0x30
// *INDENT-OFF*
Script N(script_SearchBush_8024DEC0) = {
    SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BUFFER_READ_4, SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4)),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(5), SI_VAR(15), SI_VAR(7)),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(1), 0),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_80241D70_833570, SI_VAR(3), SI_FIXED(0.1005859375), 1, SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(3), 339, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_80241D70_833570, SI_VAR(3), SI_FIXED(0.1005859375), -1, SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(3), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(2), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(5), SI_VAR(6), SI_VAR(7)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(10), 0),
                    SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(4), SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9)),
                SI_CMD(ScriptOpcode_ELSE),
                    SI_CMD(ScriptOpcode_CALL, GetValueByRef, SI_VAR(10), SI_VAR(11)),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(11), 0),
                        SI_CMD(ScriptOpcode_CALL, SetValueByRef, SI_VAR(10), 1),
                        SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(4), SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9)),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_IF_NE, SI_VAR(4), 0),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, 0xFE363C84),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

// Unable to use DSL: DSL does not support script opcode 0x4C
// *INDENT-OFF*
Script N(script_ShakeTree_8024E220) = {
    SI_CMD(ScriptOpcode_SET_TIMESCALE, SI_FIXED(2.0)),
    SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BUFFER_READ_4, SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4)),
    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(6), SI_VAR(15), SI_VAR(8)),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 357),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 358),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(1), 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_80241D70_833570, SI_VAR(3), SI_FIXED(0.1005859375), SI_FIXED(0.2001953125), SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(3), 358, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_80241D70_833570, SI_VAR(3), SI_FIXED(0.1005859375), SI_FIXED(-0.19921875), SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(3), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(2), 0),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                    SI_CMD(ScriptOpcode_CALL, func_80241D70_833570, SI_VAR(4), SI_FIXED(0.1005859375), SI_FIXED(0.2001953125), SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(4), 357, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                    SI_CMD(ScriptOpcode_CALL, func_80241D70_833570, SI_VAR(4), SI_FIXED(0.1005859375), SI_FIXED(-0.19921875), SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(4), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(3), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(3)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(4)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(6), SI_VAR(7), SI_VAR(8)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(9), SI_VAR(10), SI_VAR(11)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(11), 0),
                    SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                SI_CMD(ScriptOpcode_ELSE),
                    SI_CMD(ScriptOpcode_CALL, GetValueByRef, SI_VAR(11), SI_VAR(12)),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(12), 0),
                        SI_CMD(ScriptOpcode_CALL, SetValueByRef, SI_VAR(11), 1),
                        SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(4), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(4)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(5)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(6), SI_VAR(7), SI_VAR(8)),
                SI_CMD(ScriptOpcode_CALL, PlayEffect, 20, 0, SI_VAR(6), SI_VAR(7), SI_VAR(8), 100, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_IF_NE, SI_VAR(5), 0),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, 0xFE363C85),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

Script N(script_Tree3_Callback) = SCRIPT({
    if (SI_SAVE_FLAG(362) == 1) {
        return;
    }
    DisablePlayerInput(1);
    SI_SAVE_FLAG(362) = 1;
    sleep 10;
    UseSettingsFrom(0, 0xFFFFFF80, 20, 0xFFFFFDD5);
    SetPanTarget(0, 0xFFFFFF80, 20, 0xFFFFFDD5);
    SetCamDistance(0, 330.0);
    SetCamSpeed(0, 3);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    sleep 5;
    0x802D617C(8334, 0);
    EnableModel(22, 1);
    SI_VAR(0) = 0xFFFFFFE2;
    loop 30 {
        SI_VAR(0) += 1;
        TranslateModel(22, 0, SI_VAR(0), 0);
        sleep 1;
    }
    TranslateModel(22, 0, 0, 0);
    ModifyColliderFlags(1, 4, 0x7FFFFE00);
    ModifyColliderFlags(1, 5, 0x7FFFFE00);
    sleep 1;
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    UseSettingsFrom(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetCamDistance(0, 400.0);
    SetCamSpeed(0, 4.0);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    PanToTarget(0, 0, 0);
    DisablePlayerInput(0);
});

ModelIdList N(treeModelList_Tree1_Leaves) = {
    .count = 0x1,
    .modelIDs = { 0x44 },
};

ModelIdList N(treeModelList_Tree1_Trunk) = {
    .count = 0x1,
    .modelIDs = { 0x3F },
};

TreeEffectVectorList N(treeEffectVectors_Tree1) = {
    .count = 0x2,
    .vectors = { { 8.8e-44f, 1.4e-43f, nanf }, { 1.44e-43f, 1.4e-43f, nanf } },
};

ShakeTree N(shakeTreeEvent_Tree1) = {
    .leaves = &N(treeModelList_Tree1_Leaves),
    .trunk = &N(treeModelList_Tree1_Trunk),
    .drops = NULL,
    .effectVectors = &N(treeEffectVectors_Tree1),
    .callback = NULL,
};

Vec4f N(triggerCoord_8024EB00) =  { 79.0f, 20.0f, -504.0f, 0.0f };

ModelIdList N(treeModelList_Tree2_Leaves) = {
    .count = 0x1,
    .modelIDs = { 0x42 },
};

ModelIdList N(treeModelList_Tree2_Trunk) = {
    .count = 0x1,
    .modelIDs = { 0x40 },
};

TreeEffectVectorList N(treeEffectVectors_Tree2) = {
    .count = 0x2,
    .vectors = { { 7.54e-43f, 1.4e-43f, nanf }, { 8.1e-43f, 1.4e-43f, nanf } },
};

ShakeTree N(shakeTreeEvent_Tree2) = {
    .leaves = &N(treeModelList_Tree2_Leaves),
    .trunk = &N(treeModelList_Tree2_Trunk),
    .drops = NULL,
    .effectVectors = &N(treeEffectVectors_Tree2),
    .callback = NULL,
};

Vec4f N(triggerCoord_8024EB50) =  { 554.0f, 20.0f, -289.0f, 0.0f };

ModelIdList N(treeModelList_Tree3_Leaves) = {
    .count = 0x1,
    .modelIDs = { 0x43 },
};

ModelIdList N(treeModelList_Tree3_Trunk) = {
    .count = 0x1,
    .modelIDs = { 0x3E },
};

TreeEffectVectorList N(treeEffectVectors_Tree3) = {
    .count = 0x2,
    .vectors = { { nanf, 1.4e-43f, nanf }, { nanf, 1.12e-43f, nanf } },
};

ShakeTree N(shakeTreeEvent_Tree3) = {
    .leaves = &N(treeModelList_Tree3_Leaves),
    .trunk = &N(treeModelList_Tree3_Trunk),
    .drops = NULL,
    .effectVectors = &N(treeEffectVectors_Tree3),
    .callback = &N(script_Tree3_Callback),
};

Vec4f N(triggerCoord_8024EBA0) =  { 265.0f, 20.0f, -535.0f, 0.0f };

Script N(script_8024EBB0) = SCRIPT({
    SI_VAR(0) = N(shakeTreeEvent_Tree1);
    bind N(script_ShakeTree_8024E220) to TriggerFlag_WALL_HAMMER 41;
    bind N(script_ShakeTree_8024E220) to TriggerFlag_BOMB N(triggerCoord_8024EB00);
    SI_VAR(0) = N(shakeTreeEvent_Tree2);
    bind N(script_ShakeTree_8024E220) to TriggerFlag_WALL_HAMMER 40;
    bind N(script_ShakeTree_8024E220) to TriggerFlag_BOMB N(triggerCoord_8024EB50);
    SI_VAR(0) = N(shakeTreeEvent_Tree3);
    bind N(script_ShakeTree_8024E220) to TriggerFlag_WALL_HAMMER 43;
    bind N(script_ShakeTree_8024E220) to TriggerFlag_BOMB N(triggerCoord_8024EBA0);
});

s32 pad_00EC98[] = {
    0x00000000, 0x00000000,
};

Script N(script_8024ECA0) = SCRIPT({
    GetCurrentPartner(SI_VAR(0));
    if (SI_VAR(0) == 8) {
        return;
    }
    SI_VAR(0) = 0;
    loop 3 {
        RotateModel(126, 3, -1, 0, 0);
        sleep 1;
        RotateModel(126, 0xFFFFFFFD, -1, 0, 0);
        sleep 1;
    }
    if (SI_MAP_FLAG(6) == 0) {
        return;
    }
    if (SI_SAVE_VAR(45) != 0) {
        return;
    }
    func_80241F6C_83376C();
    if (SI_VAR(0) < 10) {
        PlaySound(541);
        return;
    }
    PlaySound(8331);
    DisablePlayerInput(1);
    group 0;
    0x802D5830(1);
    AddCoin(0xFFFFFFF6);
    sleep 20;
    func_80241F80_833780();
    SI_MAP_FLAG(6) = 0;
    UseSettingsFrom(0, 138, 25, 0xFFFFFE6A);
    SetPanTarget(0, 138, 25, 0xFFFFFE6A);
    SetCamPitch(0, 15, 0xFFFFFFF3);
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    sleep 10;
    spawn {
        PlaySoundAt(8359, 0, 111, 89, 0xFFFFFE9A);
        SI_VAR(0) = 0;
        loop 5 {
            SI_VAR(0) += 6;
            RotateModel(126, SI_VAR(0), 0, 0, -1);
            sleep 1;
        }
        loop 30 {
            SI_VAR(0) += 10;
            RotateModel(126, SI_VAR(0), 0, 0, -1);
            sleep 1;
        }
        loop 5 {
            SI_VAR(0) += 6;
            RotateModel(126, SI_VAR(0), 0, 0, -1);
            sleep 1;
        }
    }
    SI_VAR(0) = 1.0;
    loop 20 {
        SI_VAR(0) += 0.2001953125;
        ScaleModel(128, SI_VAR(0), SI_VAR(0), SI_VAR(0));
        sleep 1;
        SI_VAR(0) -= 0.2001953125;
        ScaleModel(128, SI_VAR(0), SI_VAR(0), SI_VAR(0));
        sleep 1;
    }
    SI_VAR(0) = 1.0;
    loop 10 {
        SI_VAR(0) -= 0.0400390625;
        ScaleModel(128, 1, SI_VAR(0), 1);
        sleep 1;
    }
    sleep 20;
    loop 10 {
        SI_VAR(0) += 0.080078125;
        ScaleModel(128, 1, SI_VAR(0), 1);
        sleep 1;
    }
    PlaySoundAt(8360, 0, 134, 132, 0xFFFFFE71);
    loop 5 {
        SI_VAR(0) -= 0.080078125;
        ScaleModel(128, 1, SI_VAR(0), 1);
        sleep 1;
    }
    PlaySoundAt(8341, 0, 170, 73, 0xFFFFFE3E);
    SI_SAVE_VAR(45) = 1;
    SetPanTarget(0, 230, 20, 0xFFFFFEF2);
    SetCamPitch(0, 15, 0xFFFFFFFA);
    SetCamSpeed(0, 3.0);
    WaitForCam(0, 1.0);
    EnableModel(130, 1);
    MakeLerp(0, 900, 30, 0);
    loop {
        UpdateLerp();
        SI_VAR(2) =f SI_VAR(0);
        SI_VAR(2) /= 10;
        func_80241FA0_8337A0();
        SetNpcPos(22, SI_VAR(2), SI_VAR(3), SI_VAR(4));
        sleep 1;
        if (SI_VAR(1) == 0) {
            break;
        }
    }
    loop 10 {
        SI_VAR(4) += 5;
        SetNpcPos(22, SI_VAR(2), SI_VAR(3), SI_VAR(4));
        sleep 1;
    }
    SetNpcJumpscale(22, 1);
    NpcJump0(22, SI_VAR(2), 63.0, 0xFFFFFEEF, 5);
    PlaySoundAtNpc(22, 8341, 0);
    GetNpcPos(22, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    NpcJump0(22, SI_VAR(0), SI_VAR(1), SI_VAR(2), 10);
    PlaySoundAtNpc(22, 8341, 0);
    NpcJump0(22, SI_VAR(0), SI_VAR(1), SI_VAR(2), 5);
    PlaySoundAtNpc(22, 8341, 0);
    ModifyColliderFlags(1, 69, 0x7FFFFE00);
    sleep 10;
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetCamSpeed(0, 90.0);
    WaitForCam(0, 1.0);
    PanToTarget(0, 0, 0);
    DisablePlayerInput(0);
    0x802D5830(0);
});

Script N(script_8024F4F8) = SCRIPT({
    group 0;
    SetNpcSpeed(10, 4.0);
    SetNpcAnimation(10, 0x830003);
    NpcMoveTo(10, 157, 0xFFFFFECA, 0);
    SetNpcAnimation(10, 0x830001);
    sleep 10;
    SpeakToPlayer(10, 0x830004, 0x830001, 0, 0x50053);
    ShowChoice(0x1E000D);
    if (SI_VAR(0) == 0) {
        SI_VAR(0) = 0x50056;
    } else {
        SI_VAR(0) = 0x50055;
    }
    ContinueSpeech(10, 0x830004, 0x830001, 0, SI_VAR(0));
    sleep 10;
    SI_MAP_FLAG(8) = 1;
    SetNpcAnimation(10, 0x830003);
    NpcMoveTo(10, 220, 0xFFFFFF60, 0);
    SetNpcAnimation(10, 0x830001);
});

Script N(script_8024F668) = SCRIPT({
    DisablePlayerInput(1);
    if (SI_MAP_FLAG(8) == 0) {
        spawn N(script_8024F4F8);
        GetCurrentPartner(SI_VAR(0));
        if (SI_VAR(0) != 0) {
            0x802D2B6C();
            sleep 10;
        }
        PlayerMoveTo(95, 0xFFFFFE93, 10);
    }
    loop {
        if (SI_MAP_FLAG(8) != 0) {
            break;
        }
        sleep 1;
    }
    ShowCoinCounter(1);
    SI_MAP_FLAG(6) = 1;
    DisablePlayerInput(0);
0:
    sleep 1;
    func_80241F40_833740(SI_VAR(0));
    if (SI_VAR(0) == 59) {
        goto 0;
    }
    if (SI_VAR(0) == -1) {
        goto 0;
    }
    func_80241F80_833780();
    SI_MAP_FLAG(6) = 0;
});

s32 N(unk_8024F800)[] = {
    0x0000008D, 0x00000001, 0x00000064, 0x0000008C, 0x00000001, 0x00000064, 0x00000080, 0x00000001,
    0x00000064, 0x00000082, 0x00000001, 0x00000064, 0x00000095, 0x00000001, 0x00000064, 0x000000A3,
    0x00000001, 0x00000064, 0x00000083, 0x00000001, 0x00000064, 0x00000097, 0x00000001, 0x00000064,
    0x000000A2, 0x00000001, 0x00000064, 0x0000008E, 0x00000001, 0x00000064,
};

Script N(script_8024F878) = SCRIPT({
    func_802427D0_833FD0(SI_VAR(4), SI_VAR(5), SI_VAR(6));
    RandInt(100, SI_VAR(7));
    if (SI_VAR(7) > SI_VAR(6)) {
        return;
    }
    GetNpcPos(12, SI_VAR(1), SI_VAR(2), SI_VAR(3));
    loop SI_VAR(5) {
        MakeItemEntity(SI_VAR(4), SI_VAR(1), SI_VAR(2), SI_VAR(3), 3, 0);
        sleep 1;
    }
});

Script N(script_8024F934) = SCRIPT({
    func_80241F40_833740(SI_VAR(0));
    if (SI_VAR(0) != 60) {
        return;
    }
    DisablePlayerInput(1);
    group 0;
    0x802D5830(1);
    SI_MAP_FLAG(7) = 1;
    SI_VAR(0) = 1.0;
    loop 5 {
        SI_VAR(0) -= 0.0302734375;
        ScaleModel(130, 1, SI_VAR(0), 1);
        sleep 1;
    }
    loop 5 {
        SI_VAR(0) += 0.0302734375;
        ScaleModel(130, 1, SI_VAR(0), 1);
        sleep 1;
    }
    GetNpcPos(22, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(1) -= 10;
    PlayEffect(1, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 1, 1, 1, 0, 0, 0, 0, 0, 0);
    EnableModel(130, 0);
    ModifyColliderFlags(0, 69, 0x7FFFFE00);
    SI_SAVE_VAR(45) = 2;
    SetNpcPos(22, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetNpcYaw(22, 90);
    EnableNpcShadow(22, 1);
    RandInt(100, SI_VAR(3));
    match SI_VAR(3) {
        < 3 {
            SI_VAR(3) = 9;
        }
        < 12 {
            SI_VAR(3) = 8;
        }
        < 19 {
            SI_VAR(3) = 4;
        }
        < 26 {
            SI_VAR(3) = 5;
        }
        < 33 {
            SI_VAR(3) = 6;
        }
        < 40 {
            SI_VAR(3) = 7;
        }
        < 55 {
            SI_VAR(3) = 0;
        }
        < 70 {
            SI_VAR(3) = 1;
        }
        < 85 {
            SI_VAR(3) = 2;
        }
        else {
            SI_VAR(3) = 3;
        }
    }
    PlaySoundAtNpc(22, 327, 0);
    func_802421E8_8339E8(10, SI_VAR(3), SI_VAR(0), SI_VAR(1), SI_VAR(2), 90);
    sleep 10;
    if (SI_SAVE_VAR(29) >= 10) {
        SI_VAR(10) = SI_VAR(3);
        GetNpcPos(12, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        UseSettingsFrom(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SetCamSpeed(0, 90.0);
        PanToTarget(0, 0, 1);
        sleep 10;
        EnableNpcAI(12, 0);
        NpcFaceNpc(12, 22, 0);
        sleep 10;
        NpcJump0(12, SI_VAR(0), SI_VAR(1), SI_VAR(2), 15);
        spawn N(script_8024F878);
        PlaySoundAtNpc(12, 350, 0);
        SetNpcSpeed(12, 4);
        NpcMoveTo(12, 580, 0xFFFFFF56, 0);
        NpcJump0(12, 620, 20, 0xFFFFFF56, 15);
        EnableNpcShadow(12, 0);
        SetNpcSpeed(12, 1);
        EnableNpcAI(12, 1);
        func_80242694_833E94();
        SI_VAR(0) = 0;
        SI_VAR(1) = 12;
        SI_VAR(6) = SI_SAVE_VAR(29);
        loop SI_VAR(6) {
            func_802424A0_833CA0(SI_VAR(0), SI_VAR(2), SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SetNpcPos(SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4));
            SetNpcYaw(SI_VAR(1), SI_VAR(5));
            SI_VAR(0) += 1;
            SI_VAR(1) += 1;
        }
        SI_VAR(3) = SI_VAR(10);
    }
    UseSettingsFrom(0, 360, 20, 0xFFFFFF5B);
    SetPanTarget(0, 360, 20, 0xFFFFFF5B);
    SetCamSpeed(0, 3);
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    sleep 10;
    func_80242608_833E08(10, 2);
    SetNpcJumpscale(22, 1.0);
    NpcJump0(22, 330, 20, 0xFFFFFF24, 20);
    SetNpcSpeed(22, 4.0);
    NpcMoveTo(22, 360, 0xFFFFFF4C, 0);
    SI_SAVE_VAR(45) = 0;
    EnableNpcShadow(22, 0);
    func_802424A0_833CA0(10, SI_VAR(0), SI_VAR(1), SI_VAR(2), SI_VAR(4));
    func_802425A8_833DA8(10);
    SI_VAR(5) = 12;
    SI_VAR(5) += SI_SAVE_VAR(29);
    SetNpcPos(SI_VAR(5), SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetNpcYaw(SI_VAR(5), SI_VAR(4));
    EnableNpcShadow(SI_VAR(5), 1);
    func_802421E8_8339E8(SI_SAVE_VAR(29), SI_VAR(3), SI_VAR(0), SI_VAR(1), SI_VAR(2), SI_VAR(4));
    SI_SAVE_VAR(29) += 1;
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetCamSpeed(0, 3.0);
    WaitForCam(0, 1.0);
    PanToTarget(0, 0, 0);
    DisablePlayerInput(0);
    0x802D5830(0);
});

Script N(script_802501D4) = SCRIPT({
    SI_VAR(1) = 12;
    SI_VAR(1) += SI_VAR(0);
    EnableNpcAI(SI_VAR(1), 0);
    NpcFacePlayer(SI_VAR(1), 0);
    sleep 10;
    GetNpcPos(SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4));
    NpcJump0(SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4), 10);
    PlaySoundAtNpc(SI_VAR(1), 350, 0);
    SetNpcSpeed(SI_VAR(1), 8);
    NpcMoveTo(SI_VAR(1), 580, SI_VAR(4), 0);
    NpcJump0(SI_VAR(1), 620, 20, SI_VAR(4), 15);
    EnableNpcShadow(SI_VAR(1), 0);
    SetNpcSpeed(SI_VAR(1), 1);
    EnableNpcAI(SI_VAR(1), 1);
    func_802425A8_833DA8(SI_VAR(0));
    SI_SAVE_VAR(29) -= 1;
});

Script N(script_80250338) = SCRIPT({
    DisablePlayerInput(1);
    0x802D2C14(1);
    group 0;
    0x802D5830(1);
    ModifyColliderFlags(0, 73, 0x7FFFFE00);
    PlaySoundAtCollider(73, 449, 0);
    MakeLerp(0, 80, 10, 0);
    loop {
        UpdateLerp();
        RotateModel(132, SI_VAR(0), 0, 1, 0);
        sleep 1;
        if (SI_VAR(1) == 0) {
            break;
        }
    }
    PlayerMoveTo(370, 0xFFFFFF30, 15);
    MakeLerp(80, 0, 10, 0);
    loop {
        UpdateLerp();
        RotateModel(132, SI_VAR(0), 0, 1, 0);
        sleep 1;
        if (SI_VAR(1) == 0) {
            break;
        }
    }
    PlaySoundAtCollider(73, 450, 0);
    ModifyColliderFlags(1, 73, 0x7FFFFE00);
    0x802D5830(0);
    0x802D2C14(0);
    DisablePlayerInput(0);
    if (SI_SAVE_VAR(29) == 0) {
        return;
    }
    DisablePlayerInput(1);
    0x802D5830(1);
    SI_VAR(0) = SI_SAVE_VAR(29);
    SI_VAR(6) = SI_SAVE_VAR(29);
    loop SI_VAR(6) {
        SI_VAR(0) += -1;
        spawn N(script_802501D4);
        sleep 5;
    }
    loop {
        if (SI_SAVE_VAR(29) == 0) {
            break;
        }
        sleep 1;
    }
    0x802D5830(0);
    DisablePlayerInput(0);
});

Script N(script_80250638) = SCRIPT({
    group 0;
    DisablePlayerInput(1);
    0x802D2C14(1);
    ModifyColliderFlags(0, 72, 0x7FFFFE00);
    PlaySoundAtCollider(72, 449, 0);
    MakeLerp(0, 80, 10, 0);
    loop {
        UpdateLerp();
        RotateModel(132, SI_VAR(0), 0, -1, 0);
        sleep 1;
        if (SI_VAR(1) == 0) {
            break;
        }
    }
    PlayerMoveTo(370, 0xFFFFFEB8, 15);
    MakeLerp(80, 0, 10, 0);
    loop {
        UpdateLerp();
        RotateModel(132, SI_VAR(0), 0, -1, 0);
        sleep 1;
        if (SI_VAR(1) == 0) {
            break;
        }
    }
    PlaySoundAtCollider(72, 450, 0);
    ModifyColliderFlags(1, 72, 0x7FFFFE00);
    0x802D2C14(0);
    DisablePlayerInput(0);
});

Script N(script_8025081C) = SCRIPT({
    loop {
        if (SI_SAVE_VAR(29) != 0) {
            SI_VAR(0) = 0;
            SI_VAR(1) = 12;
            SI_VAR(6) = SI_SAVE_VAR(29);
            loop SI_VAR(6) {
                GetNpcPos(SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4));
                GetNpcYaw(SI_VAR(1), SI_VAR(5));
                func_80242384_833B84(SI_VAR(0), SI_VAR(2), SI_VAR(3), SI_VAR(4), SI_VAR(5));
                SI_VAR(0) += 1;
                SI_VAR(1) += 1;
            }
        }
        sleep 1;
    }
});

Script N(script_80250918) = SCRIPT({
    if (SI_SAVE_VAR(45) == 1) {
        SetNpcPos(22, 277, 63.0, 0xFFFFFEEF);
    } else {
        EnableModel(130, 0);
        ModifyColliderFlags(0, 69, 0x7FFFFE00);
    }
    SI_MAP_FLAG(6) = 0;
    SI_MAP_FLAG(7) = 0;
    if (SI_SAVE_VAR(29) == 0) {
        SI_MAP_FLAG(8) = 0;
    } else {
        SI_MAP_FLAG(8) = 1;
    }
    func_8024206C_83386C();
    if (SI_SAVE_VAR(29) != 0) {
        SI_VAR(0) = 0;
        SI_VAR(1) = 12;
        SI_VAR(6) = SI_SAVE_VAR(29);
        loop SI_VAR(6) {
            func_802424A0_833CA0(SI_VAR(0), SI_VAR(2), SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SetNpcPos(SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4));
            SetNpcYaw(SI_VAR(1), SI_VAR(5));
            SI_VAR(0) += 1;
            SI_VAR(1) += 1;
        }
    }
    spawn N(script_8025081C);
    bind N(script_8024F668) to TriggerFlag_FLOOR_TOUCH 59;
    bind N(script_8024ECA0) to TriggerFlag_CEILING_TOUCH 58;
    bind N(script_8024F934) to TriggerFlag_WALL_HAMMER 69;
    bind N(script_80250338) to TriggerFlag_WALL_INTERACT 73;
    bind N(script_80250638) to TriggerFlag_WALL_INTERACT 72;
});

Script N(script_80250B60) = SCRIPT({
0:
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    if (SI_MAP_FLAG(5) == 0) {
        if (SI_VAR(0) > 350) {
            SI_VAR(0) = 350;
        }
        SI_VAR(0) += 40;
        SI_VAR(1) = 30;
        SI_VAR(2) += 40;
    } else {
        if (SI_VAR(0) > 350) {
            SI_VAR(0) = 350;
        }
        SI_VAR(0) += 0xFFFFFFD8;
        SI_VAR(1) = 30;
        SI_VAR(2) += 40;
    }
    SetCamTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    sleep 1;
    goto 0;
});

Script N(script_80250C98) = SCRIPT({
    SetNpcFlagBits(0xFFFFFFFC, 512, 0);
0:
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(0) = SI_MAP_VAR(0);
    if (SI_MAP_FLAG(5) == 0) {
        SI_VAR(0) += 0xFFFFFE57;
    } else {
        SI_VAR(0) += 0xFFFFFEB1;
    }
    SI_VAR(3) = SI_VAR(0);
    SI_VAR(4) = SI_VAR(1);
    SI_VAR(5) = SI_VAR(2);
    if (SI_MAP_FLAG(5) == 0) {
        SI_VAR(3) += 0xFFFFFFC7;
    } else {
        SI_VAR(3) += 57;
    }
    SI_VAR(4) += 0xFFFFFFE1;
    SI_VAR(5) += 0;
    SetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
    if (SI_MAP_FLAG(5) == 0) {
        SI_VAR(0) += 0;
    } else {
        SI_VAR(0) += 0;
    }
    SI_VAR(1) += 0xFFFFFFFA;
    SI_VAR(2) += 0xFFFFFFD8;
    SetNpcPos(1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    sleep 1;
    goto 0;
});

Script N(script_80250E74) = SCRIPT({
    EnableStatusMenu(0);
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    DisablePartnerAI(0);
    SetNpcAnimation(0xFFFFFFFC, 262);
    SI_MAP_VAR(0) = 0;
    SI_MAP_VAR(1) = 0;
    SI_MAP_FLAG(5) = 0;
    ModifyColliderFlags(0, 53, 0x7FFFFE00);
    ModifyColliderFlags(0, 50, 0x7FFFFE00);
    ModifyColliderFlags(0, 51, 0x7FFFFE00);
    ModifyColliderFlags(0, 52, 0x7FFFFE00);
    ModifyColliderFlags(0, 48, 0x7FFFFE00);
    ModifyColliderFlags(0, 49, 0x7FFFFE00);
    EnableNpcShadow(0xFFFFFFFC, 0);
    HidePlayerShadow(1);
    SetPlayerPos(0xFFFFFE57, 45, 20);
    SetPlayerActionState(0);
    SetNpcFlagBits(0xFFFFFFFC, 320, 1);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(0) = 0xFFFFFE66;
    SI_VAR(1) = 45;
    SI_VAR(2) = 20;
    SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    InterpPlayerYaw(90, 1);
    InterpNpcYaw(0xFFFFFFFC, 90, 0);
    SI_MAP_FLAG(4) = 1;
    spawn N(script_80250C98);
    UseSettingsFrom(0, 0, 0, 0);
    SetCamDistance(0, 240.0);
    SetCamPosB(0, -100.0, -50.0);
    SetCamPitch(0, -2.5, -3.5);
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    sleep 1;
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(0) += 100;
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    PanToTarget(0, 0, 1);
    WaitForCam(0, 1.0);
    spawn {
        loop 1000 {
            SI_MAP_VAR(1) += 0.03125;
            if (SI_MAP_VAR(1) > 10) {
                SI_MAP_VAR(1) = 10.0;
            }
            sleep 1;
        }
    }
    sleep 40;
    PanToTarget(0, 0, 0);
    SI_VAR(9) = spawn N(script_80250B60);
    sleep 180;
    if (SI_SAVE_FLAG(9) == 1) {
        return;
    }
    SI_SAVE_FLAG(9) = 1;
    GotoMapSpecial(D_802513C8_842BC8, 2, 2);
    sleep 110;
});

Script N(script_802512AC) = SCRIPT({
    sleep 10;
    loop {
        GetDemoState(SI_VAR(0));
        if (SI_VAR(0) == 2) {
            break;
        }
        sleep 1;
    }
    if (SI_SAVE_FLAG(9) == 1) {
        return;
    }
    SI_SAVE_FLAG(9) = 1;
    GotoMapSpecial(D_802513C8_842BC8, 2, 3);
    sleep 100;
});

Script N(script_8025136C) = SCRIPT({
    SI_SAVE_FLAG(9) = 0;
    spawn N(script_802512AC);
    spawn N(script_80250E74);
});

s32 pad_0113A4[] = {
    0x00000000, 0x00000000, 0x00000000,
};

// rodata: D_802513B0_842BB0

// rodata: D_802513B8_842BB8

// rodata: D_802513C0_842BC0

// rodata: D_802513C8_842BC8

#include "nok_02.h"

s32 pad_00074C[1];
s32 pad_000968[2];
s32 pad_000A78[2];
s32 pad_0038C8[2];
s32 pad_004354[3];
s32 pad_00459C[1];
Script N(script_80244630);
s32 pad_004698[2];
Script N(script_802446A0);
Script N(script_802449F4);
Script N(script_80244DE4);
Script N(script_80244EC0);
Script N(script_8024509C);
s32 N(unk_802453D0)[1];
Script N(script_802453D4);
Script N(script_80245404);
s32 N(unk_80245434)[1];
s32 N(unk_80245438)[1];
Script N(script_8024543C);
Script N(script_80245580);
Script N(script_ExitWalk_802455D0);
Script N(script_ExitWalk_80245620);
Script N(script_80245698);
Script N(script_802456E0);
Script N(script_EnterWalk_80245868);
Script N(main);
s32 pad_005CF8[2];
Script N(script_80245D00);
Script N(script_80245D34);
Script N(script_MakeEntities);
s32 pad_005F24[3];
Script N(script_80245F30);
Script N(script_80245FC8);
Script N(script_80246054);
Script N(script_OpenDoor_802462A0);
Script N(script_MoveWalls_802462D0);
Script N(script_DropDoor_80246370);
Script N(script_OpenDoor_802463DC);
Script N(script_MoveWalls_8024640C);
Script N(script_OpenDoor_8024653C);
Script N(script_OpenDoor_8024656C);
Script N(script_8024659C);
Script N(script_MoveWalls_80246724);
Script N(script_OpenDoor_802467EC);
Script N(script_MoveWalls_8024681C);
Script N(script_DropDoor_802468BC);
Script N(script_ToggleVis_80246928);
Script N(script_ToggleVis_80246A2C);
Script N(script_ToggleVis_80246AA8);
s32 N(npcList_80246B24)[2];
s32 N(npcList_80246B2C)[1];
s32 N(npcList_80246B30)[3];
s32 N(npcList_80246B3C)[3];
s32 N(npcList_80246B48)[2];
Script N(script_80246B50);
s32 pad_006E1C[1];
Script N(script_80246E20);
s32 pad_006E68[2];
Script N(script_NpcAI_80246EA0);
s32 unk_missing_80246EEC[11];
Script N(script_NpcAI_80246F48);
s32 unk_missing_80246F94[11];
s32 N(unk_802470C8)[1];
Script N(script_802470CC);
Script N(script_802470FC);
s32 N(quizAnswers)[16];
s32 N(quizRequirements)[20];
Script N(script_802471BC);
Script N(script_8024726C);
Script N(script_80247408);
Script N(script_80247504);
Script N(script_80247540);
Script N(script_802476F0);
Script N(script_80247828);
Script N(script_80247994);
Script N(script_802479C8);
Script N(script_80247A08);
Script N(script_80247A44);
Script N(script_8024858C);
Script N(script_802485CC);
Script N(script_802486A8);
Script N(script_80248758);
Script N(script_80248808);
Script N(script_80249538);
Script N(script_802495AC);
Script N(script_8024962C);
Script N(script_80249678);
s32 unk_missing_802496C4[11];
s32 N(unk_802496F0)[1];
s32 N(unk_802496F4)[1];
Script N(script_802496F8);
Script N(script_8024983C);
Script N(script_8024988C);
Script N(script_802498D4);
Script N(script_80249954);
Script N(script_80249C78);
Script N(script_80249CE8);
s32 N(unk_80249FE0)[2];
Script N(script_80249FE8);
Script N(script_8024A038);
Script N(script_NpcAI_8024A09C);
Script N(script_8024A0AC);
Script N(script_Interact_8024A17C);
Script N(script_8024A8EC);
Script N(script_8024A908);
s32 N(intTable_8024AC34)[36];
s32 N(intTable_8024ACC4)[36];
Script N(script_Idle_8024AD54);
Script N(script_NpcAI_8024AE9C);
Script N(script_Hit_8024B16C);
Script N(script_Idle_8024B1A4);
Script N(script_Hit_8024B3A8);
Script N(script_Init_8024B3E0);
Script N(script_Init_8024B418);
Script N(script_Init_8024B450);
Script N(script_8024B488);
Script N(script_Interact_8024B8B0);
Script N(script_Idle_8024B970);
Script N(script_Interact_8024B9AC);
Script N(script_8024BA90);
Script N(script_8024BB0C);
Script N(script_8024BC84);
Script N(script_8024BD64);
Script N(script_8024BDB0);
Script N(script_NpcAI_8024BF3C);
Script N(script_Hit_8024C830);
Script N(script_Init_8024C8C4);
Script N(script_Init_8024C948);
Script N(script_Init_8024C9A0);
Script N(script_Init_8024C9D8);
Script N(script_Init_8024CA60);
Script N(script_Init_8024CA98);
Script N(script_Init_8024CB58);
Script N(script_Init_8024CBB8);
Script N(script_Interact_8024CBF0);
Script N(script_Init_8024CCF0);
Script N(script_Interact_8024CD14);
Script N(script_Init_8024CE14);
Script N(script_8024CE38);
Script N(script_Interact_8024CF14);
Script N(script_Init_8024D040);
Script N(script_Interact_8024D064);
Script N(script_Init_8024D164);
Script N(script_8024D188);
Script N(script_8024D3AC);
Script N(script_Interact_8024D798);
Script N(script_Interact_8024D978);
Script N(script_Interact_8024DA60);
Script N(script_Init_8024DB48);
Script N(script_Init_8024DBA0);
Script N(script_Init_8024DC48);
s32 N(unk_8024DCA0)[2];
Script N(script_8024DCA8);
Script N(script_8024DD44);
Script N(script_Interact_8024DF60);
Script N(script_Init_8024E090);
Script N(script_8024E110);
Script N(script_8024E26C);
Script N(script_8024E400);
Script N(script_8024E51C);
Script N(script_Interact_8024E670);
Script N(script_Init_8024E8B0);
Script N(script_Init_8024E94C);
Script N(script_Init_8024E97C);
Script N(script_Init_8024E9BC);
Script N(script_Init_8024E9FC);
StaticNpc N(npcGroup_8024EA3C)[8];
StaticNpc N(npcGroup_8024F9BC)[1];
StaticNpc N(npcGroup_8024FBAC)[1];
StaticNpc N(npcGroup_8024FD9C)[6];
StaticNpc N(npcGroup_8025093C)[1];
StaticNpc N(npcGroup_80250B2C)[4];
StaticNpc N(npcGroup_802512EC)[3];
StaticNpc N(npcGroup_802518BC)[1];
NpcGroupList N(npcGroupList_80251AAC);
NpcGroupList N(npcGroupList_80251AE8);
NpcGroupList N(npcGroupList_80251B24);
s32 pad_011B3C[1];
Script N(script_80251B40);
Script N(script_802522F4);
s32 N(unk_802523B4)[1];
Script N(script_802523B8);
s32 pad_0123FC[1];
s32 N(unk_80252400)[1];
s32 N(unk_80252404)[1];
Script N(script_80252408);
Script N(script_8025254C);
Script N(script_8025259C);
Script N(script_802526D0);
s32 N(unk_80252720)[1];
Script N(script_80252724);
Script N(script_80252754);
s32 N(dataTable_80252784)[140];
s32 N(unk_802529B4)[2];
Script N(script_Interact_802529BC);
Script N(script_80253350);
s32 pad_01360C[1];
Script N(script_SearchBush_80253610);
Script N(script_ShakeTree_80253970);
s32 N(treeDropList_Bush1)[8];
s32 N(searchBushEvent_Bush1)[4];
s32 N(searchBushEvent_Bush2)[4];
s32 N(searchBushEvent_Bush3)[4];
Script N(script_80253FFC);
Script N(script_Bush4_Callback);
s32 N(searchBushEvent_Bush4)[4];
Script N(script_802540D0);
Script N(script_Bush5_Callback);
s32 N(searchBushEvent_Bush5)[4];
s32 N(treeDropList_Bush6)[8];
s32 N(searchBushEvent_Bush6)[4];
Script N(script_Tree1_Callback);
Script N(script_8025422C);
s32 pad_0143A4[3];
Script N(script_802543B0);
const char D_80254600_9EB620[8]; // "nok_01"
const char D_80254608_9EB628[8]; // "nok_03"
const char D_80254610_9EB630[8]; // "tik_01"
s32 pad_014618[2];
const char D_802547C0_9EB7E0[8]; // "nok_02"
const char D_802547C8_9EB7E8[8]; // "obk_09"

// text: func_80240000_9D7020

// text: func_80240020_9D7040

// text: func_80240034_9D7054

// text: func_802400F0_9D7110

// text: func_802401D0_9D71F0

// text: func_8024023C_9D725C

// text: func_802402E0_9D7300

// text: func_80240394_9D73B4

// text: func_802403F8_9D7418

// text: func_80240454_9D7474

// text: func_80240624_9D7644

// text: func_80240678_9D7698

// text: func_802406B0_9D76D0

s32 pad_00074C[] = {
    0x00000000,
};

// text: func_80240750_9D7770

s32 pad_000968[] = {
    0x00000000, 0x00000000,
};

// text: func_80240970_9D7990

s32 pad_000A78[] = {
    0x00000000, 0x00000000,
};

// text: func_80240A80_9D7AA0

// text: func_80240BD8_9D7BF8

// text: N(UnkNpcAIFunc1)

// text: func_80240F40_9D7F60

// text: func_802410FC_9D811C

// text: N(NpcJumpFunc2)

// text: N(NpcJumpFunc)

// text: func_8024129C_9D82BC

// text: func_802413CC_9D83EC

// text: N(UnkNpcDurationFlagFunc)

// text: func_80241554_9D8574

// text: func_80241614_9D8634

// text: func_80241910_9D8930

// text: func_802419C4_9D89E4

// text: func_80241A28_9D8A48

// text: func_80241A3C_9D8A5C

// text: func_80241A4C_9D8A6C

// text: func_80241C70_9D8C90

// text: func_80241CBC_9D8CDC

// text: func_80241CDC_9D8CFC

// text: func_80241D3C_9D8D5C

// text: func_80241E88_9D8EA8

// text: func_80241FFC_9D901C

// text: func_80242080_9D90A0

// text: func_80242298_9D92B8

// text: func_8024234C_9D936C

// text: func_80242380_9D93A0

// text: func_80242400_9D9420

// text: func_80242418_9D9438

// text: func_80242434_9D9454

// text: func_8024244C_9D946C

// text: func_8024247C_9D949C

// text: func_802424F0_9D9510

// text: func_80242590_9D95B0

// text: func_8024272C_9D974C

// text: func_80242790_9D97B0

// text: func_80242820_9D9840

// text: func_80242908_9D9928

// text: func_80242974_9D9994

// text: func_802429A4_9D99C4

// text: func_80242A00_9D9A20

// text: func_80242BD0_9D9BF0

// text: func_80242C24_9D9C44

// text: func_80242C5C_9D9C7C

// text: func_80242CF8_9D9D18

// text: func_80242DE8_9D9E08

// text: func_80242F74_9D9F94

// text: func_80242FB8_9D9FD8

// text: func_80242FE4_9DA004

// text: func_80243010_9DA030

// text: func_802430CC_9DA0EC

// text: func_80243214_9DA234

// text: func_80243294_9DA2B4

// text: func_8024351C_9DA53C

// text: func_80243754_9DA774

s32 pad_0038C8[] = {
    0x00000000, 0x00000000,
};

// text: func_802438D0_9DA8F0

// text: func_802439C0_9DA9E0

// text: func_80243A1C_9DAA3C

// text: func_80243BEC_9DAC0C

// text: func_80243C40_9DAC60

// text: func_80243C78_9DAC98

// text: func_80243D14_9DAD34

// text: func_80243DB0_9DADD0

// text: func_80243E64_9DAE84

// text: func_80243EC8_9DAEE8

// text: func_80243F10_9DAF30

// text: func_80244078_9DB098

// text: func_80244224_9DB244

// text: func_80244288_9DB2A8

// text: func_802442E0_9DB300

s32 pad_004354[] = {
    0x00000000, 0x00000000, 0x00000000,
};

// text: func_80244360_9DB380

// text: func_802443D0_9DB3F0

s32 pad_00459C[] = {
    0x00000000,
};

EntryList N(entryList) = {
    { -484.0f, 0.0f, 5.0f, 90.0f },
    { 2.0f, 0.0f, -479.0f, 180.0f },
    { 365.0f, 35.0f, 90.0f, 180.0f },
    { 0.0f, 0.0f, -60.0f, 0.0f },
    { -360.0f, 0.0f, -50.0f, 90.0f },
};

MapConfig N(header) = {
    .main = N(main),
    .entryList = N(entryList),
    .entryCount = ENTRY_COUNT(N(entryList)),
    .background = &gBackgroundImage,
    .tattle = 0x190049,
};

Script N(script_80244630) = SCRIPT({
    if (SI_SAVE_VAR(0) < 0xFFFFFFA4) {
        SetMusicTrack(0, 18, 0, 8);
    } else {
        SetMusicTrack(0, 19, 0, 8);
    }
});

s32 pad_004698[] = {
    0x00000000, 0x00000000,
};

Script N(script_802446A0) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    DisablePartnerAI(0);
    HidePlayerShadow(1);
    SetPlayerAnimation(0x10000);
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        EnableNpcShadow(0xFFFFFFFC, 0);
        SetNpcPos(0xFFFFFFFC, 0, 0xFFFFFC18, 0);
    }
    GetEntryID(SI_VAR(0));
    func_802400F0_9D7110();
    SI_VAR(2) -= 40;
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    InterpPlayerYaw(SI_VAR(4), 0);
    PlaySound(355);
    0x802D286C(256);
    0x802D2520(0x10000, 5, 2, 1, 1, 0);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    loop 40 {
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    sleep 3;
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        spawn {
            DisablePartnerAI(0);
            GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(2) -= 3;
            SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SetNpcFlagBits(0xFFFFFFFC, 2, 0);
            EnablePartnerAI();
            EnableNpcShadow(0xFFFFFFFC, 1);
        }
    }
    sleep 2;
    0x802D2520(0x10000, 0, 0, 0, 0, 0);
    sleep 1;
    SetPlayerAnimation(0x10002);
    DisablePlayerPhysics(0);
    DisablePlayerInput(0);
    HidePlayerShadow(0);
0:
    func_80240020_9D7040();
    sleep 1;
    if (SI_VAR(0) != -1) {
        goto 0;
    }
    spawn 0xFE363C8A;
});

Script N(script_802449F4) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    ModifyColliderFlags(0, SI_VAR(11), 0x7FFFFE00);
    GetEntryID(SI_VAR(0));
    func_802400F0_9D7110();
    SI_VAR(5) = SI_VAR(1);
    SI_VAR(6) = SI_VAR(2);
    SI_VAR(7) = SI_VAR(3);
    SI_VAR(2) += 2;
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    InterpPlayerYaw(SI_VAR(4), 0);
    if (SI_VAR(4) == 90) {
        SI_VAR(5) += 40;
    } else {
        SI_VAR(5) -= 40;
    }
    UseSettingsFrom(0, SI_VAR(5), SI_VAR(6), SI_VAR(7));
    SetPanTarget(0, SI_VAR(5), SI_VAR(6), SI_VAR(7));
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        DisablePartnerAI(0);
        EnableNpcShadow(0xFFFFFFFC, 0);
        SetNpcPos(0xFFFFFFFC, 0, 0xFFFFFC18, 0);
        InterpNpcYaw(0xFFFFFFFC, SI_VAR(0), 0);
    }
    sleep 1;
    PlaySound(355);
    spawn {
        sleep 25;
        HidePlayerShadow(0);
    }
    0x802D286C(2304);
    0x802D2520(0x10002, 5, 3, 1, 1, 0);
    loop 40 {
        func_8024023C_9D725C(1.0);
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
    }
    GetCurrentPartnerID(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        spawn {
            GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            SI_VAR(2) -= 3;
            SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
            EnableNpcShadow(0xFFFFFFFC, 1);
            EnablePartnerAI();
        }
    }
    sleep 5;
    0x802D2520(0x10002, 0, 0, 0, 0, 0);
    ModifyColliderFlags(1, SI_VAR(11), 0x7FFFFE00);
    DisablePlayerInput(0);
    DisablePlayerPhysics(0);
    PanToTarget(0, 0, 0);
    spawn 0xFE363C8A;
});

Script N(script_80244DE4) = SCRIPT({
    func_80240034_9D7054();
    if (SI_VAR(0) == 0) {
        return;
    }
    GetCurrentPartner(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        GetCurrentPartnerID(SI_VAR(1));
        if (SI_VAR(1) != 6) {
            return;
        } else {
            0x802D2B6C();
            DisablePlayerInput(1);
        }
    } else {
        DisablePlayerInput(1);
    }
    await N(script_80244EC0);
});

Script N(script_80244EC0) = SCRIPT({
    func_80240000_9D7020();
    group 27;
    DisablePlayerPhysics(1);
    HidePlayerShadow(1);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_9D7110();
    PlayerMoveTo(SI_VAR(1), SI_VAR(3), 3);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_9D7110();
    SetPlayerPos(SI_VAR(1), SI_VAR(2), SI_VAR(3));
    SetPlayerFlagBits(0x200000, 1);
    func_802401D0_9D71F0();
    InterpPlayerYaw(SI_VAR(0), 0);
    sleep 2;
    SetPlayerFlagBits(0x200000, 0);
    PlaySound(355);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    spawn {
        sleep 4;
        loop 40 {
            SI_VAR(1) -= 1;
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
    }
    0x802D286C(2048);
    0x802D2520(0x10002, 5, 2, 1, 1, 0);
    sleep 25;
    await 0xFE363C8C;
});

Script N(script_8024509C) = SCRIPT({
    0x802D249C(SI_VAR(0));
    if (SI_VAR(0) == 0) {
        return;
    }
    GetPlayerActionState(SI_VAR(0));
    if (SI_VAR(0) == 26) {
        return;
    }
    GetCurrentPartner(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        GetCurrentPartnerID(SI_VAR(1));
        if (SI_VAR(1) != 6) {
            return;
        } else {
            0x802D2B6C();
            DisablePlayerInput(1);
        }
    } else {
        DisablePlayerInput(1);
    }
    group 27;
    func_80240000_9D7020();
    DisablePlayerPhysics(1);
    ModifyColliderFlags(0, SI_VAR(11), 0x7FFFFE00);
    SI_VAR(0) = SI_VAR(10);
    func_802400F0_9D7110();
    SI_VAR(5) = SI_VAR(1);
    SI_VAR(6) = SI_VAR(2);
    SI_VAR(6) += 2;
    SI_VAR(7) = SI_VAR(3);
    SI_VAR(8) = SI_VAR(4);
    SI_VAR(8) += 180;
    if (SI_VAR(4) >= 360) {
        SI_VAR(4) -= 360;
    }
    InterpPlayerYaw(SI_VAR(8), 1);
    sleep 1;
    PlaySound(355);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPlayerPos(SI_VAR(0), SI_VAR(6), SI_VAR(7));
    SetPlayerAnimation(0x10000);
    0x802D286C(2048);
    0x802D2520(0x10000, 5, 3, 1, 1, 0);
    spawn {
        sleep 8;
        HidePlayerShadow(1);
    }
    spawn {
        sleep 3;
        loop 40 {
            func_8024023C_9D725C(1.0);
            SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
            sleep 1;
        }
    }
    sleep 25;
    await 0xFE363C8C;
});

s32 N(unk_802453D0)[] = {
    0x00000000,
};

Script N(script_802453D4) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 0);
    return;
});

Script N(script_80245404) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 16);
    return;
});

s32 N(unk_80245434)[] = {
    0x00000000,
};

s32 N(unk_80245438)[] = {
    0x00000000,
};

Script N(script_8024543C) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            GetPlayerPos(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80240454_9D7474(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |= c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SetPlayerAnimation(0x60005);
            sleep 30;
            SetPlayerAnimation(0x10002);
            RemoveItemEntity(SI_VAR(0));
        }
    }
    func_80240678_9D7698(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_80245580) = {
    SI_CMD(ScriptOpcode_CALL, func_802406B0_9D76D0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_8024543C), 0x10, 0, 0x802547D0, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80240624_9D7644, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_ExitWalk_802455D0) = SCRIPT({
    UseExitHeading(60, 0);
    spawn ExitWalk;
    GotoMap(D_80254600_9EB620, 1);
    sleep 100;
});

Script N(script_ExitWalk_80245620) = SCRIPT({
    if (SI_SAVE_VAR(346) == 2) {
        SI_SAVE_FLAG(1704) = 1;
    }
    UseExitHeading(60, 1);
    spawn ExitWalk;
    GotoMap(D_80254608_9EB628, 0);
    sleep 100;
});

Script N(script_80245698) = SCRIPT({
    bind N(script_ExitWalk_802455D0) to 0x80000 4;
    bind N(script_ExitWalk_80245620) to 0x80000 0;
});

Script N(script_802456E0) = SCRIPT({
    group 0;
    SetTexPanner(180, 0);
    SetTexPanner(181, 0);
    SetTexPanner(182, 0);
    SetTexPanner(183, 0);
    SetTexPanner(184, 0);
    SetTexPanner(185, 0);
    SetTexPanner(186, 0);
    SetTexPanner(188, 0);
    SetTexPanner(189, 0);
    SetTexPanner(190, 0);
    SetTexPanner(192, 0);
10:
    loop 12 {
        SetTexPanOffset(0, 0, 0, 0);
        sleep 1;
    }
    loop 12 {
        SetTexPanOffset(0, 0, 0x4000, 0);
        sleep 1;
    }
    goto 10;
});

Script N(script_EnterWalk_80245868) = SCRIPT({
    GetEntryID(SI_VAR(0));
    match SI_VAR(0) {
        == 2 {
            if (SI_SAVE_FLAG(1938) == 0) {
                DisablePlayerInput(1);
                DisablePlayerPhysics(1);
                GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
                SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
                SetPlayerPos(SI_VAR(0), 0xFFFFFC18, SI_VAR(2));
                sleep 30;
                PlaySound(8334);
                SI_SAVE_FLAG(1938) = 1;
                sleep 30;
                SetPlayerActionState(0);
                SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
                SetNpcPos(0xFFFFFFFC, SI_VAR(0), SI_VAR(1), SI_VAR(2));
                DisablePlayerPhysics(0);
                DisablePlayerInput(0);
            }
            SI_VAR(10) = N(script_80245698);
            await N(script_802446A0);
        }
        == 4 {}
        else {
            SI_VAR(0) = N(script_80245698);
            spawn EnterWalk;
        }
    }
});

Script N(main) = SCRIPT({
    SI_SAVE_VAR(425) = 33;
    SetSpriteShading(-1);
    SetCamPerspective(0, 3, 25, 16, 4096);
    SetCamBGColor(0, 0, 0, 0);
    SetCamEnabled(0, 1);
    SetCamLeadPlayer(0, 0);
    GetEntryID(SI_VAR(0));
    if (SI_VAR(0) == 3) {
        MakeNpcs(0, N(npcGroupList_80251B24));
        await N(script_MakeEntities);
        spawn N(script_802456E0);
        spawn N(script_802543B0);
        FadeInMusic(0, 19, 0, 3000, 0, 127);
        sleep 1;
        return;
    }
    SI_AREA_FLAG(15) = 0;
    SI_AREA_FLAG(16) = 0;
    SI_AREA_FLAG(18) = 0;
    SI_SAVE_FLAG(592) = 0;
    SI_AREA_FLAG(19) = 0;
    if (SI_SAVE_VAR(0) >= 0xFFFFFFA4) {
        SI_SAVE_FLAG(570) = 1;
        SI_SAVE_FLAG(572) = 1;
    }
    if (SI_SAVE_VAR(0) < 0xFFFFFFA4) {
        MakeNpcs(0, N(npcGroupList_80251AAC));
    } else {
        MakeNpcs(0, N(npcGroupList_80251AE8));
    }
    ClearDefeatedEnemies();
    await N(script_MakeEntities);
    await N(script_8025422C);
    spawn N(script_802456E0);
    bind N(script_80246E20) to TriggerFlag_WALL_INTERACT 26;
    await N(script_80246B50);
    GetDemoState(SI_VAR(0));
    if (SI_VAR(0) != 0) {
        await N(script_802523B8);
        return;
    }
    spawn N(script_80244630);
    ModifyColliderFlags(0, 5, 0x7FFFFE00);
    ModifyColliderFlags(0, 1, 0x7FFFFE00);
    spawn N(script_EnterWalk_80245868);
    sleep 1;
});

s32 pad_005CF8[] = {
    0x00000000, 0x00000000,
};

Script N(script_80245D00) = SCRIPT({
    func_80240750_9D7770(SI_MAP_VAR(10), 227.0, 0.0, 247.0, 20, 1.0);
});

Script N(script_80245D34) = SCRIPT({
    GotoMap(D_80254610_9EB630, 3);
    sleep 100;
});

Script N(script_MakeEntities) = SCRIPT({
    MakeEntity(0x802EA0C4, 151, 81, 251, 0, 0x80000000);
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFA4 {
            if (SI_SAVE_FLAG(572) == 0) {
                AssignScript(N(script_8024B488));
            }
        }
        >= 0xFFFFFFA4 {
            if (SI_SAVE_FLAG(579) == 0) {
                AssignScript(N(script_80245D00));
                MakeItemEntity(348, 150, 106, 250, 17, SI_SAVE_FLAG(579));
                SI_MAP_VAR(10) = SI_VAR(0);
            }
        }
    }
    CreatePushBlockGrid(0, 5, 5, 88, 0xFFFFFFFC, 188, 0);
    SetPushBlock(0, 0, 0, 1);
    if (SI_SAVE_FLAG(1938) == 0) {
        if (SI_SAVE_FLAG(1933) == 1) {
            GetEntryID(SI_VAR(0));
            if (SI_VAR(0) != 2) {
                SI_SAVE_FLAG(1938) = 1;
            }
        }
    }
    MakeEntity(0x802EAF80, 365, 0, 90, 30, 2, N(script_80245D34), 1938, 0x80000000);
});

s32 pad_005F24[] = {
    0x00000000, 0x00000000, 0x00000000,
};

Script N(script_80245F30) = SCRIPT({
0:
    SI_VAR(0) = 35;
    loop SI_VAR(0) {
        SI_VAR(1) = SI_VAR(0);
        SI_VAR(1) *= 10;
        RotateModel(84, SI_VAR(1), 0, -1, 0);
        sleep 1;
    }
    goto 0;
});

Script N(script_80245FC8) = SCRIPT({
    loop {
        if (SI_SAVE_FLAG(1793) == 0) {
            PlaySoundAt(119, 0, 0, 0, 0xFFFFFF4C);
        }
        RandInt(30, SI_VAR(5));
        SI_VAR(5) += 30;
        sleep SI_VAR(5);
    }
});

Script N(script_80246054) = SCRIPT({
    group 10;
    SI_MAP_VAR(3) = spawn N(script_80245FC8);
0:
    match SI_SAVE_VAR(0) {
        0xFFFFFFA0..6
        kill SI_MAP_VAR(3);
        return;
    }
    if (SI_SAVE_FLAG(614) == 1) {
        kill SI_MAP_VAR(3);
        return;
    }
    RandInt(30, SI_VAR(0));
    SI_VAR(0) += 10;
    sleep SI_VAR(0);
    RandInt(10, SI_VAR(0));
    SI_VAR(0) += 5;
    if (SI_SAVE_FLAG(1793) == 0) {
        func_80240970_9D7990();
    }
    loop SI_VAR(0) {
        if (SI_AREA_FLAG(18) == 1) {
            kill SI_MAP_VAR(3);
            TranslateGroup(107, 0, 0, 0);
10:
            if (SI_AREA_FLAG(18) == 1) {
                sleep 1;
                goto 10;
            }
            SI_MAP_VAR(3) = spawn N(script_80245FC8);
            break;
        }
        RandInt(5, SI_VAR(1));
        SI_VAR(1) += 1;
        SI_VAR(1) *= -1;
        TranslateGroup(107, 0, SI_VAR(1), 0);
        sleep 1;
        TranslateGroup(107, 0, SI_VAR(1), 0);
        sleep 1;
    }
    goto 0;
});

Script N(script_OpenDoor_802462A0) = SCRIPT({
    RotateModel(59, SI_VAR(0), 0, 1, 0);
});

Script N(script_MoveWalls_802462D0) = SCRIPT({
    SI_VAR(0) *= -0.5;
    RotateModel(47, SI_VAR(0), 1, 0, 0);
    RotateModel(49, SI_VAR(0), 1, 0, 0);
    RotateModel(50, SI_VAR(0), 1, 0, 0);
    RotateModel(48, SI_VAR(0), 1, 0, 0);
});

Script N(script_DropDoor_80246370) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) /= 45;
    TranslateModel(59, 0, SI_VAR(1), 0);
    RotateModel(59, SI_VAR(0), 1, 0, 0);
});

Script N(script_OpenDoor_802463DC) = SCRIPT({
    RotateGroup(58, SI_VAR(0), 0, 1, 0);
});

Script N(script_MoveWalls_8024640C) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) -= 90;
    SI_VAR(0) *= 1.0;
    RotateModel(52, SI_VAR(0), 0, 0, 1);
    RotateModel(53, SI_VAR(0), 0, 0, 1);
    RotateModel(54, SI_VAR(0), 0, 0, 1);
    SI_VAR(1) *= 0.5;
    RotateModel(47, SI_VAR(1), 1, 0, 0);
    RotateModel(49, SI_VAR(1), 1, 0, 0);
    RotateModel(50, SI_VAR(1), 1, 0, 0);
    RotateModel(48, SI_VAR(1), 1, 0, 0);
});

Script N(script_OpenDoor_8024653C) = SCRIPT({
    RotateModel(104, SI_VAR(0), 0, 1, 0);
});

Script N(script_OpenDoor_8024656C) = SCRIPT({
    RotateModel(102, SI_VAR(0), 0, -1, 0);
});

Script N(script_8024659C) = SCRIPT({
    SI_VAR(2) = SI_VAR(0);
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) -= 90;
    SI_VAR(1) /= f 0xFFFFFFA6;
    SI_VAR(2) *= 0.5;
    RotateModel(98, SI_VAR(2), 0, 0, 1);
    RotateModel(97, SI_VAR(2), 0, 0, 1);
    RotateModel(100, SI_VAR(2), 0, 0, 1);
    RotateModel(99, SI_VAR(2), 0, 0, 1);
    if (SI_VAR(1) != 0) {
        ScaleModel(157, 1, SI_VAR(1), 1);
        ScaleModel(156, 1, SI_VAR(1), 1);
        EnableModel(157, 1);
        EnableModel(156, 1);
    } else {
        EnableModel(157, 0);
        EnableModel(156, 0);
    }
});

Script N(script_MoveWalls_80246724) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            sleep 20;
            SI_VAR(0) = 0;
            loop 18 {
                SI_VAR(0) += 5;
                await N(script_8024659C);
            }
        }
        == 3 {
            SI_VAR(0) = 90;
            loop 18 {
                SI_VAR(0) -= 5;
                await N(script_8024659C);
            }
        }
    }
});

Script N(script_OpenDoor_802467EC) = SCRIPT({
    RotateModel(145, SI_VAR(0), 0, 1, 0);
});

Script N(script_MoveWalls_8024681C) = SCRIPT({
    SI_VAR(0) *= 0.5;
    RotateModel(140, SI_VAR(0), -1, 0, 0);
    RotateModel(143, SI_VAR(0), -1, 0, 0);
    RotateModel(142, SI_VAR(0), -1, 0, 0);
    RotateModel(141, SI_VAR(0), -1, 0, 0);
});

Script N(script_DropDoor_802468BC) = SCRIPT({
    SI_VAR(1) = SI_VAR(0);
    SI_VAR(1) /= 45;
    TranslateModel(145, 0, SI_VAR(1), 0);
    RotateModel(145, SI_VAR(0), 1, 0, 0);
});

Script N(script_ToggleVis_80246928) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            SI_AREA_FLAG(18) = 1;
            if (SI_SAVE_VAR(0) < 0xFFFFFFA0) {
                await N(script_8024A8EC);
                SI_VAR(0) = -1;
                return;
            }
            SetGroupEnabled(86, 1);
        }
        == 1 {
            spawn N(script_8024A908);
            SI_AREA_FLAG(16) = 1;
        }
        == 2 {
            SI_AREA_FLAG(16) = 0;
        }
        == 3 {
            SI_AREA_FLAG(18) = 0;
            SetGroupEnabled(86, 0);
        }
    }
});

Script N(script_ToggleVis_80246A2C) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            SetGroupEnabled(39, 1);
        }
        == 1 {}
        == 2 {}
        == 3 {
            SetGroupEnabled(39, 0);
        }
    }
});

Script N(script_ToggleVis_80246AA8) = SCRIPT({
    match SI_VAR(0) {
        == 0 {
            SetGroupEnabled(132, 1);
        }
        == 1 {}
        == 2 {}
        == 3 {
            SetGroupEnabled(132, 0);
        }
    }
});

s32 N(npcList_80246B24)[] = {
    0x00000008, 0xFFFFFFFF,
};

s32 N(npcList_80246B2C)[] = {
    0xFFFFFFFF,
};

s32 N(npcList_80246B30)[] = {
    0x0000000C, 0x0000000B, 0xFFFFFFFF,
};

s32 N(npcList_80246B3C)[] = {
    0x00000010, 0x00000011, 0xFFFFFFFF,
};

s32 N(npcList_80246B48)[] = {
    0x00000009, 0xFFFFFFFF,
};

Script N(script_80246B50) = SCRIPT({
    if (SI_SAVE_VAR(0) >= 89) {
        MakeDoorAdvanced(0, N(script_OpenDoor_802462A0), N(script_MoveWalls_802462D0), N(script_DropDoor_80246370),
                         N(script_ToggleVis_80246A2C), 39, 38, 62, N(npcList_80246B2C));
        MakeDoorAdvanced(0, N(script_OpenDoor_802463DC), N(script_MoveWalls_8024640C), 0, 0, 42, 43, 0, 0);
    } else {
        if (SI_SAVE_FLAG(610) == 1) {
            MakeDoorAdvanced(0, N(script_OpenDoor_802462A0), N(script_MoveWalls_802462D0), N(script_DropDoor_80246370),
                             N(script_ToggleVis_80246A2C), 39, 38, 62, N(npcList_80246B2C));
            MakeDoorAdvanced(0, N(script_OpenDoor_802463DC), N(script_MoveWalls_8024640C), 0, 0, 42, 43, 0, 0);
        } else {
            MakeDoorAdvanced(0, N(script_OpenDoor_802462A0), N(script_MoveWalls_802462D0), N(script_DropDoor_80246370),
                             N(script_ToggleVis_80246A2C), 39, 38, 62, N(npcList_80246B24));
            MakeDoorAdvanced(0, N(script_OpenDoor_802463DC), N(script_MoveWalls_8024640C), 0, 0, 42, 43, 0, 0);
        }
    }
    if (SI_SAVE_VAR(0) < 0xFFFFFFA4) {
        MakeDoorAdvanced(512, N(script_OpenDoor_8024653C), N(script_MoveWalls_80246724), 0, N(script_ToggleVis_80246928), 57,
                         56, 107, N(npcList_80246B30));
        MakeDoorAdvanced(514, N(script_OpenDoor_8024656C), N(script_MoveWalls_80246724), 0, N(script_ToggleVis_80246928), 61,
                         60, 107, N(npcList_80246B30));
    } else {
        MakeDoorAdvanced(512, N(script_OpenDoor_8024653C), N(script_MoveWalls_80246724), 0, N(script_ToggleVis_80246928), 57,
                         56, 107, N(npcList_80246B3C));
        MakeDoorAdvanced(514, N(script_OpenDoor_8024656C), N(script_MoveWalls_80246724), 0, N(script_ToggleVis_80246928), 61,
                         60, 107, N(npcList_80246B3C));
    }
    MakeDoorAdvanced(0, N(script_OpenDoor_802467EC), N(script_MoveWalls_8024681C), N(script_DropDoor_802468BC), N(script_ToggleVis_80246AA8), 72, 71, 148, N(npcList_80246B48));
    SI_VAR(0) = 3;
    spawn N(script_ToggleVis_80246A2C);
    spawn N(script_ToggleVis_80246928);
    spawn N(script_ToggleVis_80246AA8);
    spawn N(script_80245F30);
    spawn N(script_80246054);
});

s32 pad_006E1C[] = {
    0x00000000,
};

Script N(script_80246E20) = SCRIPT({
    DisablePlayerInput(1);
    ShowMessageAtScreenPos(0xC00A1, 160, 40);
    DisablePlayerInput(0);
});

s32 pad_006E68[] = {
    0x00000000, 0x00000000,
};

NpcAISettings N(aISettings_80246E70) = {
    .moveSpeed = 1.5f,
    .moveTime = 0x3C,
    .waitTime = 0x1E,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_NpcAI_80246EA0) = SCRIPT({
    DoBasicAI(N(aISettings_80246E70));
});

NpcSettings N(npcSettings_80246EC0) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x23,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = &N(script_NpcAI_80246EA0),
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

s32 unk_missing_80246EEC[] = {
    0x00000000, 0x002A0018, 0x00000000, 0x00000000, N(script_NpcAI_80246EA0), 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630000,
};

NpcAISettings N(aISettings_80246F18) = {
    .moveSpeed = 1.5f,
    .moveTime = 0x1E,
    .waitTime = 0x1E,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_NpcAI_80246F48) = SCRIPT({
    func_80241614_9D8634(N(aISettings_80246F18));
});

NpcSettings N(npcSettings_80246F68) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x23,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = &N(script_NpcAI_80246F48),
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

s32 unk_missing_80246F94[] = {
    0x00000000, 0x002A0018, 0x00000000, 0x00000000, N(script_NpcAI_80246F48), 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00630000,
};

NpcSettings N(npcSettings_80246FC0) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x23,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0x10,
};

NpcSettings N(npcSettings_80246FEC) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x28,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

NpcSettings N(npcSettings_80247018) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x26,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

NpcSettings N(npcSettings_80247044) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x14,
    .radius = 0x16,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = 0x80077F70,
    .aux = NULL,
    .onDefeat = 0x8007809C,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x6,
    .unk_2A = 0,
};

NpcSettings N(npcSettings_80247070) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x20,
    .radius = 0x18,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = NULL,
    .aux = NULL,
    .onDefeat = NULL,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

NpcSettings N(npcSettings_8024709C) = {
    .unk_00 = { 0, 0, 0, 0 },
    .height = 0x17,
    .radius = 0x14,
    .otherAI = NULL,
    .onInteract = NULL,
    .ai = NULL,
    .onHit = 0x80077F70,
    .aux = NULL,
    .onDefeat = 0x8007809C,
    .flags = 0,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x6,
    .unk_2A = 0,
};

s32 N(unk_802470C8)[] = {
    0x00000000,
};

Script N(script_802470CC) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 0);
    return;
});

Script N(script_802470FC) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 16);
    return;
});

s32 N(quizAnswers)[] = {
    0x02010102, 0x02000200, 0x02010002, 0x01010002, 0x00020100, 0x00020100, 0x02010102, 0x02010101,
    0x00020202, 0x02000101, 0x02010201, 0x02000001, 0x01000102, 0x01000202, 0x01020002, 0x02010101,
};

s32 N(quizRequirements)[] = {
    0xFFFFFF94, 0x00000000, 0xFFFFFFB4, 0x0000000A, 0xFFFFFFCA, 0x00000014, 0xFFFFFFF2, 0x0000001E,
    0x00000006, 0x00000025, 0x00000027, 0x0000002C, 0x0000003A, 0x00000034, 0x00000058, 0x0000003C,
    0x00000060, 0x00000040, 0x00000000, 0x00000040,
};

Script N(script_802471BC) = SCRIPT({
    func_8024244C_9D946C();
    if (SI_VAR(0) <= 1) {
        GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 300;
        SetNpcJumpscale(-1, 1);
        SetNpcAnimation(-1, 0xAF000C);
        sleep 40;
        SetNpcPos(-1, 0, 0xFFFFFC18, 0);
    }
});

Script N(script_8024726C) = SCRIPT({
    func_802424F0_9D9510(0, SI_ARRAY(0));
    func_8024247C_9D949C(0, 25);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    UseSettingsFrom(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetCamType(0, SI_VAR(1), SI_VAR(2));
    SetCamType(0, SI_VAR(1), 0);
    GetCamDistance(0, SI_VAR(0));
    if (SI_VAR(0) > 0) {
        SI_VAR(0) = 370;
    } else {
        SI_VAR(0) = f 0xFFFFFE8E;
    }
    SetCamDistance(0, SI_VAR(0));
    GetCamPitch(0, SI_VAR(0), SI_VAR(1));
    SI_VAR(0) = 13.0;
    SI_VAR(1) = -10.0;
    SetCamPitch(0, SI_VAR(0), SI_VAR(1));
    PanToTarget(0, 0, 1);
    SetCamLeadPlayer(0, 0);
});

Script N(script_80247408) = SCRIPT({
    GetNpcPos(19, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(1) += 30;
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetCamDistance(0, SI_VAR(0));
    if (SI_VAR(0) > 0) {
        SI_VAR(0) = 17;
    } else {
        SI_VAR(0) = f 0xFFFFFFEF;
    }
    SetCamDistance(0, SI_VAR(0));
    SetCamSpeed(0, 90.0);
    WaitForCam(0, 1.0);
    SetCamSpeed(0, 1);
});

Script N(script_80247504) = SCRIPT({
    func_8024247C_9D949C(0, SI_ARRAY(0));
    PanToTarget(0, 0, 0);
});

Script N(script_80247540) = SCRIPT({
    sleep 20;
    func_80242590_9D95B0(SI_ARRAY(1), SI_ARRAY(3), 83, SI_VAR(0), SI_VAR(1));
    spawn {
        SI_VAR(2) = 0;
        loop 60 {
            SI_VAR(3) = f SI_VAR(0);
            SI_VAR(4) = f SI_VAR(1);
            SI_VAR(3) *= f SI_VAR(2);
            SI_VAR(4) *= f SI_VAR(2);
            SI_VAR(3) /= 60;
            SI_VAR(4) /= 60;
            SI_VAR(3) += f SI_ARRAY(1);
            SI_VAR(4) += f SI_ARRAY(3);
            SetPlayerPos(SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
            SI_VAR(2) += 1;
            sleep 1;
        }
        SI_VAR(3) = f SI_VAR(0);
        SI_VAR(4) = f SI_VAR(1);
        SI_VAR(3) += f SI_ARRAY(1);
        SI_VAR(4) += f SI_ARRAY(3);
        SetPlayerPos(SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
    }
    func_8024272C_9D974C();
    0x802D2884(SI_ARRAY(1), SI_ARRAY(3), 0);
    SetPlayerAnimation(0x10002);
});

Script N(script_802476F0) = SCRIPT({
    GetNpcPos(0xFFFFFFFC, SI_VAR(10), SI_VAR(11), SI_VAR(12));
    func_80242590_9D95B0(SI_VAR(10), SI_VAR(12), 108, SI_VAR(0), SI_VAR(1));
    SI_VAR(5) = f SI_ARRAY(2);
    SI_VAR(5) -= f SI_VAR(11);
    spawn {
        func_80242820_9D9840();
        SI_VAR(3) = f SI_VAR(0);
        SI_VAR(4) = f SI_VAR(1);
        SI_VAR(6) = f SI_VAR(5);
        SI_VAR(3) += f SI_VAR(10);
        SI_VAR(4) += f SI_VAR(12);
        SI_VAR(6) += f SI_VAR(11);
        SetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(6), SI_VAR(4));
    }
    func_80242790_9D97B0();
    NpcFacePlayer(0xFFFFFFFC, 0);
    SetNpcAnimation(0xFFFFFFFC, 262);
});

Script N(script_80247828) = SCRIPT({
    GetNpcPos(19, SI_VAR(10), SI_VAR(11), SI_VAR(12));
    func_80242590_9D95B0(SI_VAR(10), SI_VAR(12), 0xFFFFFFBA, SI_VAR(0), SI_VAR(1));
    spawn {
        SI_VAR(2) = 0;
        loop 60 {
            SI_VAR(3) = f SI_VAR(0);
            SI_VAR(4) = f SI_VAR(1);
            SI_VAR(3) *= f SI_VAR(2);
            SI_VAR(4) *= f SI_VAR(2);
            SI_VAR(3) /= 60;
            SI_VAR(4) /= 60;
            SI_VAR(3) += f SI_VAR(10);
            SI_VAR(4) += f SI_VAR(12);
            SetNpcPos(19, SI_VAR(3), SI_ARRAY(2), SI_VAR(4));
            SI_VAR(2) += 1;
            sleep 1;
        }
    }
    sleep 60;
    NpcFacePlayer(19, 0);
    SetNpcAnimation(19, 0xAF0001);
});

Script N(script_80247994) = SCRIPT({
    spawn N(script_80247540);
    spawn N(script_802476F0);
    await N(script_80247828);
});

Script N(script_802479C8) = SCRIPT({
    loop {
        SetPlayerAnimation(0x10028);
        sleep 20;
    }
});

Script N(script_80247A08) = SCRIPT({
    SetPlayerAnimation(0x10016);
    sleep 15;
    SetPlayerAnimation(0x10002);
});

Script N(script_80247A44) = SCRIPT({
    loop {
        SetPlayerAnimation(0x10002);
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
        sleep 1;
        SetPlayerAnimation(0x10006);
        sleep 2;
        SetPlayerAnimation(0x10007);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 3;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 2;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10008);
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFE;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SI_VAR(1) += 0xFFFFFFFD;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 1;
        SetPlayerAnimation(0x10009);
        sleep 2;
    }
    SetPlayerAnimation(0x10002);
    SetPlayerPos(SI_VAR(0), SI_ARRAY(2), SI_VAR(2));
    sleep 1;
});

Script N(script_8024858C) = SCRIPT({
    SetPlayerAnimation(0x10023);
    loop {
        sleep 1;
    }
});

Script N(script_802485CC) = SCRIPT({
    spawn {
        func_80242590_9D95B0(SI_ARRAY(1), SI_ARRAY(3), 25, SI_VAR(0), SI_VAR(1));
        SI_VAR(2) = f SI_ARRAY(1);
        SI_VAR(2) += f SI_VAR(0);
        SI_VAR(3) = f SI_ARRAY(3);
        SI_VAR(3) += f SI_VAR(1);
        SetNpcAnimation(0xFFFFFFFC, 258);
        NpcMoveTo(0xFFFFFFFC, SI_VAR(2), SI_VAR(3), 40);
        SetNpcAnimation(0xFFFFFFFC, 262);
    }
    PlayerMoveTo(SI_ARRAY(1), SI_ARRAY(3), 40);
});

Script N(script_802486A8) = SCRIPT({
    SI_VAR(1) = spawn N(script_80247A44);
    sleep 60;
    kill SI_VAR(1);
    loop 5 {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 2;
    }
    sleep 20;
    await N(script_802485CC);
});

Script N(script_80248758) = SCRIPT({
    SI_VAR(1) = spawn N(script_8024858C);
    sleep 60;
    loop 5 {
        GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        SI_VAR(1) += -1;
        SetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
        sleep 2;
    }
    sleep 20;
    kill SI_VAR(1);
    await N(script_802485CC);
});

// Unable to use DSL: DSL does not support script opcode 0x55
// *INDENT-OFF*
Script N(script_80248808) = {
    SI_CMD(ScriptOpcode_IF_GT, SI_SAVE_VAR(352), 63),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_ARRAY(1), SI_ARRAY(2), SI_ARRAY(3)),
    SI_CMD(ScriptOpcode_CALL, NpcFacePlayer, -1, 16),
    SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_VAR(352), 63),
        SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x8000A),
    SI_CMD(ScriptOpcode_ELSE),
        SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_FLAG(1767), 1),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80009),
        SI_CMD(ScriptOpcode_ELSE),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80008),
            SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1767), 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, ShowChoice, 0x1E000D),
    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, 0xAF0004, 0xAF0001, 0, 0x8000C),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_802471BC)),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1793), 1),
    SI_CMD(ScriptOpcode_CALL, func_80241A28_9D8A48),
    SI_CMD(ScriptOpcode_CALL, func_80241D3C_9D8D5C),
    SI_CMD(ScriptOpcode_SPAWN, N(script_8024726C)),
    SI_CMD(ScriptOpcode_CALL, DisablePartnerAI, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 0xFFFFFFFC, 512, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 19, 512, 0),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 0xFFFFFFFC, 328, 1),
    SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 19, 256, 1),
    SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0xFFFFFFFC, 262),
    SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_80247994), SI_VAR(1)),
    SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, 0xAF0004, 0xAF0001, 0, 0x8000B),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 137),
    SI_CMD(ScriptOpcode_LOOP, 0),
        SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
        SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
            SI_CMD(ScriptOpcode_BREAK_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_CALL, func_80242080_9D90A0),
    SI_CMD(ScriptOpcode_LOOP, 5),
        SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 1),
        SI_CMD(ScriptOpcode_CALL, SetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 2),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0x2C0000),
    SI_CMD(ScriptOpcode_ADD, SI_VAR(0), SI_SAVE_VAR(352)),
    SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0005, 0xAF0006, 0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_CALL, SetPlayerAnimation, 0x10028),
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0x2D0000),
    SI_CMD(ScriptOpcode_ADD, SI_VAR(0), SI_SAVE_VAR(352)),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 142),
    SI_CMD(ScriptOpcode_CALL, ShowChoice, SI_VAR(0)),
    SI_CMD(ScriptOpcode_KILL_SCRIPT, SI_VAR(1)),
    SI_CMD(ScriptOpcode_CALL, StopSound, 142),
    SI_CMD(ScriptOpcode_SPAWN, N(script_80247A08)),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 141),
    SI_CMD(ScriptOpcode_CALL, func_80242380_9D93A0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 0),
    SI_CMD(ScriptOpcode_CALL, func_80242974_9D9994),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 40),
    SI_CMD(ScriptOpcode_CALL, func_80241FFC_9D901C),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 110),
        SI_CMD(ScriptOpcode_CALL, CloseChoice),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 0),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 19, 0xAF0007),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 1),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, func_8024234C_9D936C, 1),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, func_8024234C_9D936C, 2),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 6),
            SI_CMD(ScriptOpcode_CALL, PlaySound, 540),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 138),
        SI_CMD(ScriptOpcode_CALL, func_80242418_9D9438),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 50),
            SI_CMD(ScriptOpcode_CALL, func_80242590_9D95B0, 0, 0, 83, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 0xFFFFFFFD),
            SI_CMD(ScriptOpcode_CALL, func_80242590_9D95B0, 0, 0, 58, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 30),
            SI_CMD(ScriptOpcode_CALL, func_80242590_9D95B0, 0, 0, 93, SI_VAR(0), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 7, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 0, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_CALL, PlayEffect, 68, 4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 1, 60, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 20),
        SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_802486A8), SI_VAR(1)),
        SI_CMD(ScriptOpcode_ADD, SI_SAVE_VAR(352), 1),
        SI_CMD(ScriptOpcode_IF_GT, SI_SAVE_VAR(352), 63),
            SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x80010),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 19, 0xAF0006),
            SI_CMD(ScriptOpcode_LOOP, 0),
                SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                    SI_CMD(ScriptOpcode_BREAK_LOOP),
                SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 19, 0xAF0005),
            SI_CMD(ScriptOpcode_SET, SI_VAR(0), 348),
            SI_CMD(ScriptOpcode_SET, SI_VAR(1), 3),
            SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_802470CC)),
            SI_CMD(ScriptOpcode_CALL, AddStarPieces, 1),
            SI_CMD(ScriptOpcode_CALL, func_8024234C_9D936C, 15),
            SI_CMD(ScriptOpcode_CALL, func_80242400_9D9420),
            SI_CMD(ScriptOpcode_CALL, SetMessageValue, SI_SAVE_VAR(352), 0),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x80011),
        SI_CMD(ScriptOpcode_ELSE),
            SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x8000E),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 19, 0xAF0006),
            SI_CMD(ScriptOpcode_LOOP, 0),
                SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                    SI_CMD(ScriptOpcode_BREAK_LOOP),
                SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 19, 0xAF0005),
            SI_CMD(ScriptOpcode_SET, SI_VAR(0), 348),
            SI_CMD(ScriptOpcode_SET, SI_VAR(1), 1),
            SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_802470CC)),
            SI_CMD(ScriptOpcode_CALL, AddStarPieces, 1),
            SI_CMD(ScriptOpcode_CALL, func_8024234C_9D936C, 15),
            SI_CMD(ScriptOpcode_CALL, func_80242400_9D9420),
            SI_CMD(ScriptOpcode_CALL, SetMessageValue, SI_SAVE_VAR(352), 0),
            SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_VAR(352), 1),
                SI_CMD(ScriptOpcode_CALL, SetMessageString, 0x8014C294, 1),
            SI_CMD(ScriptOpcode_ELSE),
                SI_CMD(ScriptOpcode_CALL, SetMessageString, 0x8014C290, 1),
            SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, -1, 0xAF0004, 0xAF0001, 0, 0x8000F),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 1),
    SI_CMD(ScriptOpcode_ELSE),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 19, 0xAF0009),
        SI_CMD(ScriptOpcode_SET, SI_ARRAY(4), 2),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 541),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 139),
        SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_80248758), SI_VAR(1)),
        SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(2), SI_VAR(3), SI_VAR(4)),
        SI_CMD(ScriptOpcode_CALL, PlayEffect, 43, 0, SI_VAR(2), SI_VAR(3), SI_VAR(4), 0, 0, 0, 0, 0, 0, 0, 0, 0),
        SI_CMD(ScriptOpcode_CALL, ContinueSpeech, -1, -1, -1, 0, 0x8000D),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 19, 0xAF000A),
        SI_CMD(ScriptOpcode_LOOP, 0),
            SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_VAR(1), SI_VAR(0)),
            SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 0),
                SI_CMD(ScriptOpcode_BREAK_LOOP),
            SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_SET, SI_VAR(0), 0),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, func_80242380_9D93A0, -1),
    SI_CMD(ScriptOpcode_CALL, EnablePartnerAI),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 30),
        SI_CMD(ScriptOpcode_CALL, PlaySound, 143),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 45),
        SI_CMD(ScriptOpcode_CALL, StopSound, 137),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_CALL, func_80242434_9D9454),
    SI_CMD(ScriptOpcode_CALL, func_80242298_9D92B8),
    SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_802471BC)),
    SI_CMD(ScriptOpcode_SPAWN, N(script_80247504)),
    SI_CMD(ScriptOpcode_CALL, func_80241E88_9D8EA8),
    SI_CMD(ScriptOpcode_CALL, func_80241A3C_9D8A5C),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1793), 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

Script N(script_80249538) = SCRIPT({
    func_80241A4C_9D8A6C();
    if (SI_VAR(0) == 0) {
        return;
    }
    SetNpcFlagBits(-1, 0x1000000, 0);
    0x802CF208(-1, 0xAF0001);
    func_80241C70_9D8C90();
});

// Unable to use DSL: DSL does not support script opcode 0x3C
Script N(script_802495AC) = {
    SI_CMD(ScriptOpcode_USE_ARRAY, 0x802549A8),
    SI_CMD(ScriptOpcode_SET, SI_SAVE_FLAG(1769), 1),
    SI_CMD(ScriptOpcode_CALL, DisablePlayerPhysics, 1),
    SI_CMD(ScriptOpcode_CALL, SetPlayerFlagBits, 0x400000, 1),
    SI_CMD(ScriptOpcode_AWAIT_SCRIPT, N(script_80248808)),
    SI_CMD(ScriptOpcode_CALL, DisablePlayerPhysics, 0),
    SI_CMD(ScriptOpcode_CALL, SetPlayerFlagBits, 0x400000, 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_8024962C) = SCRIPT({
    func_80241CBC_9D8CDC();
});

NpcAISettings N(aISettings_80249648) = {
    .moveSpeed = 0.7f,
    .moveTime = 0x1E,
    .waitTime = 0x14,
    .alertRadius = 0.0f,
    .unk_10 = 0.0f,
    .unk_14 = 0xFFFFFFFF,
    .chaseSpeed = 0.0f,
    .unk_1C = 0,
    .unk_20 = 0,
    .chaseRadius = 0.0f,
    .unk_28 = 0.0f,
    .unk_2C = 0x1,
};

Script N(script_80249678) = SCRIPT({
    DoBasicAI(N(aISettings_80249648));
});

NpcSettings N(npcSettings_80249698) = {
    .unk_00 = { 0, 0xAF, 0, 0x1 },
    .height = 0x23,
    .radius = 0x1C,
    .otherAI = &N(script_80249538),
    .onInteract = &N(script_802495AC),
    .ai = NULL,
    .onHit = NULL,
    .aux = &N(script_8024962C),
    .onDefeat = NULL,
    .flags = 0xD01,
    .unk_24 = { 0, 0, 0, 0 },
    .level = 0x63,
    .unk_2A = 0,
};

s32 unk_missing_802496C4[] = {
    0x00AF0001, 0x0023001C, N(script_80249538), N(script_802495AC), N(script_80249678), 0x00000000, N(script_8024962C), 0x00000000,
    0x00000C01, 0x00000000, 0x00630010,
};

s32 N(unk_802496F0)[] = {
    0x00000000,
};

s32 N(unk_802496F4)[] = {
    0x00000000,
};

Script N(script_802496F8) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            GetPlayerPos(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80242A00_9D9A20(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |= c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SetPlayerAnimation(0x60005);
            sleep 30;
            SetPlayerAnimation(0x10002);
            RemoveItemEntity(SI_VAR(0));
        }
    }
    func_80242C24_9D9C44(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_8024983C) = {
    SI_CMD(ScriptOpcode_CALL, func_80242C5C_9D9C7C, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_802496F8), 0x10, 0, 0x802549D0, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80242BD0_9D9BF0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_8024988C) = SCRIPT({
    SetPlayerAnimation(0x10002);
    sleep 1;
    SetPlayerAnimation(0x80007);
    sleep 20;
});

Script N(script_802498D4) = SCRIPT({
    loop {
        GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
        func_80242DE8_9D9E08(SI_VAR(3), SI_VAR(4), SI_VAR(5));
        SetItemPos(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5));
        sleep 1;
    }
});

Script N(script_80249954) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            DisablePartnerAI(0);
            GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80242DE8_9D9E08(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |= c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SI_VAR(10) = spawn N(script_802498D4);
            SetNpcAnimation(0xFFFFFFFC, 0x40002);
            GetAngleBetweenNPCs(SI_VAR(9), 0xFFFFFFFC, SI_VAR(11));
            GetNpcPos(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5));
            GetNpcPos(SI_VAR(9), SI_VAR(6), SI_VAR(7), SI_VAR(8));
            SetNpcFlagBits(0xFFFFFFFC, 256, 1);
            if (SI_VAR(11) <= 180) {
                SI_VAR(6) += 20;
            } else {
                SI_VAR(6) += 0xFFFFFFEC;
            }
            SI_VAR(7) += 10;
            SetNpcJumpscale(0xFFFFFFFC, 0.0);
            NpcJump1(0xFFFFFFFC, SI_VAR(6), SI_VAR(7), SI_VAR(8), 20);
            kill SI_VAR(10);
            RemoveItemEntity(SI_VAR(0));
            sleep 20;
            GetNpcYaw(0xFFFFFFFC, SI_VAR(10));
            SI_VAR(10) += 180;
            InterpNpcYaw(0xFFFFFFFC, SI_VAR(10), 0);
            sleep 5;
            NpcJump1(0xFFFFFFFC, SI_VAR(3), SI_VAR(4), SI_VAR(5), 20);
            SetNpcAnimation(0xFFFFFFFC, 0x40001);
            NpcFaceNpc(0xFFFFFFFC, SI_VAR(9), 0);
            sleep 5;
            SetNpcFlagBits(0xFFFFFFFC, 256, 0);
            EnablePartnerAI();
            sleep 5;
        }
    }
    func_80242C24_9D9C44(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_80249C78) = {
    SI_CMD(ScriptOpcode_SET, SI_VAR(0), SI_VAR(11)),
    SI_CMD(ScriptOpcode_SET, SI_VAR(1), SI_VAR(2)),
    SI_CMD(ScriptOpcode_CALL, func_80242C5C_9D9C7C, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_80249954), 0x10, 0, 0x802549D0, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80242BD0_9D9BF0, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_80249CE8) = SCRIPT({
    SI_VAR(12) = 0;
    if (SI_SAVE_VAR(0) < 0xFFFFFFBA) {
        return;
    }
    func_80242F74_9D9F94();
    GetCurrentPartnerID(SI_VAR(0));
    FindKeyItem(SI_VAR(5), SI_VAR(1));
    if (SI_VAR(0) == 4) {
        if (SI_VAR(1) != -1) {
            DisablePartnerAI(0);
            PlayerFaceNpc(SI_VAR(2), 0);
            sleep 1;
            GetNpcPos(SI_VAR(2), SI_VAR(13), SI_VAR(0), SI_VAR(14));
            GetNpcPos(0xFFFFFFFC, SI_VAR(13), SI_VAR(14), SI_VAR(15));
            SetNpcJumpscale(0xFFFFFFFC, 0.0);
            SI_VAR(0) += 10;
            NpcJump1(0xFFFFFFFC, SI_VAR(13), SI_VAR(0), SI_VAR(15), 10);
            SpeakToNpc(0xFFFFFFFC, 0x40006, 0x40001, 0, SI_VAR(2), SI_VAR(7));
            EnablePartnerAI();
            await N(script_80249C78);
            match SI_VAR(0) {
                == -1 {
                    DisablePartnerAI(0);
                    sleep 1;
                    SpeakToPlayer(0xFFFFFFFC, 0x40006, 0x40001, 5, SI_VAR(8));
                    EnablePartnerAI();
                    SI_VAR(12) = 1;
                } else {
                    DisablePartnerAI(0);
                    sleep 1;
                    SpeakToPlayer(0xFFFFFFFC, 0x40006, 0x40001, 5, SI_VAR(9));
                    if (SI_VAR(10) != 0) {
                        SpeakToPlayer(SI_VAR(2), SI_VAR(3), SI_VAR(4), 0, SI_VAR(10));
                    }
                    EnablePartnerAI();
                    if (SI_VAR(6) != 0) {
                        SI_VAR(0) = SI_VAR(6);
                        SI_VAR(1) = 1;
                        await N(script_802470CC);
                        AddKeyItem(SI_VAR(6));
                    }
                    SI_VAR(12) = 2;
                }
            }
        }
    }
    func_80242FB8_9D9FD8();
});

s32 N(unk_80249FE0)[] = {
    0x00000054, 0x00000000,
};

Script N(script_80249FE8) = SCRIPT({
    func_80242CF8_9D9D18(7, 0xB60008, 0xB60001, 84, 0, 0xC0097, 0xC0098, 0xC0099, 0xC009A, N(unk_80249FE0));
    await N(script_80249CE8);
});

Script N(script_8024A038) = SCRIPT({
    if (SI_VAR(12) == 2) {
        SI_VAR(0) = 348;
        SI_VAR(1) = 3;
        await N(script_802470CC);
        AddStarPieces(1);
    }
});

Script N(script_NpcAI_8024A09C) = SCRIPT({

});

Script N(script_8024A0AC) = SCRIPT({
    GetNpcYaw(SI_VAR(4), SI_VAR(1));
    SI_VAR(2) = 30;
    if (SI_VAR(1) > 151) {
        if (SI_VAR(1) <= 331) {
            SI_VAR(2) = 0xFFFFFFE2;
        }
    }
    SI_VAR(0) = 0;
    loop 15 {
        SI_VAR(0) += SI_VAR(2);
        SetNpcRotation(SI_VAR(3), 0, 0, SI_VAR(0));
        sleep 1;
    }
});

Script N(script_Interact_8024A17C) = SCRIPT({
    if (SI_SAVE_VAR(0) < 0xFFFFFFA0) {
        SI_SAVE_VAR(0) = 0xFFFFFFA0;
        ShowMessageAtScreenPos(0xC00B4, 160, 40);
        GetPlayerPos(SI_VAR(10), SI_VAR(11), SI_VAR(12));
        UseSettingsFrom(0, SI_VAR(10), SI_VAR(11), SI_VAR(12));
        SetPanTarget(0, 0, 0, 0xFFFFFF4C);
        SetCamDistance(0, 375);
        SetCamPitch(0, 17, -5.5);
        SetCamSpeed(0, 4);
        PanToTarget(0, 0, 1);
        SetGroupEnabled(86, 1);
        spawn {
            sleep 10;
            PlaySoundAt(449, 0, 0, 0, 0xFFFFFF4C);
            MakeLerp(0, 90, 15, 8);
10:
            UpdateLerp();
            RotateModel(104, SI_VAR(0), 0, 1, 0);
            sleep 1;
            if (SI_VAR(1) == 1) {
                goto 10;
            }
        }
        spawn {
            PlayerMoveTo(0xFFFFFFE7, 0xFFFFFF7E, 10);
            PlayerFaceNpc(10, 0);
        }
        spawn {
            func_80242FE4_9DA004(1);
            DisablePartnerAI(0);
            NpcMoveTo(0xFFFFFFFC, 0xFFFFFFC9, 0xFFFFFF7E, 15);
            NpcFaceNpc(0xFFFFFFFC, 10, 0);
            EnablePartnerAI();
        }
        SetNpcFlagBits(10, 256, 1);
        SetNpcPos(10, 0, 0, 0xFFFFFF31);
        SetNpcAnimation(10, 0x110003);
        sleep 35;
        SetNpcAnimation(10, 0x110007);
        spawn {
            loop 30 {
                PlayerFaceNpc(10, 0);
                sleep 1;
            }
        }
        NpcMoveTo(10, 0, 0xFFFFFF6C, 20);
        spawn {
            MakeLerp(90, 0, 30, 10);
20:
            UpdateLerp();
            RotateModel(104, SI_VAR(0), 0, 1, 0);
            sleep 1;
            if (SI_VAR(1) == 1) {
                goto 20;
            }
            PlaySoundAt(450, 0, 0, 0, 0xFFFFFF4C);
            SetGroupEnabled(86, 0);
        }
        NpcMoveTo(10, 25, 0xFFFFFF7E, 10);
        SetNpcAnimation(10, 0x110003);
        NpcFacePlayer(10, 0);
        SetNpcFlagBits(10, 256, 0);
        sleep 10;
        SpeakToPlayer(10, 0x11000D, 0x110003, 0, 0xC00B5);
        SetPlayerAnimation(0x10029);
        sleep 15;
        EndSpeech(10, 0x110009, 0x110003, 0);
        SetNpcAnimation(10, 0x11000D);
        sleep 30;
        SetNpcAnimation(10, 0x110003);
        EndSpeech(10, 0x110009, 0x110003, 0);
        AdjustCam(0, 6, 30, 225.0, 17.0, -8.5);
        sleep 5;
        SpeakToPlayer(10, 0x110009, 0x110003, 0, 0xC00B6);
        sleep 10;
        SetNpcAnimation(10, 0x11000F);
        sleep 30;
        SetNpcAnimation(10, 0x110003);
        EndSpeech(10, 0x110009, 0x110003, 0);
        AdjustCam(0, 4, 0xFFFFFFE2, 225.0, 17.0, -8.5);
        sleep 10;
        spawn {
            sleep 3;
            PlayerFaceNpc(0xFFFFFFFC, 0);
        }
        DisablePartnerAI(0);
        SpeakToPlayer(0xFFFFFFFC, 0x10008, 0x10001, 0, 0xC00B7);
        EnablePartnerAI();
        AdjustCam(0, 90.0, 0, 375.0, 17.0, -5.5);
        sleep 10;
        PlayerFaceNpc(10, 0);
        sleep 10;
        SpeakToPlayer(10, 0x110009, 0x110003, 0, 0xC00B8);
        BindNpcInteract(10, N(script_Interact_8024A17C));
        spawn {
            ResetCam(0, 3);
        }
        return;
    }
    if (SI_SAVE_VAR(0) < 0xFFFFFFA3) {
        SpeakToPlayer(10, 0x110009, 0x110003, 0, 0xC00BA);
    } else {
        SpeakToPlayer(10, 0x110009, 0x110003, 0, 0xC00BB);
    }
});

Script N(script_8024A8EC) = SCRIPT({
    await N(script_Interact_8024A17C);
});

Script N(script_8024A908) = SCRIPT({
    if (SI_SAVE_VAR(0) >= 0xFFFFFFA1) {
        return;
    }
    if (SI_MAP_FLAG(0) == 1) {
        return;
    }
    SI_MAP_FLAG(0) = 1;
    DisablePlayerInput(1);
    SpeakToPlayer(12, 0x2B000C, 0x2B0001, 0, 0xC00B9);
    DisablePlayerInput(0);
    SetNpcAnimation(12, 0x2B0002);
    GetNpcPos(12, SI_VAR(10), SI_VAR(11), SI_VAR(12));
    SI_VAR(13) = SI_VAR(10);
    SI_VAR(13) += 0xFFFFFFFB;
10:
    spawn {
        SetNpcJumpscale(11, 2);
        NpcJump0(11, SI_VAR(13), 0, SI_VAR(12), 12);
    }
    sleep 1;
    SetNpcJumpscale(12, 2);
    PlaySoundAtNpc(12, 817, 0);
    NpcJump0(12, SI_VAR(10), 0, SI_VAR(12), 12);
    IsPlayerWithin(0, 0xFFFFFE70, 130, SI_VAR(0));
    if (SI_VAR(0) == 0) {
        goto 10;
    }
    SI_SAVE_VAR(0) = 0xFFFFFFA1;
    SI_VAR(11) = 0;
    SI_VAR(12) = 0;
    SI_VAR(13) = 0xFFFFFDFE;
    SI_VAR(14) = 15;
    spawn {
        SetNpcJumpscale(11, 2);
        NpcJump0(11, SI_VAR(11), SI_VAR(12), SI_VAR(13), SI_VAR(14));
    }
    sleep 1;
    SetNpcJumpscale(12, 2);
    PlaySoundAtNpc(12, 817, 0);
    NpcJump0(12, SI_VAR(11), SI_VAR(12), SI_VAR(13), SI_VAR(14));
    SetNpcFlagBits(12, 512, 0);
    SetNpcFlagBits(11, 512, 0);
    SetNpcPos(12, 0, 0xFFFFFC18, 0);
    SetNpcPos(11, 0, 0xFFFFFC18, 0);
});

s32 N(intTable_8024AC34)[] = {
    0xFFFFFE2E, 0x00000067, 0xFFFFFE47, 0x000000D5, 0xFFFFFE7F, 0x0000011D, 0xFFFFFED2, 0x00000144,
    0xFFFFFF06, 0x000001AC, 0xFFFFFF62, 0x000001C3, 0xFFFFFFD3, 0x000001E5, 0x0000003E, 0x000001AC,
    0x000000D6, 0x000001A8, 0x00000144, 0x00000127, 0x000001A0, 0x000000C1, 0x00000125, 0x0000007B,
    0x000000B5, 0x0000003F, 0x0000005F, 0x00000039, 0xFFFFFFF2, 0x00000010, 0xFFFFFF5F, 0x00000038,
    0xFFFFFEC3, 0x00000051, 0xFFFFFE6F, 0x00000049,
};

s32 N(intTable_8024ACC4)[] = {
    0x000001A0, 0x000000C1, 0x00000144, 0x00000127, 0x000000D6, 0x000001A8, 0x0000003E, 0x000001AC,
    0xFFFFFFD3, 0x000001E5, 0xFFFFFF62, 0x000001C3, 0xFFFFFF06, 0x000001AC, 0xFFFFFED2, 0x00000144,
    0xFFFFFE7F, 0x0000011D, 0xFFFFFE47, 0x000000D5, 0xFFFFFE2E, 0x00000067, 0xFFFFFE6F, 0x00000049,
    0xFFFFFEC3, 0x00000051, 0xFFFFFF5F, 0x00000038, 0xFFFFFFF2, 0x00000010, 0x0000005F, 0x00000039,
    0x000000B5, 0x0000003F, 0x00000125, 0x0000007B,
};

// Unable to use DSL: DSL does not support script opcode 0x30
// *INDENT-OFF*
Script N(script_Idle_8024AD54) = {
    SI_CMD(ScriptOpcode_LABEL, 100),
    SI_CMD(ScriptOpcode_IF_LT, SI_SAVE_VAR(0), 0xFFFFFF9F),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 8),
        SI_CMD(ScriptOpcode_GOTO, 100),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_USE_BUFFER, N(intTable_8024AC34)),
    SI_CMD(ScriptOpcode_SET, SI_VAR(1), 200),
    SI_CMD(ScriptOpcode_BUFFER_READ_2, SI_VAR(0), SI_VAR(2)),
    SI_CMD(ScriptOpcode_CALL, SetNpcPos, 13, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
    SI_CMD(ScriptOpcode_LABEL, 0),
    SI_CMD(ScriptOpcode_USE_BUFFER, N(intTable_8024AC34)),
    SI_CMD(ScriptOpcode_LOOP, 18),
        SI_CMD(ScriptOpcode_SET, SI_VAR(1), 0),
        SI_CMD(ScriptOpcode_BUFFER_READ_2, SI_VAR(0), SI_VAR(2)),
        SI_CMD(ScriptOpcode_CALL, RandInt, 10, SI_VAR(3)),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(3), 15),
        SI_CMD(ScriptOpcode_CALL, PlaySoundAtNpc, -1, 818, 0),
        SI_CMD(ScriptOpcode_CALL, NpcJump0, 13, SI_VAR(0), SI_VAR(1), SI_VAR(2), SI_VAR(3)),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_GOTO, 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

Script N(script_NpcAI_8024AE9C) = SCRIPT({
    GetNpcPos(-1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    spawn {
        MakeItemEntity(343, SI_VAR(0), SI_VAR(1), SI_VAR(2), 3, 0);
    }
    SetNpcAnimation(-1, 0x2B0008);
    PlaySoundAtNpc(-1, 818, 0);
    NpcJump0(-1, SI_VAR(0), 0, SI_VAR(2), 25);
    SI_VAR(0) += 40;
    SI_VAR(2) += 0xFFFFFFD8;
    SetNpcAnimation(-1, 0x2B0008);
    PlaySoundAtNpc(-1, 818, 0);
    NpcJump0(-1, SI_VAR(0), 0, SI_VAR(2), 15);
    SI_VAR(0) += 30;
    SI_VAR(2) += 0xFFFFFFE2;
    SetNpcAnimation(-1, 0x2B0009);
    PlaySoundAtNpc(-1, 818, 0);
    NpcJump0(-1, SI_VAR(0), 0, SI_VAR(2), 13);
    SI_VAR(0) += 20;
    SI_VAR(2) += 0xFFFFFFEC;
    PlaySoundAtNpc(-1, 818, 0);
    NpcJump0(-1, SI_VAR(0), 0, SI_VAR(2), 11);
    SI_VAR(0) += 10;
    SI_VAR(2) += 0xFFFFFFF6;
    PlaySoundAtNpc(-1, 818, 0);
    NpcJump0(-1, SI_VAR(0), 0, SI_VAR(2), 9);
    SI_VAR(0) += 80;
    SI_VAR(2) += 0xFFFFFFB0;
    SetNpcAnimation(-1, 0x2B0003);
    PlaySoundAtNpc(-1, 818, 0);
    NpcJump0(-1, SI_VAR(0), 0, SI_VAR(2), 15);
    EnableNpcShadow(-1, 0);
    SetNpcPos(-1, 0, 0xFFFFFC18, 0);
});

Script N(script_Hit_8024B16C) = SCRIPT({
    BindNpcAI(-1, N(script_NpcAI_8024AE9C));
    SetSelfEnemyFlagBits(0x1F000000, 1);
});

// Unable to use DSL: DSL does not support script opcode 0x30
// *INDENT-OFF*
Script N(script_Idle_8024B1A4) = {
    SI_CMD(ScriptOpcode_IF_GE, SI_SAVE_VAR(0), 0xFFFFFFA4),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_LABEL, 100),
    SI_CMD(ScriptOpcode_IF_EQ, SI_AREA_FLAG(19), 0),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_GOTO, 100),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_CALL, SetNpcPos, -1, 438, 150, 155),
    SI_CMD(ScriptOpcode_CALL, PlaySoundAtNpc, -1, 819, 0),
    SI_CMD(ScriptOpcode_CALL, NpcJump0, -1, 438, 0, 150, 10),
    SI_CMD(ScriptOpcode_CALL, PlaySoundAtNpc, -1, 819, 0),
    SI_CMD(ScriptOpcode_CALL, NpcJump0, -1, 402, 0, 160, 15),
    SI_CMD(ScriptOpcode_CALL, PlaySoundAtNpc, -1, 819, 0),
    SI_CMD(ScriptOpcode_CALL, NpcJump0, -1, 384, 0, 160, 7),
    SI_CMD(ScriptOpcode_LABEL, 0),
    SI_CMD(ScriptOpcode_USE_BUFFER, N(intTable_8024ACC4)),
    SI_CMD(ScriptOpcode_LOOP, 18),
        SI_CMD(ScriptOpcode_SET, SI_VAR(1), 0),
        SI_CMD(ScriptOpcode_BUFFER_READ_2, SI_VAR(0), SI_VAR(2)),
        SI_CMD(ScriptOpcode_CALL, RandInt, 9, SI_VAR(3)),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(3), 13),
        SI_CMD(ScriptOpcode_MUL_F, SI_VAR(0), SI_FIXED(0.900390625)),
        SI_CMD(ScriptOpcode_MUL_F, SI_VAR(2), SI_FIXED(0.900390625)),
        SI_CMD(ScriptOpcode_CALL, PlaySoundAtNpc, -1, 819, 0),
        SI_CMD(ScriptOpcode_CALL, NpcJump0, -1, SI_VAR(0), SI_VAR(1), SI_VAR(2), SI_VAR(3)),
    SI_CMD(ScriptOpcode_END_LOOP),
    SI_CMD(ScriptOpcode_GOTO, 0),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

Script N(script_Hit_8024B3A8) = SCRIPT({
    BindNpcAI(-1, N(script_NpcAI_8024AE9C));
    SetSelfEnemyFlagBits(0x1F000000, 1);
});

Script N(script_Init_8024B3E0) = SCRIPT({
    BindNpcIdle(-1, N(script_Idle_8024AD54));
    BindNpcHit(-1, N(script_Hit_8024B16C));
});

Script N(script_Init_8024B418) = SCRIPT({
    BindNpcIdle(-1, N(script_Idle_8024B1A4));
    BindNpcHit(-1, N(script_Hit_8024B3A8));
});

Script N(script_Init_8024B450) = SCRIPT({
    BindNpcIdle(-1, N(script_Idle_8024B1A4));
    BindNpcHit(-1, N(script_Hit_8024B3A8));
});

Script N(script_8024B488) = SCRIPT({
    if (SI_SAVE_FLAG(572) == 1) {
        return;
    }
    SI_SAVE_FLAG(572) = 1;
    BindNpcAI(3, N(script_NpcAI_8024A09C));
    DisablePlayerInput(1);
    NpcJump0(4, 227, 0, 247, 20);
    PlaySoundAtNpc(4, 538, 0);
    PlayerFaceNpc(4, 0);
    NpcFaceNpc(3, 4, 0);
    SetNpcFlagBits(3, 256, 1);
    SI_VAR(0) += -1;
    SI_VAR(2) += -1;
    GetNpcPos(3, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetNpcAnimation(3, 0x90000B);
    NpcJump0(3, SI_VAR(0), 0, SI_VAR(2), 15);
    GetNpcPos(4, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(0) += 1;
    SI_VAR(2) += 1;
    SetNpcAnimation(3, 0x900005);
    NpcMoveTo(3, SI_VAR(0), SI_VAR(2), 15);
    SetNpcAnimation(3, 0x900001);
    GetNpcPos(3, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(0) += 1;
    SI_VAR(2) += 1;
    SI_VAR(1) += 10;
    NpcJump0(4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 10);
    PlayerFaceNpc(3, 0);
    NpcFacePlayer(3, 0);
    sleep 10;
    SetNpcAnimation(3, 0x900000);
    EnableNpcBlur(4, 1);
    GetNpcPos(3, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(0) += 1;
    SI_VAR(2) += 1;
    SI_VAR(1) += 20;
    SI_VAR(3) = 4;
    SI_VAR(4) = 3;
    spawn N(script_8024A0AC);
    InterpNpcYaw(SI_VAR(3), 60, 0);
    NpcJump0(4, SI_VAR(0), SI_VAR(1), SI_VAR(2), 30);
    SetNpcPos(4, 0, 0xFFFFFC18, 0);
    0x802CF208(3, 0x8F0002);
    SetNpcFlagBits(3, 256, 0);
    SetNpcAnimation(3, 0x8F0000);
    sleep 4;
    EnableNpcBlur(4, 1);
    SetNpcAnimation(3, 0x8F0009);
    sleep 30;
    SetNpcAnimation(3, 0x8F0002);
    SpeakToPlayer(3, 0x8F0009, 0x8F0002, 0, 0xC005E);
    DisablePlayerInput(0);
});

Script N(script_Interact_8024B8B0) = SCRIPT({
    if (SI_SAVE_FLAG(572) == 1) {
        SpeakToPlayer(3, 0x8F0007, 0x8F0002, 0, 0xC005F);
        return;
    }
    if (SI_SAVE_FLAG(571) == 0) {
        SI_SAVE_FLAG(571) = 1;
        SpeakToPlayer(3, 0x900009, 0x900002, 0, 0xC005C);
        return;
    }
    SpeakToPlayer(3, 0x900009, 0x900002, 0, 0xC005D);
});

Script N(script_Idle_8024B970) = SCRIPT({
    if (SI_SAVE_FLAG(572) == 1) {
        return;
    }
    await N(script_NpcAI_80246EA0);
});

Script N(script_Interact_8024B9AC) = SCRIPT({
    if (SI_SAVE_FLAG(570) == 1) {
        SpeakToPlayer(0, 0x8F0007, 0x8F0002, 0, 0xC0057);
        return;
    }
    suspend SI_MAP_VAR(0);
    sleep 1;
    if (SI_SAVE_FLAG(569) == 0) {
        SI_SAVE_FLAG(569) = 1;
        SpeakToPlayer(0, 0x900009, 0x900002, 0, 0xC0054);
    } else {
        SpeakToPlayer(0, 0x900009, 0x900002, 0, 0xC0055);
    }
    resume SI_MAP_VAR(0);
});

Script N(script_8024BA90) = SCRIPT({
0:
    GetNpcPos(1, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SI_VAR(2) += 1;
    SetNpcPos(2, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    sleep 1;
    goto 0;
});

Script N(script_8024BB0C) = SCRIPT({
    GetNpcPointer(1, SI_VAR(15));
    GetNpcPointer(0, SI_VAR(14));
    SI_VAR(2) = 0;
0:
    func_802430CC_9DA0EC(SI_VAR(15), SI_VAR(14));
    SI_MAP_VAR(2) = SI_VAR(0);
    if (SI_VAR(0) != 0) {
1:
        func_80243294_9DA2B4(SI_VAR(15), SI_VAR(14));
        SetNpcFlagBits(1, 256, 1);
        PlaySoundAtNpc(-1, 817, 0);
        NpcJump0(1, SI_VAR(10), 0, SI_VAR(11), SI_VAR(12));
        SetNpcFlagBits(1, 256, 0);
        func_802430CC_9DA0EC(SI_VAR(15), SI_VAR(14));
        SI_MAP_VAR(2) = SI_VAR(0);
        if (SI_VAR(0) != 0) {
            goto 1;
        }
    }
    sleep 1;
    goto 0;
});

Script N(script_8024BC84) = SCRIPT({
    group 11;
0:
    GetNpcPos(2, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    GetNpcAnimation(0, SI_VAR(15));
    SetNpcAnimation(0, 0x900006);
    NpcMoveTo(0, SI_VAR(0), SI_VAR(2), 30);
    SetNpcAnimation(0, 0x900002);
    RandInt(20, SI_VAR(0));
    if (SI_VAR(0) != 0) {
        sleep SI_VAR(0);
    }
    goto 0;
});

Script N(script_8024BD64) = SCRIPT({
0:
    NpcFaceNpc(0, 2, 0);
    sleep 5;
    goto 0;
});

Script N(script_8024BDB0) = SCRIPT({
    group 11;
    SI_VAR(3) = 0;
    SI_VAR(4) = 0;
    loop {
        func_80243214_9DA234();
        IsPlayerWithin(0xFFFFFF6A, 250, 150, SI_VAR(1));
        if (SI_VAR(1) == 1) {
            if (SI_VAR(0) == 1) {
                SI_VAR(3) = 1;
            } else {
                SI_VAR(3) = 0;
                sleep 20;
            }
        } else {
            SI_VAR(3) = 0;
        }
        if (SI_VAR(3) != SI_VAR(4)) {
            if (SI_VAR(3) == 0) {
                SI_MAP_VAR(0) = spawn N(script_8024BC84);
            } else {
                if (SI_MAP_VAR(0) != -1) {
                    kill SI_MAP_VAR(0);
                    SI_MAP_VAR(0) = -1;
                }
            }
            SI_VAR(4) = SI_VAR(3);
        }
        sleep 1;
    }
});

// Unable to use DSL: DSL does not support script opcode 0x55
// *INDENT-OFF*
Script N(script_NpcAI_8024BF3C) = {
    SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_FLAG(570), 1),
        SI_CMD(ScriptOpcode_CALL, SetNpcPos, 1, 0, 0xFFFFFC18, 0),
        SI_CMD(ScriptOpcode_CALL, SetNpcPos, 2, 0, 0xFFFFFC18, 0),
        SI_CMD(ScriptOpcode_CALL, SetNpcSpeed, 0, SI_FIXED(3.0)),
        SI_CMD(ScriptOpcode_LABEL, 5),
        SI_CMD(ScriptOpcode_CALL, GetNpcPointer, 0, SI_VAR(15)),
        SI_CMD(ScriptOpcode_CALL, func_8024351C_9DA53C, SI_VAR(15)),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0, 0x8F0006),
        SI_CMD(ScriptOpcode_CALL, NpcMoveTo, 0, SI_VAR(10), SI_VAR(11), 0),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0, 0x8F0007),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 10),
        SI_CMD(ScriptOpcode_GOTO, 5),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_8024BA90), SI_VAR(9)),
    SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_8024BB0C), SI_VAR(8)),
    SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_8024BC84), SI_MAP_VAR(0)),
    SI_CMD(ScriptOpcode_SPAWN_GET_ID, N(script_8024BDB0), SI_MAP_VAR(1)),
    SI_CMD(ScriptOpcode_LABEL, 10),
    SI_CMD(ScriptOpcode_IF_EQ, SI_SAVE_FLAG(570), 0),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_GOTO, 10),
    SI_CMD(ScriptOpcode_ELSE),
        SI_CMD(ScriptOpcode_KILL_SCRIPT, SI_VAR(9)),
        SI_CMD(ScriptOpcode_KILL_SCRIPT, SI_VAR(8)),
        SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_MAP_VAR(0), SI_VAR(0)),
        SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
            SI_CMD(ScriptOpcode_KILL_SCRIPT, SI_MAP_VAR(0)),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_SCRIPT_EXISTS, SI_MAP_VAR(1), SI_VAR(0)),
        SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(0), 1),
            SI_CMD(ScriptOpcode_KILL_SCRIPT, SI_MAP_VAR(1)),
        SI_CMD(ScriptOpcode_END_IF),
        SI_CMD(ScriptOpcode_CALL, DisablePlayerInput, 1),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 1, 256, 1),
            SI_CMD(ScriptOpcode_CALL, GetNpcPos, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 1, 0x2B0008),
            SI_CMD(ScriptOpcode_CALL, PlaySoundAtNpc, -1, 817, 0),
            SI_CMD(ScriptOpcode_CALL, NpcJump0, 1, SI_VAR(0), 0, SI_VAR(2), 25),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(0), 40),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(2), 0xFFFFFFD8),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 1, 0x2B0008),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 10),
            SI_CMD(ScriptOpcode_CALL, PlaySoundAtNpc, -1, 817, 0),
            SI_CMD(ScriptOpcode_CALL, NpcJump0, 1, SI_VAR(0), 0, SI_VAR(2), 15),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(0), 30),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 1, 0x2B0009),
            SI_CMD(ScriptOpcode_CALL, PlaySoundAtNpc, -1, 817, 0),
            SI_CMD(ScriptOpcode_CALL, NpcJump0, 1, SI_VAR(0), 0, SI_VAR(2), 13),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(0), 20),
            SI_CMD(ScriptOpcode_CALL, PlaySoundAtNpc, -1, 817, 0),
            SI_CMD(ScriptOpcode_CALL, NpcJump0, 1, SI_VAR(0), 0, SI_VAR(2), 11),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(0), 10),
            SI_CMD(ScriptOpcode_CALL, PlaySoundAtNpc, -1, 817, 0),
            SI_CMD(ScriptOpcode_CALL, NpcJump0, 1, SI_VAR(0), 0, SI_VAR(2), 9),
            SI_CMD(ScriptOpcode_ADD, SI_VAR(0), 160),
            SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 1, 0x2B0003),
            SI_CMD(ScriptOpcode_CALL, PlaySoundAtNpc, -1, 817, 0),
            SI_CMD(ScriptOpcode_CALL, NpcJump0, 1, SI_VAR(0), 0, SI_VAR(2), 15),
            SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 1, 512, 0),
            SI_CMD(ScriptOpcode_CALL, SetNpcPos, 1, 0, 0xFFFFFC18, 0),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_CALL, GetNpcPos, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_CALL, NpcJump0, 2, SI_VAR(0), 0, SI_VAR(2), 15),
        SI_CMD(ScriptOpcode_LOOP, 70),
            SI_CMD(ScriptOpcode_CALL, PlayerFaceNpc, 1, 0),
            SI_CMD(ScriptOpcode_CALL, NpcFaceNpc, 0, 1, 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_CALL, PlayerFaceNpc, 2, 0),
        SI_CMD(ScriptOpcode_CALL, NpcFaceNpc, 0, 2, 0),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, AdjustCam, 0, 4, 0, SI_FIXED(300.0), SI_FIXED(17.0), SI_FIXED(-7.0)),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_CALL, GetNpcPos, 0, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0, 0x90000B),
        SI_CMD(ScriptOpcode_CALL, NpcJump0, 0, SI_VAR(0), 0, SI_VAR(2), 15),
        SI_CMD(ScriptOpcode_CALL, GetNpcPos, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(2), 1),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0, 0x900005),
        SI_CMD(ScriptOpcode_CALL, NpcMoveTo, 0, SI_VAR(0), SI_VAR(2), 15),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0, 0x900001),
        SI_CMD(ScriptOpcode_CALL, GetNpcPos, 0, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(2), 1),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 10),
        SI_CMD(ScriptOpcode_CALL, NpcJump0, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 10),
        SI_CMD(ScriptOpcode_CALL, PlayerFaceNpc, 0, 0),
        SI_CMD(ScriptOpcode_CALL, NpcFacePlayer, 0, 0),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 10),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0, 0x900000),
        SI_CMD(ScriptOpcode_CALL, EnableNpcBlur, 2, 1),
        SI_CMD(ScriptOpcode_CALL, GetNpcPos, 0, SI_VAR(0), SI_VAR(1), SI_VAR(2)),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(0), 1),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(2), 1),
        SI_CMD(ScriptOpcode_ADD, SI_VAR(1), 20),
        SI_CMD(ScriptOpcode_SET, SI_VAR(3), 2),
        SI_CMD(ScriptOpcode_SET, SI_VAR(4), 0),
        SI_CMD(ScriptOpcode_SPAWN, N(script_8024A0AC)),
        SI_CMD(ScriptOpcode_CALL, InterpNpcYaw, SI_VAR(3), 60, 0),
        SI_CMD(ScriptOpcode_CALL, NpcJump0, 2, SI_VAR(0), SI_VAR(1), SI_VAR(2), 30),
        SI_CMD(ScriptOpcode_CALL, SetNpcPos, 2, 0, 0xFFFFFC18, 0),
        SI_CMD(ScriptOpcode_CALL, 0x802CF208, 0, 0x8F0002),
        SI_CMD(ScriptOpcode_CALL, SetNpcFlagBits, 0, 256, 0),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0, 0x8F0000),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 4),
        SI_CMD(ScriptOpcode_CALL, EnableNpcBlur, 2, 1),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0, 0x8F0009),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 30),
        SI_CMD(ScriptOpcode_CALL, SetNpcAnimation, 0, 0x8F0002),
        SI_CMD(ScriptOpcode_CALL, SpeakToPlayer, 0, 0x8F0007, 0x8F0002, 0, 0xC0056),
        SI_CMD(ScriptOpcode_SPAWN_THREAD),
            SI_CMD(ScriptOpcode_CALL, ResetCam, 0, 4),
        SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SLEEP_FRAMES, 30),
        SI_CMD(ScriptOpcode_CALL, DisablePlayerInput, 0),
        SI_CMD(ScriptOpcode_CALL, BindNpcAI, -1, N(script_NpcAI_8024BF3C)),
        SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

Script N(script_Hit_8024C830) = SCRIPT({
    GetOwnerEncounterTrigger(SI_VAR(0));
    match SI_VAR(0) {
        == 4 {
            SI_SAVE_FLAG(570) = 1;
            SetSelfEnemyFlagBits(32, 1);
        }
        == 2 {
            SI_SAVE_FLAG(570) = 1;
            SetSelfEnemyFlagBits(32, 1);
        }
    }
});

Script N(script_Init_8024C8C4) = SCRIPT({
    BindNpcIdle(-1, N(script_NpcAI_8024BF3C));
    BindNpcInteract(-1, N(script_Interact_8024B9AC));
    if (SI_SAVE_FLAG(570) == 1) {
        return;
    }
    SetNpcFlagBits(-1, 256, 1);
    0x802CF208(-1, 0x900002);
});

Script N(script_Init_8024C948) = SCRIPT({
    BindNpcHit(-1, N(script_Hit_8024C830));
    if (SI_SAVE_FLAG(570) == 1) {
        SetNpcPos(-1, 0, 0xFFFFFC18, 0);
    }
});

Script N(script_Init_8024C9A0) = SCRIPT({
    EnableNpcShadow(-1, 0);
    SetNpcAnimation(-1, 0x8F000A);
});

Script N(script_Init_8024C9D8) = SCRIPT({
    BindNpcIdle(-1, N(script_Idle_8024B970));
    BindNpcInteract(-1, N(script_Interact_8024B8B0));
    if (SI_SAVE_FLAG(572) == 0) {
        SetNpcPos(4, 150, 106, 250);
        return;
    }
    0x802CF208(3, 0x8F0002);
});

Script N(script_Init_8024CA60) = SCRIPT({
    EnableNpcShadow(-1, 0);
    SetNpcAnimation(-1, 0x8F000A);
});

Script N(script_Init_8024CA98) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFA0 {
            SetNpcPos(10, 0, 0xFFFFFC18, 0);
        }
        >= 0xFFFFFFA4 {
            BindNpcInteract(-1, N(script_Interact_8024A17C));
            SetNpcPos(10, 0, 0xFFFFFC18, 0);
            return;
        } else {
            BindNpcInteract(-1, N(script_Interact_8024A17C));
        }
    }
    0x802CF208(10, 0x110003);
});

Script N(script_Init_8024CB58) = SCRIPT({
    if (SI_SAVE_VAR(0) >= 0xFFFFFFA1) {
        SetNpcPos(12, 0, 0xFFFFFC18, 0);
        SetNpcPos(11, 0, 0xFFFFFC18, 0);
    }
});

Script N(script_Init_8024CBB8) = SCRIPT({
    EnableNpcShadow(-1, 0);
    SetNpcAnimation(-1, 0x20012);
});

Script N(script_Interact_8024CBF0) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFA4 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0057);
        }
        < 0xFFFFFFB5 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0058);
        }
        < 7 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0059);
        }
        < 89 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC005A);
        }
        >= 89 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC005B);
        }
    }
});

Script N(script_Init_8024CCF0) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024CBF0));
});

Script N(script_Interact_8024CD14) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFA4 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC005F);
        }
        < 0xFFFFFFB5 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0060);
        }
        < 7 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0061);
        }
        < 89 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0062);
        }
        >= 89 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0063);
        }
    }
});

Script N(script_Init_8024CE14) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024CD14));
});

Script N(script_8024CE38) = SCRIPT({
    SetNpcFlagBits(-1, 256, 1);
    SetNpcAnimation(-1, 0x8F0006);
    EnableNpcBlur(5, 1);
    GetNpcPointer(5, SI_VAR(15));
    func_80243754_9DA774(SI_VAR(15), 0xFFFFFF6A, 15);
    EnableNpcBlur(5, 0);
    NpcFacePlayer(-1, 0);
    SetNpcAnimation(-1, 0x8F0002);
    sleep 5;
    SetNpcFlagBits(-1, 256, 0);
});

Script N(script_Interact_8024CF14) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFA4 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0064);
            await N(script_8024CE38);
            ContinueSpeech(-1, 0x8F0007, 0x8F0002, 0, 0xC0065);
        }
        < 0xFFFFFFB5 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0066);
        }
        < 7 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0067);
        }
        < 89 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0068);
        }
        >= 89 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC0069);
        }
    }
});

Script N(script_Init_8024D040) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024CF14));
});

Script N(script_Interact_8024D064) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFA4 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC006A);
        }
        < 0xFFFFFFB5 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC006B);
        }
        < 7 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC006C);
        }
        < 89 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC006D);
        }
        >= 89 {
            SpeakToPlayer(-1, 0x8F0007, 0x8F0002, 0, 0xC006E);
        }
    }
});

Script N(script_Init_8024D164) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024D064));
});

Script N(script_8024D188) = SCRIPT({
10:
    if (SI_AREA_FLAG(16) == 0) {
        sleep 1;
        goto 10;
    }
    if (SI_AREA_FLAG(17) == 1) {
        sleep 1;
        goto 10;
    }
    SetNpcAnimation(17, 0x910003);
    sleep 10;
    SetNpcAnimation(17, 0x910001);
    sleep 3;
    GetNpcPos(17, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    PlaySoundAtNpc(17, 8214, 0);
    func_80243010_9DA030(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    sleep 30;
20:
    if (SI_AREA_FLAG(16) == 0) {
        sleep 1;
        goto 20;
    }
    if (SI_AREA_FLAG(17) == 1) {
        sleep 1;
        goto 20;
    }
    SetNpcAnimation(16, 0x910203);
    sleep 10;
    SetNpcAnimation(16, 0x910201);
    sleep 3;
    GetNpcPos(16, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    PlaySoundAtNpc(16, 8214, 0);
    func_80243010_9DA030(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    sleep 30;
    goto 10;
});

Script N(script_8024D3AC) = SCRIPT({
    if (SI_SAVE_VAR(348) == 12) {
        GetCurrentPartnerID(SI_VAR(0));
        if (SI_VAR(0) == 3) {
            SI_AREA_FLAG(17) = 1;
            SpeakToPlayer(16, 0x910204, 0x910201, 0, 0xC007B);
            SpeakToNpc(17, 0x910004, 0x910001, 0, 16, 0xC007C);
            SpeakToPlayer(16, 0x910204, 0x910201, 0, 0xC007D);
            DisablePartnerAI(0);
            SpeakToNpc(0xFFFFFFFC, 0x3000E, 0x30003, 0, 16, 0xC007E);
            EnablePartnerAI();
            SpeakToPlayer(16, 0x910204, 0x910201, 5, 0xC007F);
            SpeakToNpc(17, 0x910004, 0x910001, 0, 16, 0xC0080);
            SetNpcAnimation(16, 0x910201);
            SetNpcAnimation(17, 0x910001);
            SI_SAVE_FLAG(614) = 1;
            SI_SAVE_FLAG(1706) = 1;
        } else {
            SI_AREA_FLAG(17) = 1;
            SpeakToPlayer(16, 0x910204, 0x910201, 0, 0xC007B);
            SpeakToNpc(17, 0x910004, 0x910001, 0, 16, 0xC007C);
            SpeakToPlayer(16, 0x910204, 0x910201, 5, 0xC0081);
            SpeakToNpc(17, 0x910004, 0x910001, 0, 16, 0xC0082);
            SI_AREA_FLAG(17) = 0;
        }
    } else {
        GetCurrentPartnerID(SI_VAR(0));
        if (SI_VAR(0) == 3) {
            SI_AREA_FLAG(17) = 1;
            SpeakToNpc(17, 0x910004, 0x910001, 0, 0xFFFFFFFC, 0xC0077);
            SpeakToNpc(16, 0x910204, 0x910201, 0, 0xFFFFFFFC, 0xC0078);
            DisablePartnerAI(0);
            SpeakToNpc(0xFFFFFFFC, 0x3000E, 0x30003, 0, 16, 0xC0079);
            EnablePartnerAI();
            SpeakToPlayer(16, 0x910204, 0x910201, 5, 0xC007A);
            SI_AREA_FLAG(17) = 0;
        } else {
            SI_AREA_FLAG(17) = 1;
            SpeakToPlayer(17, 0x910004, 0x910001, 0, 0xC0073);
            SpeakToNpc(16, 0x910204, 0x910201, 0, 17, 0xC0074);
            SpeakToNpc(17, 0x910004, 0x910001, 0, 16, 0xC0075);
            SpeakToNpc(16, 0x910204, 0x910201, 0, 17, 0xC0076);
            SI_AREA_FLAG(17) = 0;
        }
    }
});

Script N(script_Interact_8024D798) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 7 {
            if (SI_AREA_FLAG(15) == 0) {
                GetCurrentPartnerID(SI_VAR(0));
                if (SI_VAR(0) == 3) {
                    SI_AREA_FLAG(15) = 1;
                    NpcFacePlayer(-1, 0);
                    NpcFaceNpc(0xFFFFFFFC, -1, 0);
                    SpeakToPlayer(-1, 0x910204, 0x910201, 0, 0xC006F);
                    DisablePartnerAI(0);
                    SpeakToPlayer(0xFFFFFFFC, 0x3000E, 0x30003, 0, 0xC0070);
                    EnablePartnerAI();
                    SpeakToPlayer(-1, 0x910204, 0x910201, 0, 0xC0071);
                } else {
                    SpeakToPlayer(-1, 0x910204, 0x910201, 0, 0xC0072);
                }
            } else {
                SpeakToPlayer(-1, 0x910204, 0x910201, 0, 0xC0072);
            }
        }
        >= 7 {
            if (SI_SAVE_FLAG(614) == 0) {
                await N(script_8024D3AC);
            } else {
                SI_AREA_FLAG(17) = 1;
                SpeakToPlayer(-1, 0x910204, 0x910201, 0, 0xC007F);
            }
        }
    }
});

Script N(script_Interact_8024D978) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 7 {
            SpeakToPlayer(-1, 0x910004, 0x910001, 0, 0xC0083);
        }
        < 89 {
            if (SI_SAVE_FLAG(614) == 0) {
                await N(script_8024D3AC);
            } else {
                SI_AREA_FLAG(17) = 1;
                SpeakToNpc(-1, 0x910004, 0x910001, 0, 16, 0xC0080);
            }
        }
        >= 89 {
            SpeakToPlayer(-1, 0x910004, 0x910001, 0, 0xC0084);
        }
    }
});

Script N(script_Interact_8024DA60) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 7 {
            SpeakToPlayer(-1, 0x910004, 0x910001, 0, 0xC0085);
        }
        < 89 {
            if (SI_SAVE_FLAG(614) == 0) {
                SpeakToPlayer(-1, 0x910004, 0x910001, 0, 0xC0086);
            } else {
                SpeakToPlayer(-1, 0x910004, 0x910001, 0, 0xC0087);
            }
        }
        >= 89 {
            SpeakToPlayer(-1, 0x910004, 0x910001, 0, 0xC0087);
        }
    }
});

Script N(script_Init_8024DB48) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024D798));
    if (SI_SAVE_VAR(0) < 0xFFFFFFB5) {
        SetNpcPos(-1, 0, 0xFFFFFC18, 0);
    }
});

Script N(script_Init_8024DBA0) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024D978));
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFB5 {
            SetNpcPos(-1, 0, 0xFFFFFC18, 0);
        }
        >= 7 {
            if (SI_SAVE_FLAG(614) == 1) {
                return;
            }
            spawn N(script_8024D188);
            SI_AREA_FLAG(17) = 0;
        }
    }
});

Script N(script_Init_8024DC48) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024DA60));
    if (SI_SAVE_VAR(0) < 0xFFFFFFB5) {
        SetNpcPos(-1, 0, 0xFFFFFC18, 0);
    }
});

s32 N(unk_8024DCA0)[] = {
    0x00000053, 0x00000000,
};

Script N(script_8024DCA8) = SCRIPT({
    SpeakToPlayer(-1, 0xB60008, 0xB60001, 0, 0xC009F);
    SI_VAR(0) = 348;
    SI_VAR(1) = 3;
    await N(script_802470CC);
    AddStarPieces(1);
    SpeakToPlayer(-1, 0xB60008, 0xB60001, 0, 0xC00A0);
    SI_SAVE_FLAG(786) = 1;
});

Script N(script_8024DD44) = SCRIPT({
    if (SI_SAVE_FLAG(786) == 1) {
        return;
    }
    FindKeyItem(83, SI_VAR(0));
    if (SI_VAR(0) == -1) {
        return;
    }
    if (SI_AREA_FLAG(21) == 0) {
        SI_AREA_FLAG(21) = 1;
        if (SI_SAVE_FLAG(785) == 0) {
            SI_SAVE_FLAG(785) = 0;
            SI_VAR(0) = 0xC009B;
        } else {
            SI_VAR(0) = 0xC009C;
        }
    } else {
        SI_VAR(0) = 0xC009C;
    }
    SpeakToPlayer(-1, 0xB60008, 0xB60001, 0, SI_VAR(0));
    SI_VAR(0) = N(unk_8024DCA0);
    SI_VAR(1) = 7;
    await N(script_8024983C);
    match SI_VAR(0) {
        >= 1 {
            await N(script_8024DCA8);
            break
        } else {
            SpeakToPlayer(-1, 0xB60008, 0xB60001, 0, 0xC009D);
            SI_VAR(0) = N(unk_8024DCA0);
            SI_VAR(1) = 7;
            await N(script_8024983C);
            match SI_VAR(0) {
                >= 1 {
                    await N(script_8024DCA8);
                } else {
                    SpeakToPlayer(-1, 0xB60008, 0xB60001, 0, 0xC009E);
                }
            }
        }
    }
});

Script N(script_Interact_8024DF60) = SCRIPT({
    SpeakToPlayer(-1, 0xB60008, 0xB60001, 0, 0xC0093);
    NpcFaceNpc(8, -1, 0);
    SpeakToPlayer(8, 0xB40004, 0xB40001, 5, 0xC0094);
    NpcFaceNpc(-1, 8, 0);
    SpeakToPlayer(-1, 0xB60008, 0xB60001, 5, 0xC0095);
    sleep 15;
    NpcFacePlayer(-1, 0);
    sleep 15;
    SpeakToPlayer(-1, 0xB60008, 0xB60001, 0, 0xC0096);
    await N(script_8024DD44);
    await N(script_80249FE8);
    await N(script_8024A038);
    if (SI_VAR(12) != 0) {
        return;
    }
});

Script N(script_Init_8024E090) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024DF60));
    if (SI_SAVE_VAR(0) >= 89) {
        return;
    }
    if (SI_SAVE_FLAG(610) == 1) {
        return;
    }
    SetNpcPos(-1, 0, 0xFFFFFC18, 0);
});

Script N(script_8024E110) = SCRIPT({
    PlaySoundAtCollider(SI_VAR(9), 449, 0);
    MakeLerp(0, 80, 15, 1);
    loop {
        UpdateLerp();
        RotateGroup(SI_VAR(10), SI_VAR(0), 0, 1, 0);
        sleep 1;
        if (SI_VAR(1) == 0) {
            break;
        }
    }
    sleep 20;
    MakeLerp(80, 0, 15, 1);
    loop {
        UpdateLerp();
        RotateGroup(SI_VAR(10), SI_VAR(0), 0, 1, 0);
        sleep 1;
        if (SI_VAR(1) == 0) {
            break;
        }
    }
    PlaySoundAtCollider(SI_VAR(9), 450, 0);
});

Script N(script_8024E26C) = SCRIPT({
    EnableModel(20, 1);
    EnableGroup(26, 1);
    EnableGroup(38, 1);
    SI_VAR(10) = 60;
    SI_VAR(9) = 39;
    spawn N(script_8024E110);
    NpcMoveTo(8, 0xFFFFFEC6, 0xFFFFFFA2, 10);
    sleep 10;
    NpcMoveTo(8, 0xFFFFFED0, 0xFFFFFF5F, 20);
    sleep 100;
    spawn N(script_8024E110);
    sleep 10;
    NpcMoveTo(8, 0xFFFFFECC, 0xFFFFFF9A, 20);
    sleep 10;
    NpcMoveTo(8, 0xFFFFFEAE, 0xFFFFFFAB, 20);
    NpcFacePlayer(8, 0);
    sleep 20;
    SetNpcAnimation(8, 0xB40001);
    EnableModel(20, 0);
    EnableGroup(26, 0);
    EnableGroup(38, 0);
});

Script N(script_8024E400) = SCRIPT({
    SI_VAR(10) = 58;
    SI_VAR(9) = 42;
    NpcMoveTo(8, 0xFFFFFEEB, 0xFFFFFF46, 20);
    spawn N(script_8024E110);
    sleep 10;
    NpcMoveTo(8, 0xFFFFFEF7, 0xFFFFFEFB, 20);
    sleep 100;
    spawn N(script_8024E110);
    sleep 10;
    NpcMoveTo(8, 0xFFFFFEEB, 0xFFFFFF46, 20);
    sleep 10;
    NpcMoveTo(8, 0xFFFFFEB8, 0xFFFFFF4C, 20);
    NpcFacePlayer(8, 0);
    sleep 20;
    SetNpcAnimation(8, 0xB40001);
});

Script N(script_8024E51C) = SCRIPT({
    SetNpcFlagBits(8, 256, 1);
    SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC0090);
    SetNpcAnimation(8, 0xB40002);
    if (SI_SAVE_VAR(0) >= 89) {
        await N(script_8024E26C);
    } else {
        if (SI_SAVE_FLAG(610) == 1) {
            await N(script_8024E26C);
        } else {
            await N(script_8024E400);
        }
    }
    SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC0091);
    SI_VAR(0) = 110;
    SI_VAR(1) = 1;
    await N(script_802470CC);
    AddKeyItem(110);
    SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC0092);
    SetNpcFlagBits(8, 256, 0);
});

Script N(script_Interact_8024E670) = SCRIPT({
    match SI_SAVE_VAR(0) {
        < 0xFFFFFFA4 {
            if (SI_SAVE_FLAG(573) == 0) {
                SI_SAVE_FLAG(573) = 1;
                SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC0088);
                return;
            }
            SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC0089);
        }
        < 0xFFFFFFB5 {
            SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC008A);
        }
        < 0xFFFFFFCB {
            SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC008B);
        }
        < 7 {
            SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC008C);
        }
        < 39 {
            SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC008D);
        }
        < 89 {
            if (SI_SAVE_FLAG(610) == 0) {
                SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC008E);
            } else {
                SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC008F);
            }
        }
        >= 89 {
            SpeakToPlayer(8, 0xB40004, 0xB40001, 0, 0xC008F);
        }
    }
    if (SI_SAVE_VAR(348) == 1) {
        if (SI_SAVE_FLAG(613) == 0) {
            SI_SAVE_FLAG(613) = 1;
            await N(script_8024988C);
            await N(script_8024E51C);
        }
    }
});

Script N(script_Init_8024E8B0) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_8024E670));
    if (SI_SAVE_VAR(0) >= 89) {
        SetNpcPos(-1, 0xFFFFFEAE, 0, 0xFFFFFFAB);
        return;
    }
    if (SI_SAVE_FLAG(610) == 1) {
        SetNpcPos(-1, 0xFFFFFEAE, 0, 0xFFFFFFAB);
        return;
    }
});

Script N(script_Init_8024E94C) = SCRIPT({
    BindNpcInteract(-1, N(script_Interact_802529BC));
    spawn N(script_80253350);
});

Script N(script_Init_8024E97C) = SCRIPT({
    SetNpcPos(-1, 0xFFFFFFE7, 10, 0xFFFFFFCE);
    SetNpcYaw(-1, 90);
});

Script N(script_Init_8024E9BC) = SCRIPT({
    SetNpcPos(-1, 25, 0, 0xFFFFFFCE);
    SetNpcYaw(-1, 270);
});

Script N(script_Init_8024E9FC) = SCRIPT({
    SetNpcPos(-1, 0xFFFFFF6A, 0, 0xFFFFFFCE);
    SetNpcYaw(-1, 90);
});

StaticNpc N(npcGroup_8024EA3C)[] = {
    {
        .id = 0,
        .settings = &N(npcSettings_80246EC0),
        .pos = { -109.0, 0.0, 191.0 },
        .flags = 0x00402D09,
        .init = N(script_Init_8024C8C4),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0xFFFFFF93, 0x00000000, 0x000000BF, 0x00000064, 0x00000000, 0xFFFF8001, 0x00000000, 0xFFFFFF93, 0x00000000, 0x000000BF, 0x000001F4, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x008F0002, 0x008F0005, 0x008F0006, 0x008F0006, 0x008F0002, 0x008F0002, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000,
        },
        .tattle = 0x1A0076,
    },
    {
        .id = 1,
        .settings = &N(npcSettings_80247044),
        .pos = { -109.0, 0.0, 191.0 },
        .flags = 0x01500D08,
        .init = N(script_Init_8024C948),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x002B0002, 0x002B0002, 0x002B0003, 0x002B0003, 0x002B0001, 0x002B0001, 0x002B0008, 0x002B0008, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003,
        },
    },
    {
        .id = 2,
        .settings = &N(npcSettings_80246FC0),
        .pos = { -109.0, 0.0, 191.0 },
        .flags = 0x00400B09,
        .init = N(script_Init_8024C9A0),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x008F0002, 0x008F0005, 0x008F0006, 0x008F0006, 0x008F0002, 0x008F0002, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000,
        },
    },
    {
        .id = 3,
        .settings = &N(npcSettings_80246F68),
        .pos = { 192.0, 0.0, 152.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024C9D8),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0x00000002, 0x000000C7, 0x00000000, 0x00000098, 0x0000006B, 0x00000000, 0x00000098, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xFFFF8001, 0x000000C0, 0x00000000, 0x00000098, 0x000001F4, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x00900002, 0x00900006, 0x00900004, 0x00900006, 0x00900004, 0x00900004, 0x00900000, 0x00900000, 0x00900000, 0x00900000, 0x00900000, 0x00900000, 0x00900000, 0x00900000, 0x00900000, 0x00900000,
        },
        .tattle = 0x1A0077,
    },
    {
        .id = 4,
        .settings = &N(npcSettings_80246FC0),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x00400B09,
        .init = N(script_Init_8024CA60),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x008F0002, 0x008F0005, 0x008F0006, 0x008F0006, 0x008F0002, 0x008F0002, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000,
        },
    },
    {
        .id = 10,
        .settings = &N(npcSettings_80246FC0),
        .pos = { 20.0, 0.0, -145.0 },
        .flags = 0x00400D09,
        .init = N(script_Init_8024CA98),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x00020003, 0x00020004, 0x00020004, 0x00020004, 0x00020004, 0x00020004, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000,
        },
        .tattle = 0x1A0074,
    },
    {
        .id = 12,
        .settings = &N(npcSettings_80247044),
        .pos = { 12.0, 10.0, -351.0 },
        .flags = 0x00400F09,
        .init = N(script_Init_8024CB58),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x002B0002, 0x002B0002, 0x002B0003, 0x002B0003, 0x002B0001, 0x002B0001, 0x002B0008, 0x002B0008, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003,
        },
    },
    {
        .id = 11,
        .settings = &N(npcSettings_80246FC0),
        .pos = { 12.0, 0.0, -351.0 },
        .flags = 0x00400F09,
        .init = N(script_Init_8024CBB8),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x00020003, 0x00020004, 0x00020004, 0x00020004, 0x00020004, 0x00020004, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000, 0x00020000,
        },
    },
};

StaticNpc N(npcGroup_8024F9BC)[] = {
    {
        .id = 13,
        .settings = &N(npcSettings_80247044),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x11700F00,
        .init = N(script_Init_8024B3E0),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x002B0002, 0x002B0002, 0x002B0003, 0x002B0003, 0x002B0001, 0x002B0001, 0x002B0008, 0x002B0008, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003,
        },
    },
};

StaticNpc N(npcGroup_8024FBAC)[] = {
    {
        .id = 14,
        .settings = &N(npcSettings_80247044),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x11700F00,
        .init = N(script_Init_8024B418),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x002B0002, 0x002B0002, 0x002B0003, 0x002B0003, 0x002B0001, 0x002B0001, 0x002B0008, 0x002B0008, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003,
        },
    },
};

StaticNpc N(npcGroup_8024FD9C)[] = {
    {
        .id = 0,
        .settings = &N(npcSettings_80246EC0),
        .pos = { -109.0, 0.0, 191.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024CCF0),
        .yaw = 0,
        .dropFlags = 0x80,
        .movement = { 0xFFFFFF84, 0x00000000, 0x000000FA, 0x00000050, 0x00000000, 0xFFFF8001, 0x00000000, 0xFFFFFFAB, 0x00000000, 0x00000104, 0x000001F4, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x008F0002, 0x008F0005, 0x008F0006, 0x008F0006, 0x008F0002, 0x008F0002, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000,
        },
        .tattle = 0x1A0076,
    },
    {
        .id = 3,
        .settings = &N(npcSettings_80246EC0),
        .pos = { 200.0, 0.0, 117.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024CE14),
        .yaw = 90,
        .dropFlags = 0x80,
        .movement = { 0x000000C8, 0x00000000, 0x00000075, 0x00000032, 0x0000001E, 0xFFFF8001, 0x00000001, 0x00000000, 0x00000000, 0x000000AA, 0x000001F4, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x008F0002, 0x008F0005, 0x008F0006, 0x008F0006, 0x008F0002, 0x008F0002, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000,
        },
        .tattle = 0x1A0077,
    },
    {
        .id = 16,
        .settings = &N(npcSettings_8024709C),
        .pos = { 0.0, 0.0, -333.0 },
        .flags = 0x00402909,
        .init = N(script_Init_8024DB48),
        .yaw = 180,
        .dropFlags = 0x80,
        .animations = {
            0x00910201, 0x00910202, 0x00910203, 0x00910203, 0x00910201, 0x00910201, 0x00910200, 0x00910200, 0x00910200, 0x00910200, 0x00910200, 0x00910200, 0x00910200, 0x00910200, 0x00910200, 0x00910200,
        },
        .tattle = 0x1A007A,
    },
    {
        .id = 17,
        .settings = &N(npcSettings_8024709C),
        .pos = { -7.0, 0.0, -285.0 },
        .flags = 0x00402909,
        .init = N(script_Init_8024DBA0),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x00910001, 0x00910002, 0x00910003, 0x00910003, 0x00910001, 0x00910001, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000,
        },
        .tattle = 0x1A007B,
    },
    {
        .id = 18,
        .settings = &N(npcSettings_8024709C),
        .pos = { 47.0, 0.0, -140.0 },
        .flags = 0x00002909,
        .init = N(script_Init_8024DC48),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00910001, 0x00910002, 0x00910003, 0x00910003, 0x00910001, 0x00910001, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000, 0x00910000,
        },
        .tattle = 0x1A007C,
    },
    {
        .id = 7,
        .settings = &N(npcSettings_80246FEC),
        .pos = { -240.0, 0.0, -70.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024E090),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x00B60001, 0x00B60004, 0x00B60006, 0x00B60006, 0x00B60001, 0x00B60001, 0x00B60001, 0x00B60001, 0x00B60001, 0x00B60001, 0x00B60001, 0x00B60001, 0x00B60001, 0x00B60001, 0x00B60001, 0x00B60001,
        },
        .tattle = 0x1A0000,
    },
};

StaticNpc N(npcGroup_8025093C)[] = {
    {
        .id = 15,
        .settings = &N(npcSettings_80247044),
        .pos = { 0.0, -1000.0, 0.0 },
        .flags = 0x11700F00,
        .init = N(script_Init_8024B450),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x002B0002, 0x002B0002, 0x002B0003, 0x002B0003, 0x002B0001, 0x002B0001, 0x002B0008, 0x002B0008, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003, 0x002B0003,
        },
    },
};

StaticNpc N(npcGroup_80250B2C)[] = {
    {
        .id = 9,
        .settings = &N(npcSettings_80247070),
        .pos = { 330.0, 0.0, -100.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024E94C),
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001, 0x00B50001,
        },
        .tattle = 0x1A0075,
    },
    {
        .id = 8,
        .settings = &N(npcSettings_80247018),
        .pos = { -328.0, 0.0, -180.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024E8B0),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x00B40001, 0x00B40002, 0x00B40003, 0x00B40003, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001,
        },
        .tattle = 0x1A0073,
    },
    {
        .id = 5,
        .settings = &N(npcSettings_80246FC0),
        .pos = { -307.0, 0.0, 97.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024D040),
        .yaw = 90,
        .dropFlags = 0x80,
        .animations = {
            0x008F0002, 0x008F0005, 0x008F0006, 0x008F0006, 0x008F0002, 0x008F0002, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000,
        },
        .tattle = 0x1A0078,
    },
    {
        .id = 6,
        .settings = &N(npcSettings_80246F68),
        .pos = { 285.0, 0.0, 223.0 },
        .flags = 0x00002D09,
        .init = N(script_Init_8024D164),
        .yaw = 270,
        .dropFlags = 0x80,
        .movement = { 0x00000002, 0x000000F0, 0x00000000, 0x000000AF, 0x0000015E, 0x00000000, 0x000000FA, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xFFFF8001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000001 },
        .animations = {
            0x008F0002, 0x008F0005, 0x008F0006, 0x008F0006, 0x008F0002, 0x008F0002, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000, 0x008F0000,
        },
        .tattle = 0x1A0079,
    },
};

StaticNpc N(npcGroup_802512EC)[] = {
    {
        .id = 0,
        .settings = &N(npcSettings_80246FC0),
        .pos = { 0.0, 0.0, 0.0 },
        .flags = 0x00000D09,
        .init = N(script_Init_8024E97C),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x00040001, 0x00040002, 0x00040003, 0x00040003, 0x00040001, 0x00040001, 0x00040000, 0x00040000, 0x00040001, 0x00040001, 0x00040001, 0x00040001, 0x00040001, 0x00040001, 0x00040001, 0x00040001,
        },
    },
    {
        .id = 1,
        .settings = &N(npcSettings_80246FC0),
        .pos = { 0.0, 0.0, 0.0 },
        .flags = 0x00000D09,
        .init = N(script_Init_8024E9BC),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x00030003, 0x00030005, 0x00030005, 0x00030005, 0x00030005, 0x00030005, 0x00030000, 0x00030000, 0x00030000, 0x00030000, 0x00030000, 0x00030000, 0x00030000, 0x00030000, 0x00030000, 0x00030000,
        },
    },
    {
        .id = 2,
        .settings = &N(npcSettings_80246FC0),
        .pos = { -328.0, 0.0, -180.0 },
        .flags = 0x00000D09,
        .init = N(script_Init_8024E9FC),
        .yaw = 0,
        .dropFlags = 0x80,
        .animations = {
            0x00B40001, 0x00B40002, 0x00B40003, 0x00B40003, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001, 0x00B40001,
        },
        .tattle = 0x1A0073,
    },
};

StaticNpc N(npcGroup_802518BC)[] = {
    {
        .id = 19,
        .settings = &N(npcSettings_80249698),
        .pos = { 300.0, 0.0, 330.0 },
        .flags = 0x00002D09,
        .unk_1C = 0x00000001,
        .unk_20 = 0x00020201,
        .yaw = 270,
        .dropFlags = 0x80,
        .animations = {
            0x00AF0001, 0x00AF0002, 0x00AF0003, 0x00AF0003, 0x00AF0001, 0x00AF0001, 0x00AF0000, 0x00AF0000, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003, 0x00AF0003,
        },
        .tattle = 0x1A0002,
    },
};

NpcGroupList N(npcGroupList_80251AAC) = {
    NPC_GROUP(N(npcGroup_8024EA3C), 0x00000000),
    NPC_GROUP(N(npcGroup_80250B2C), 0x00000000),
    NPC_GROUP(N(npcGroup_8024F9BC), 0x00000000),
    NPC_GROUP(N(npcGroup_8024FBAC), 0x00000000),
    {},
};

NpcGroupList N(npcGroupList_80251AE8) = {
    NPC_GROUP(N(npcGroup_8024FD9C), 0x00000000),
    NPC_GROUP(N(npcGroup_80250B2C), 0x00000000),
    NPC_GROUP(N(npcGroup_8025093C), 0x00000000),
    NPC_GROUP(N(npcGroup_802518BC), 0x00000000),
    {},
};

NpcGroupList N(npcGroupList_80251B24) = {
    NPC_GROUP(N(npcGroup_802512EC), 0x00000000),
    {},
};

s32 pad_011B3C[] = {
    0x00000000,
};

Script N(script_80251B40) = SCRIPT({
    DemoJoystickXY(6, 4);
    sleep 1;
    DemoJoystickXY(29, 20);
    sleep 1;
    DemoJoystickXY(64, 34);
    sleep 1;
    DemoJoystickXY(68, 41);
    sleep 1;
    DemoJoystickXY(67, 44);
    sleep 1;
    DemoJoystickXY(65, 52);
    sleep 1;
    DemoJoystickXY(63, 60);
    sleep 1;
    DemoJoystickXY(62, 65);
    sleep 1;
    DemoJoystickXY(62, 66);
    sleep 3;
    DemoJoystickXY(62, 67);
    sleep 2;
    DemoJoystickXY(61, 69);
    sleep 1;
    DemoJoystickXY(24, 79);
    sleep 1;
    DemoJoystickXY(1, 83);
    sleep 1;
    DemoJoystickXY(2, 84);
    sleep 1;
    DemoJoystickXY(2, 82);
    sleep 1;
    DemoJoystickXY(3, 43);
    sleep 1;
    DemoJoystickXY(-1, 0);
    sleep 3;
    DemoSetButtons(0x8000);
    sleep 8;
    DemoSetButtons(0);
    sleep 75;
    DemoJoystickXY(7, 2);
    sleep 1;
    DemoJoystickXY(39, 8);
    sleep 1;
    DemoJoystickXY(74, 10);
    sleep 1;
    DemoJoystickXY(74, 12);
    sleep 1;
    DemoJoystickXY(74, 19);
    sleep 1;
    DemoJoystickXY(72, 29);
    sleep 1;
    DemoJoystickXY(68, 42);
    sleep 1;
    DemoJoystickXY(65, 54);
    sleep 1;
    DemoJoystickXY(63, 62);
    sleep 1;
    DemoJoystickXY(62, 66);
    sleep 3;
    DemoJoystickXY(59, 70);
    sleep 1;
    DemoJoystickXY(53, 72);
    sleep 1;
    DemoJoystickXY(52, 73);
    sleep 1;
    DemoJoystickXY(43, 75);
    sleep 1;
    DemoJoystickXY(35, 77);
    sleep 1;
    DemoJoystickXY(33, 77);
    sleep 1;
    DemoJoystickXY(34, 77);
    sleep 3;
    DemoJoystickXY(33, 77);
    sleep 1;
    DemoJoystickXY(18, 78);
    sleep 1;
    DemoJoystickXY(11, 79);
    sleep 1;
    DemoJoystickXY(4, 32);
    sleep 1;
    DemoJoystickXY(-1, 1);
    sleep 1;
    DemoJoystickXY(-1, 0);
    sleep 1;
    DemoSetButtons(0x8000);
    sleep 6;
    DemoSetButtons(0);
    sleep 53;
    DemoJoystickXY(2, 0);
    sleep 1;
    DemoJoystickXY(11, 1);
    sleep 1;
    DemoJoystickXY(28, 5);
    sleep 1;
    DemoJoystickXY(57, 15);
    sleep 1;
    DemoJoystickXY(68, 26);
    sleep 1;
    DemoJoystickXY(69, 33);
    sleep 1;
    DemoJoystickXY(65, 51);
    sleep 1;
    DemoJoystickXY(63, 61);
    sleep 1;
    DemoJoystickXY(62, 66);
    sleep 4;
    DemoJoystickXY(61, 66);
    sleep 1;
    DemoJoystickXY(52, 68);
    sleep 1;
    DemoJoystickXY(38, 72);
    sleep 1;
    DemoJoystickXY(30, 74);
    sleep 2;
    DemoJoystickXY(27, 67);
    sleep 1;
    DemoJoystickXY(0, 0);
    sleep 10;
    if (SI_SAVE_FLAG(9) == 1) {
        return;
    }
    SI_SAVE_FLAG(9) = 1;
    GotoMapSpecial(D_802547C0_9EB7E0, 2, 2);
    sleep 110;
});

Script N(script_802522F4) = SCRIPT({
    sleep 10;
    loop {
        GetDemoState(SI_VAR(0));
        if (SI_VAR(0) == 2) {
            break;
        }
        sleep 1;
    }
    if (SI_SAVE_FLAG(9) == 1) {
        return;
    }
    SI_SAVE_FLAG(9) = 1;
    GotoMapSpecial(D_802547C0_9EB7E0, 2, 3);
    sleep 110;
});

s32 N(unk_802523B4)[] = {
    0x00000000,
};

Script N(script_802523B8) = SCRIPT({
    func_802438D0_9DA8F0();
    SI_SAVE_FLAG(9) = 0;
    spawn N(script_802522F4);
    spawn N(script_80251B40);
});

s32 pad_0123FC[] = {
    0x00000000,
};

s32 N(unk_80252400)[] = {
    0x00000000,
};

s32 N(unk_80252404)[] = {
    0x00000000,
};

Script N(script_80252408) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D6420();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveKeyItemAt(SI_VAR(1));
            GetPlayerPos(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80243A1C_9DAA3C(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            SI_VAR(0) |= c 50000;
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SetPlayerAnimation(0x60005);
            sleep 30;
            SetPlayerAnimation(0x10002);
            RemoveItemEntity(SI_VAR(0));
        }
    }
    func_80243C40_9DAC60(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_8025254C) = {
    SI_CMD(ScriptOpcode_CALL, func_80243C78_9DAC98, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_80252408), 0x10, 0, 0x80254BA0, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80243BEC_9DAC0C, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

Script N(script_8025259C) = SCRIPT({
    SI_VAR(9) = SI_VAR(1);
    0x802D663C();
    SI_VAR(10) = SI_VAR(0);
    match SI_VAR(0) {
        == 0 {}
        == -1 {}
        else {
            RemoveItemAt(SI_VAR(1));
            GetPlayerPos(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            func_80243A1C_9DAA3C(SI_VAR(3), SI_VAR(4), SI_VAR(5));
            MakeItemEntity(SI_VAR(0), SI_VAR(3), SI_VAR(4), SI_VAR(5), 1, 0);
            SetPlayerAnimation(0x60005);
            sleep 30;
            SetPlayerAnimation(0x10002);
            RemoveItemEntity(SI_VAR(0));
        }
    }
    func_80243C40_9DAC60(SI_VAR(10));
    0x802D6954();
    unbind;
});

// Unable to use DSL: DSL does not support script opcode 0x4E
Script N(script_802526D0) = {
    SI_CMD(ScriptOpcode_CALL, func_80243D14_9DAD34, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BIND_TRIGGER, N(script_8025259C), 0x10, 0, 0x80254D68, 0, 1),
    SI_CMD(ScriptOpcode_CALL, func_80243BEC_9DAC0C, SI_VAR(0)),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};

s32 N(unk_80252720)[] = {
    0x00000000,
};

Script N(script_80252724) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 0);
    return;
});

Script N(script_80252754) = SCRIPT({
    ShowGotItem(SI_VAR(0), 1, 16);
    return;
});

s32 N(dataTable_80252784)[] = {
    0x00150000, 0x00150001, 0x00150002, 0xF840622B, 0xF840622C, 0xF840622D, 0x0000006E, 0x00150003,
    0x00150004, 0x00150005, 0xF840622E, 0xF840622F, 0xF8406230, 0x0000008F, 0x00150006, 0x00150007,
    0x00150008, 0xF8406231, 0xF8406232, 0xF8406233, 0x0000005C, 0x00150009, 0x0015000A, 0x0015000B,
    0xF8406234, 0xF8406235, 0xF8406236, 0x000000C3, 0x0015000C, 0x0015000D, 0x0015000E, 0xF8406237,
    0xF8406238, 0xF8406239, 0x0000006F, 0x0015000F, 0x00150010, 0x00150011, 0xF840623A, 0xF840623B,
    0xF840623C, 0x00000070, 0x00150012, 0x00150013, 0x00150014, 0xF840623D, 0xF840623E, 0xF840623F,
    0x00000089, 0x00150015, 0x00150016, 0x00150017, 0xF8406240, 0xF8406241, 0xF8406242, 0x00000071,
    0x00150018, 0x00150019, 0x0015001A, 0xF8406243, 0xF8406244, 0xF8406245, 0x00000000, 0x0015001B,
    0x0015001C, 0x0015001D, 0xF8406246, 0xF8406247, 0xF8406248, 0x00000095, 0x0015001E, 0x0015001F,
    0x00150020, 0xF8406249, 0xF840624A, 0xF840624B, 0x000000D6, 0x00150021, 0x00150022, 0x00150023,
    0xF840624C, 0xF840624D, 0xF840624E, 0x00000000, 0x00150024, 0x00150025, 0x00150026, 0xF840624F,
    0xF8406250, 0xF8406251, 0x00000073, 0x00150027, 0x00150028, 0x00150029, 0xF8406252, 0xF8406253,
    0xF8406254, 0x000000B5, 0x0015002A, 0x0015002B, 0x0015002C, 0xF8406255, 0xF8406256, 0xF8406257,
    0x00000074, 0x0015002D, 0x0015002E, 0x0015002F, 0xF8406258, 0xF8406259, 0xF840625A, 0x0000009D,
    0x00150030, 0x00150031, 0x00150032, 0xF840625B, 0xF840625C, 0xF840625D, 0x000000D3, 0x00150033,
    0x00150034, 0x00150035, 0xF840625E, 0xF840625F, 0xF8406260, 0x00000076, 0x00150036, 0x00150037,
    0x00150038, 0xF8406261, 0xF8406262, 0xF8406263, 0x000000AC, 0x00150039, 0x0015003A, 0x0015003B,
    0xF8406264, 0xF8406265, 0xF8406266, 0x00000077,
};

s32 N(unk_802529B4)[] = {
    0x00000000, 0x00000000,
};

Script N(script_Interact_802529BC) = SCRIPT({
    0x802CF56C(1);
    if (SI_SAVE_VAR(0) < 0xFFFFFFA4) {
        SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, 0xC00A2);
        goto 90;
    }
    if (SI_SAVE_VAR(346) == 2) {
        if (SI_SAVE_FLAG(1706) == 0) {
            func_802442E0_9DB300(SI_SAVE_VAR(348));
            if (SI_VAR(0) == 0) {
                SI_VAR(0) = N(unk_802529B4);
                SI_VAR(1) = 9;
                await N(script_8025254C);
                match SI_VAR(0) {
                    == -1 {}
                    == 0 {}
                    else {
                        SI_SAVE_FLAG(1706) = 1;
                    }
                }
            } else {
                SI_VAR(0) = N(unk_802529B4);
                SI_VAR(1) = 9;
                await N(script_802526D0);
                match SI_VAR(0) {
                    == -1 {}
                    == 0 {}
                    else {
                        SI_SAVE_FLAG(1706) = 1;
                    }
                }
            }
        }
        if (SI_SAVE_FLAG(1706) == 1) {
            func_80244288_9DB2A8(SI_SAVE_VAR(348));
            SI_SAVE_VAR(347) += 1;
            func_80243EC8_9DAEE8(SI_SAVE_VAR(347));
            if (SI_VAR(0) == 0) {
                func_80244224_9DB244(SI_SAVE_VAR(348));
                SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, SI_VAR(1));
                ContinueSpeech(-1, 0xB50004, 0xB50001, 0, 0xC00B1);
                SI_VAR(0) = 343;
                SI_VAR(1) = 0;
                await N(script_80252754);
                AddCoin(1);
            } else {
                func_80244224_9DB244(SI_SAVE_VAR(348));
                SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, SI_VAR(2));
                ContinueSpeech(-1, 0xB50004, 0xB50001, 0, 0xC00B1);
                ShowGotItem(348, 1, 32);
                AddStarPieces(3);
            }
            match SI_SAVE_VAR(347) {
                == 2 {
                    SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, 0xC00B2);
                    SI_VAR(0) = 123;
                    SI_VAR(1) = 1;
                    await N(script_80252724);
                    AddKeyItem(123);
                }
                == 10 {
                    SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, 0xC00B3);
                    SI_VAR(0) = 124;
                    SI_VAR(1) = 1;
                    await N(script_80252724);
                    AddKeyItem(124);
                    FindKeyItem(123, SI_VAR(1));
                    RemoveKeyItemAt(SI_VAR(1));
                }
            }
            SI_SAVE_VAR(346) = 0;
            goto 90;
        }
        if (SI_SAVE_FLAG(1705) == 1) {
            SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, 0xC00AD);
            ShowChoice(0x1E0012);
            match SI_VAR(0) {
                == 0 {
                    ContinueSpeech(-1, 0xB50004, 0xB50001, 0, 0xC00AE);
                }
                == 1 {
                    func_80244078_9DB098(SI_SAVE_VAR(348));
                    if (SI_VAR(0) == 0) {
                        ContinueSpeech(-1, 0xB50004, 0xB50001, 0, 0xC00B0);
                        SI_SAVE_VAR(346) = 1;
                        goto 90;
                    } else {
                        ContinueSpeech(-1, 0xB50004, 0xB50001, 0, 0xC00AF);
                    }
                    goto 50;
                }
                == 2 {
                    func_80244224_9DB244(SI_SAVE_VAR(348));
                    ContinueSpeech(-1, 0xB50004, 0xB50001, 0, SI_VAR(0));
                }
            }
        } else {
            if (SI_SAVE_FLAG(1704) == 0) {
                SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, 0xC00AA);
            } else {
                SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, 0xC00AB);
            }
            ShowChoice(0x1E0010);
            if (SI_VAR(0) == 0) {
                func_80244224_9DB244(SI_SAVE_VAR(348));
                ContinueSpeech(-1, 0xB50004, 0xB50001, 0, SI_VAR(0));
                SI_SAVE_FLAG(1704) = 0;
            } else {
                ContinueSpeech(-1, 0xB50004, 0xB50001, 0, 0xC00AC);
            }
        }
        goto 90;
    }
    func_80243F10_9DAF30(SI_SAVE_VAR(348));
    if (SI_VAR(0) == 0) {
        if (SI_SAVE_VAR(0) < 89) {
            SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, 0xC00A5);
        } else {
            SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, 0xC00A6);
        }
        goto 90;
    } else {
        if (SI_SAVE_VAR(346) == 0) {
            if (SI_SAVE_FLAG(617) == 0) {
                SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, 0xC00A3);
                SI_SAVE_FLAG(617) = 1;
            } else {
                SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, 0xC00A4);
            }
        } else {
            SpeakToPlayer(-1, 0xB50004, 0xB50001, 0, 0xC00A7);
        }
    }
50:
    ShowChoice(0x1E0010);
    if (SI_VAR(0) == 0) {
        ContinueSpeech(-1, 0xB50004, 0xB50001, 0, 0xC00A9);
        func_80244224_9DB244(SI_SAVE_VAR(348));
        ContinueSpeech(-1, 0xB50004, 0xB50001, 0, SI_VAR(0));
        SI_SAVE_VAR(346) = 2;
        SI_SAVE_FLAG(1704) = 0;
        SI_SAVE_FLAG(1706) = 0;
        SI_SAVE_FLAG(1705) = 0;
    } else {
        ContinueSpeech(-1, 0xB50004, 0xB50001, 0, 0xC00A8);
        SetNpcAnimation(-1, 0xB50006);
        sleep 10;
        SetNpcAnimation(-1, 0xB50009);
        EndSpeech(-1, 0xB50008, 0xB50009, 0);
        SetNpcAnimation(-1, 0xB50007);
        sleep 10;
        SetNpcAnimation(-1, 0xB50001);
        SI_SAVE_VAR(346) = 1;
        SI_SAVE_VAR(348) = 0;
    }
90:
    EnablePartnerAI();
});

Script N(script_80253350) = SCRIPT({
    if (SI_SAVE_VAR(0) < 0xFFFFFFA4) {
        goto 80;
    }
    if (SI_SAVE_VAR(0) < 0xFFFFFFB5) {
        goto 75;
    }
    if (SI_SAVE_VAR(0) < 0xFFFFFFCB) {
        goto 70;
    }
    if (SI_SAVE_VAR(0) < 0xFFFFFFF3) {
        goto 60;
    }
    if (SI_SAVE_VAR(0) < 7) {
        goto 50;
    }
    if (SI_SAVE_VAR(0) < 41) {
        goto 40;
    }
    if (SI_SAVE_VAR(0) < 60) {
        goto 30;
    }
    SI_SAVE_FLAG(1790) = 1;
20:
    SI_SAVE_FLAG(1764) = 1;
    SI_SAVE_FLAG(1761) = 1;
    SI_SAVE_FLAG(1758) = 1;
30:
    SI_SAVE_FLAG(1755) = 1;
    SI_SAVE_FLAG(1752) = 1;
    SI_SAVE_FLAG(1749) = 1;
40:
    SI_SAVE_FLAG(1746) = 1;
    SI_SAVE_FLAG(1743) = 1;
    SI_SAVE_FLAG(1740) = 1;
50:
    SI_SAVE_FLAG(1737) = 1;
    SI_SAVE_FLAG(1734) = 1;
    SI_SAVE_FLAG(1731) = 1;
60:
    SI_SAVE_FLAG(1728) = 1;
    SI_SAVE_FLAG(1725) = 1;
    SI_SAVE_FLAG(1722) = 1;
70:
    SI_SAVE_FLAG(1719) = 1;
    SI_SAVE_FLAG(1716) = 1;
    SI_SAVE_FLAG(1713) = 1;
75:
    SI_SAVE_FLAG(1710) = 1;
    SI_SAVE_FLAG(1707) = 1;
80:
});

s32 pad_01360C[] = {
    0x00000000,
};

// Unable to use DSL: DSL does not support script opcode 0x30
// *INDENT-OFF*
Script N(script_SearchBush_80253610) = {
    SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BUFFER_READ_4, SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4)),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(5), SI_VAR(15), SI_VAR(7)),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(1), 0),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_802443D0_9DB3F0, SI_VAR(3), SI_FIXED(0.1005859375), 1, SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(3), 339, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_802443D0_9DB3F0, SI_VAR(3), SI_FIXED(0.1005859375), -1, SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(3), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(2), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(5), SI_VAR(6), SI_VAR(7)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(10), 0),
                    SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(4), SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9)),
                SI_CMD(ScriptOpcode_ELSE),
                    SI_CMD(ScriptOpcode_CALL, GetValueByRef, SI_VAR(10), SI_VAR(11)),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(11), 0),
                        SI_CMD(ScriptOpcode_CALL, SetValueByRef, SI_VAR(10), 1),
                        SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(4), SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9)),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_IF_NE, SI_VAR(4), 0),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, 0xFE363C84),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

// Unable to use DSL: DSL does not support script opcode 0x4C
// *INDENT-OFF*
Script N(script_ShakeTree_80253970) = {
    SI_CMD(ScriptOpcode_SET_TIMESCALE, SI_FIXED(2.0)),
    SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(0)),
    SI_CMD(ScriptOpcode_BUFFER_READ_4, SI_VAR(1), SI_VAR(2), SI_VAR(3), SI_VAR(4)),
    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
    SI_CMD(ScriptOpcode_CALL, GetPlayerPos, SI_VAR(6), SI_VAR(15), SI_VAR(8)),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 357),
    SI_CMD(ScriptOpcode_CALL, PlaySound, 358),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(1), 0),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_802443D0_9DB3F0, SI_VAR(3), SI_FIXED(0.1005859375), SI_FIXED(0.2001953125), SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(3), 358, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_CALL, func_802443D0_9DB3F0, SI_VAR(3), SI_FIXED(0.1005859375), SI_FIXED(-0.19921875), SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(1)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(2)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(3), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 0),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(2), 0),
            SI_CMD(ScriptOpcode_LOOP, 5),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                    SI_CMD(ScriptOpcode_CALL, func_802443D0_9DB3F0, SI_VAR(4), SI_FIXED(0.1005859375), SI_FIXED(0.2001953125), SI_VAR(15), 0),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_FLAG(0), 0),
                        SI_CMD(ScriptOpcode_SET, SI_FLAG(0), 1),
                        SI_CMD(ScriptOpcode_CALL, PlaySoundAtModel, SI_VAR(4), 357, 0),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
                SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
                SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                    SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                    SI_CMD(ScriptOpcode_CALL, func_802443D0_9DB3F0, SI_VAR(4), SI_FIXED(0.1005859375), SI_FIXED(-0.19921875), SI_VAR(15), 0),
                SI_CMD(ScriptOpcode_END_LOOP),
                SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(2)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(3)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(3)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
                SI_CMD(ScriptOpcode_CALL, TranslateModel, SI_VAR(4), 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
            SI_CMD(ScriptOpcode_SLEEP_FRAMES, 1),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(3), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(3)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(4)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(4)),
                SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(6), SI_VAR(7), SI_VAR(8)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(9), SI_VAR(10), SI_VAR(11)),
                SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(11), 0),
                    SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                SI_CMD(ScriptOpcode_ELSE),
                    SI_CMD(ScriptOpcode_CALL, GetValueByRef, SI_VAR(11), SI_VAR(12)),
                    SI_CMD(ScriptOpcode_IF_EQ, SI_VAR(12), 0),
                        SI_CMD(ScriptOpcode_CALL, SetValueByRef, SI_VAR(11), 1),
                        SI_CMD(ScriptOpcode_CALL, DropItemEntity, SI_VAR(5), SI_VAR(6), SI_VAR(7), SI_VAR(8), SI_VAR(9), SI_VAR(10)),
                    SI_CMD(ScriptOpcode_END_IF),
                SI_CMD(ScriptOpcode_END_IF),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_SPAWN_THREAD),
        SI_CMD(ScriptOpcode_IF_NE, SI_VAR(4), 0),
            SI_CMD(ScriptOpcode_USE_BUFFER, SI_VAR(4)),
            SI_CMD(ScriptOpcode_BUFFER_READ_1, SI_VAR(5)),
            SI_CMD(ScriptOpcode_LOOP, SI_VAR(5)),
                SI_CMD(ScriptOpcode_BUFFER_READ_3, SI_VAR(6), SI_VAR(7), SI_VAR(8)),
                SI_CMD(ScriptOpcode_CALL, PlayEffect, 20, 0, SI_VAR(6), SI_VAR(7), SI_VAR(8), 100, 0, 0, 0, 0, 0, 0, 0, 0),
            SI_CMD(ScriptOpcode_END_LOOP),
        SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_END_SPAWN_THREAD),
    SI_CMD(ScriptOpcode_IF_NE, SI_VAR(5), 0),
        SI_CMD(ScriptOpcode_AWAIT_SCRIPT, 0xFE363C85),
    SI_CMD(ScriptOpcode_END_IF),
    SI_CMD(ScriptOpcode_SLEEP_FRAMES, 15),
    SI_CMD(ScriptOpcode_RETURN),
    SI_CMD(ScriptOpcode_END)
};
// *INDENT-ON*

ModelIdList N(treeModelList_Bush1_Bush) = {
    .count = 0x2,
    .modelIDs = { 0xC2, 0xB5 },
};

s32 N(treeDropList_Bush1)[] = {
    0x00000001, 0x000000A6, 0xFFFFFE69, 0x00000010, 0x0000005A, 0x00000007, 0xF8405DD0, 0xFAA2B58A,
};

s32 N(searchBushEvent_Bush1)[] = {
    N(treeModelList_Bush1_Bush), N(treeDropList_Bush1), 0x00000000, 0x00000000,
};

ModelIdList N(treeModelList_Bush2_Bush) = {
    .count = 0x2,
    .modelIDs = { 0xC4, 0xB6 },
};

s32 N(searchBushEvent_Bush2)[] = {
    N(treeModelList_Bush2_Bush), 0x00000000, 0x00000000, 0x00000000,
};

ModelIdList N(treeModelList_Bush3_Bush) = {
    .count = 0x2,
    .modelIDs = { 0xC6, 0xB7 },
};

s32 N(searchBushEvent_Bush3)[] = {
    N(treeModelList_Bush3_Bush), 0x00000000, 0x00000000, 0x00000000,
};

ModelIdList N(treeModelList_Bush4_Bush) = {
    .count = 0x4,
    .modelIDs = { 0xC8, 0xB8, 0xB9, 0xBA },
};

Script N(script_80253FFC) = SCRIPT({
    EnableModel(184, 0);
    EnableModel(185, 0);
    EnableModel(186, 0);
});

Script N(script_Bush4_Callback) = SCRIPT({
    EnableModel(184, 1);
    sleep 10;
    EnableModel(186, 1);
    sleep 10;
    EnableModel(185, 1);
});

s32 N(searchBushEvent_Bush4)[] = {
    N(treeModelList_Bush4_Bush), 0x00000000, 0x00000000, N(script_Bush4_Callback),
};

ModelIdList N(treeModelList_Bush5_Bush) = {
    .count = 0x4,
    .modelIDs = { 0xCA, 0xBC, 0xBD, 0xBE },
};

Script N(script_802540D0) = SCRIPT({
    EnableModel(188, 0);
    EnableModel(189, 0);
    EnableModel(190, 0);
});

Script N(script_Bush5_Callback) = SCRIPT({
    EnableModel(188, 1);
    sleep 10;
    EnableModel(190, 1);
    sleep 10;
    EnableModel(189, 1);
});

s32 N(searchBushEvent_Bush5)[] = {
    N(treeModelList_Bush5_Bush), 0x00000000, 0x00000000, N(script_Bush5_Callback),
};

ModelIdList N(treeModelList_Bush6_Bush) = {
    .count = 0x2,
    .modelIDs = { 0xCC, 0xC0 },
};

s32 N(treeDropList_Bush6)[] = {
    0x00000001, 0x00000157, 0x00000183, 0x00000010, 0x000000CA, 0x00000007, 0xF8405DCF, 0x00000000,
};

s32 N(searchBushEvent_Bush6)[] = {
    N(treeModelList_Bush6_Bush), N(treeDropList_Bush6), 0x00000000, 0x00000000,
};

ModelIdList N(treeModelList_Tree1_Leaves) = {
    .count = 0x1,
    .modelIDs = { 0xA0 },
};

ModelIdList N(treeModelList_Tree1_Trunk) = {
    .count = 0x1,
    .modelIDs = { 0x9F },
};

Script N(script_Tree1_Callback) = SCRIPT({
    sleep 15;
    SI_AREA_FLAG(19) = 1;
});

ShakeTree N(shakeTreeEvent_Tree1) = {
    .leaves = &N(treeModelList_Tree1_Leaves),
    .trunk = &N(treeModelList_Tree1_Trunk),
    .drops = NULL,
    .effectVectors = NULL,
    .callback = &N(script_Tree1_Callback),
};

Vec4f N(triggerCoord_8025421C) =  { 443.0f, 0.0f, 68.0f, 0.0f };

Script N(script_8025422C) = SCRIPT({
    SI_VAR(0) = N(searchBushEvent_Bush1);
    bind N(script_SearchBush_80253610) to TriggerFlag_WALL_INTERACT 79;
    SI_VAR(0) = N(searchBushEvent_Bush2);
    bind N(script_SearchBush_80253610) to TriggerFlag_WALL_INTERACT 80;
    SI_VAR(0) = N(searchBushEvent_Bush3);
    bind N(script_SearchBush_80253610) to TriggerFlag_WALL_INTERACT 81;
    SI_VAR(0) = N(searchBushEvent_Bush4);
    bind N(script_SearchBush_80253610) to TriggerFlag_WALL_INTERACT 82;
    spawn N(script_80253FFC);
    SI_VAR(0) = N(searchBushEvent_Bush5);
    bind N(script_SearchBush_80253610) to TriggerFlag_WALL_INTERACT 83;
    spawn N(script_802540D0);
    SI_VAR(0) = N(searchBushEvent_Bush6);
    bind N(script_SearchBush_80253610) to TriggerFlag_WALL_INTERACT 84;
    SI_VAR(0) = N(shakeTreeEvent_Tree1);
    bind N(script_ShakeTree_80253970) to TriggerFlag_WALL_HAMMER 78;
    bind N(script_ShakeTree_80253970) to TriggerFlag_BOMB N(triggerCoord_8025421C);
});

s32 pad_0143A4[] = {
    0x00000000, 0x00000000, 0x00000000,
};

Script N(script_802543B0) = SCRIPT({
    DisablePlayerInput(1);
    DisablePlayerPhysics(1);
    GetPlayerPos(SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPlayerPos(0, 0xFFFFFC18, 0);
    UseSettingsFrom(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetPanTarget(0, SI_VAR(0), SI_VAR(1), SI_VAR(2));
    SetCamSpeed(0, 90.0);
    PanToTarget(0, 0, 1);
    sleep 50;
    SetNpcAnimation(0, 0x40006);
    sleep 15;
    SetNpcAnimation(0, 0x40001);
    sleep 15;
    SetNpcAnimation(1, 0x3000E);
    sleep 15;
    SetNpcAnimation(1, 0x30003);
    sleep 15;
    SetNpcAnimation(2, 0xB40002);
    NpcMoveTo(2, 0xFFFFFFB0, 0xFFFFFFCE, 30);
    SetNpcAnimation(2, 0xB40001);
    SetCamSpeed(0, 1.0);
    SetPanTarget(0, 0xFFFFFFCB, SI_VAR(1), SI_VAR(2));
    WaitForCam(0, 1.0);
    InterpNpcYaw(0, 270, 0);
    sleep 15;
    SetNpcAnimation(2, 0xB40004);
    sleep 45;
    FadeOutMusic(0, 1000);
    GotoMap(D_802547C8_9EB7E8, 2);
    sleep 100;
});

// rodata: D_80254600_9EB620

// rodata: D_80254608_9EB628

// rodata: D_80254610_9EB630

s32 pad_014618[] = {
    0x00000000, 0x00000000,
};

// rodata: D_80254620_9EB640

// rodata: D_80254628_9EB648

// rodata: jtbl_80254630_9EB650

// rodata: D_802547C0_9EB7E0

// rodata: D_802547C8_9EB7E8
